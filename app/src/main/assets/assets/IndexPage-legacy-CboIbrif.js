!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function r(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r=function(){return t};var n,t={},a=Object.prototype,o=a.hasOwnProperty,l=Object.defineProperty||function(e,n,t){e[n]=t.value},i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function d(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{d({},"")}catch(n){d=function(e,n,t){return e[n]=t}}function f(e,n,t,r){var a=n&&n.prototype instanceof b?n:b,o=Object.create(a.prototype),i=new P(r||[]);return l(o,"_invoke",{value:R(e,t,i)}),o}function p(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var v="suspendedStart",m="suspendedYield",g="executing",y="completed",h={};function b(){}function w(){}function x(){}var _={};d(_,u,(function(){return this}));var k=Object.getPrototypeOf,C=k&&k(k(T([])));C&&C!==a&&o.call(C,u)&&(_=C);var A=x.prototype=b.prototype=Object.create(_);function F(e){["next","throw","return"].forEach((function(n){d(e,n,(function(e){return this._invoke(n,e)}))}))}function V(n,t){function r(a,l,i,u){var s=p(n[a],n,l);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==e(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,u)}))}u(s.arg)}var a;l(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}})}function R(e,t,r){var a=v;return function(o,l){if(a===g)throw Error("Generator is already running");if(a===y){if("throw"===o)throw l;return{value:n,done:!0}}for(r.method=o,r.arg=l;;){var i=r.delegate;if(i){var u=D(i,r);if(u){if(u===h)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===v)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=g;var s=p(e,t,r);if("normal"===s.type){if(a=r.done?y:m,s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=y,r.method="throw",r.arg=s.arg)}}}function D(e,t){var r=t.method,a=e.iterator[r];if(a===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=n,D(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=p(a,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var l=o.arg;return l?l.done?(t[e.resultName]=l.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,h):l:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function E(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,l=function e(){for(;++a<t.length;)if(o.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=n,e.done=!0,e};return l.next=l}}throw new TypeError(e(t)+" is not iterable")}return w.prototype=x,l(A,"constructor",{value:x,configurable:!0}),l(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===w||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},F(V.prototype),d(V.prototype,s,(function(){return this})),t.AsyncIterator=V,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var l=new V(f(e,n,r,a),o);return t.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},F(A),d(A,c,"Generator"),d(A,u,(function(){return this})),d(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,a){return i.type="throw",i.arg=e,t.next=r,a&&(t.method="next",t.arg=n),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a],i=l.completion;if("root"===l.tryLoc)return r("end");if(l.tryLoc<=this.prev){var u=o.call(l,"catchLoc"),s=o.call(l,"finallyLoc");if(u&&s){if(this.prev<l.catchLoc)return r(l.catchLoc,!0);if(this.prev<l.finallyLoc)return r(l.finallyLoc)}else if(u){if(this.prev<l.catchLoc)return r(l.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return r(l.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var l=a?a.completion:{};return l.type=e,l.arg=n,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(l)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),h},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),E(t),h}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var a=r.arg;E(t)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),h}},t}function a(e,n,t,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void t(e)}i.done?n(u):Promise.resolve(u).then(r,a)}function o(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var l=e.apply(n,t);function i(e){a(l,r,o,i,u,"next",e)}function u(e){a(l,r,o,i,u,"throw",e)}i(void 0)}))}}System.register(["./index-legacy-B_IlPN8S.js","./@vue-legacy-DKT3hqtJ.js","./element-plus-legacy-h_V_eBA9.js","./exceljs-legacy-B2gk0yct.js","./vendor-legacy-JkP7VFYq.js","./local-legacy-Dk5dE0OK.js","./cos-js-sdk-v5-legacy-BMAW7OD5.js","./ali-oss-legacy-DIPzk0O8.js","./@element-plus-legacy-bi5OEa8d.js"],(function(e,t){"use strict";var a,l,i,u,s,c,d,f,p,v,m,g,y,h,b,w,x,_,k,C,A,F,V,R,D,S,E,P,T,M,L,z,I,U,B,O,N,j,K,Y,G,H,J,W,X,q,$,Q,Z,ee,ne,te,re,ae,oe,le,ie,ue,se,ce,de,fe,pe,ve,me,ge,ye,he,be,we,xe,_e,ke,Ce,Ae,Fe,Ve,Re,De,Se,Ee,Pe,Te,Me,Le,ze,Ie,Ue,Be,Oe,Ne,je,Ke,Ye,Ge,He,Je,We,Xe,qe,$e,Qe,Ze,en,nn,tn,rn,an,on,ln,un,sn,cn,dn,fn,pn,vn;return{setters:[function(e){a=e.u,l=e.a,i=e.b,u=e.S,s=e.P,c=e.T,d=e.f,f=e.g,p=e.d,v=e.p,m=e.c,g=e.i,y=e.e,h=e.h,b=e._,w=e.j,x=e.k,_=e.l,k=e.m,C=e.n,A=e.o,F=e.q,V=e.M,R=e.r,D=e.s,S=e.t,E=e.v,P=e.w,T=e.x,M=e.y,L=e.z,z=e.A,I=e.B,U=e.C,B=e.D,O=e.E,N=e.F},function(e){j=e.d,K=e.p,Y=e.r,G=e.t,H=e.o,J=e.c,W=e.a,X=e.O,q=e.F,$=e.K,Q=e.u,Z=e.E,ee=e.L,ne=e.M,te=e.a5,re=e.v,ae=e.W,oe=e.at,le=e.au,ie=e.S,ue=e.J,se=e.av,ce=e.n,de=e.ab,fe=e.a7,pe=e._,ve=e.a6,me=e.H,ge=e.X,ye=e.G,he=e.P},function(e){be=e.E,we=e.b,xe=e.k,_e=e.l,ke=e.c,Ce=e.m,Ae=e.n,Fe=e.e,Ve=e.f,Re=e.d,De=e.o,Se=e.p,Ee=e.i,Pe=e.q,Te=e.r,Me=e.s,Le=e.t,ze=e.u,Ie=e.w,Ue=e.x,Be=e.y,Oe=e.g,Ne=e.h,je=e.a,Ke=e.A,Ye=e.B,Ge=e.C,He=e.D,Je=e.F,We=e.G,Xe=e.H,qe=e.I,$e=e.J,Qe=e.K,Ze=e.L,en=e.M,nn=e.N,tn=e.O,rn=e.P,an=e.Q,on=e.R},function(e){ln=e.E},function(e){un=e.M,sn=e.W,cn=e.X},function(e){dn=e._,fn=e.a,pn=e.b,vn=e.c},null,null,null],execute:function(){var mn=document.createElement("style");mn.textContent=".table-label[data-v-3f214471]{margin:3px;cursor:default}.password-length-tip[data-v-0a425e2f]{position:absolute;bottom:0;left:0;margin:10px}.support-ul[data-v-6224ddc6]{padding-left:18px}.support-ul li[data-v-6224ddc6]{list-style:none;line-height:25px}.support-icon[data-v-6224ddc6]{margin-right:5px;font-size:110%}.login-info .copy-btn[data-v-38d79d64]:hover{color:#409eff!important}.login-type-image[data-v-38d79d64]{position:relative;top:4px;margin-right:13px}[data-v-8280f6d4] .el-tabs__item{padding:0 15px 0 5px}.icon-setting[data-v-8280f6d4]{font-size:110%;color:#409eff;margin-right:5px}.el-alert[data-v-8280f6d4]{padding:2px 10px;margin-top:10px}.function-div[data-v-8280f6d4]{padding:0 15px 0 5px;margin-bottom:25px}.function-header[data-v-8280f6d4]{display:flex;justify-content:space-between}.function-line[data-v-8280f6d4]{margin-top:3px;margin-bottom:3px}.password-strength[data-v-8280f6d4]{width:14px;height:14px;border-radius:50%;display:inline-block;margin:0 2px;position:relative;top:2px}.action-icon[data-v-8280f6d4]{margin-right:5px}.icon-verify[data-v-9b8fe49a],.icon-recovery[data-v-9482f0e7]{font-size:110%;color:#409eff;margin-right:5px}.recovery-type[data-v-9482f0e7]{height:300px;width:100%;border-radius:5px;text-align:center}.icon-div[data-v-9482f0e7]{padding-top:20px;margin-bottom:20px}.recovery-merge[data-v-9482f0e7]{background-color:#c6e2ff;cursor:pointer}.recovery-merge[data-v-9482f0e7]:hover{background-color:#a5d2ff}.recovery-cover[data-v-9482f0e7]{background-color:#fcd3d3;cursor:pointer}.recovery-cover[data-v-9482f0e7]:hover{background-color:#ffbfbf}.icon-merge[data-v-9482f0e7]{color:#409eff;font-size:130px}.icon-cover[data-v-9482f0e7]{color:#f56c6c;font-size:130px}.recovery-col[data-v-9482f0e7]{padding:15px}.recovery-text[data-v-9482f0e7]{font-size:25px}.icon-recycle-bin[data-v-5a99a1a1]{font-size:110%;color:#e6a23c;margin-right:5px}.not-enabled-recycle-bin-icon[data-v-5a99a1a1]{font-size:130px;color:#ccc}.recycle-bin[data-v-5a99a1a1]{min-height:400px}.favorite-tag[data-v-d2daeb2c]{margin:5px;cursor:pointer;user-select:none}.empty-favorite[data-v-d2daeb2c]{color:#999;text-align:center;font-size:14px}.cancel-favorite[data-v-d2daeb2c]{color:#0093ff;margin-right:5px;font-size:130%}[data-v-01ae4433] .el-drawer__header{margin-bottom:0}.label-content[data-v-34171d03]{width:100%}.more-item[data-v-34171d03]{margin-right:10px}[data-v-ef6771b1] .el-drawer__header{margin-bottom:0}.refresh-password[data-v-ffce58f2]:hover{color:red!important}.random-dice[data-v-ffce58f2]{animation:rotate-ffce58f2 .7s}@keyframes rotate-ffce58f2{0%{transform:rotate(0) scale(1.5);color:red}20%{color:#af0}40%{color:#00ff9d}60%{color:#0048ff}80%{color:#d0f}to{transform:rotate(360deg) scale(1);color:red}}.icon-dice[data-v-ffce58f2]{font-size:120%}.generate-card[data-v-ffce58f2]{width:100%}.generate-use-type-div[data-v-ffce58f2],.generate-length-div[data-v-ffce58f2]{margin-top:15px}.generate-input-div[data-v-ffce58f2]{display:flex}.generate-input[data-v-ffce58f2]{margin-right:15px}.generate-type-checkbox[data-v-ffce58f2]{margin:5px;flex-wrap:wrap;flex:1}.bg-color-item[data-v-ffce58f2]{width:25px;height:25px;border-radius:15%;margin:5px 10px;transition:all .2s;color:#fff;text-align:center;line-height:25px}.icon-risk[data-v-99bcdadf]{color:#f56c6c;margin-right:5px;font-size:110%}.favorite-card[data-v-287aa2e9]{margin:10px 10px 10px 0;backdrop-filter:blur(50px)}.filter-icon[data-v-287aa2e9]{margin-left:5px;font-size:115%;color:#409eff;cursor:pointer}[data-v-287aa2e9] .el-card__body{padding:14px 16px}.label-card[data-v-0498bcba]{margin:10px 10px 10px 0;backdrop-filter:blur(50px)}.filter-icon[data-v-0498bcba]{margin-left:5px;font-size:115%;color:#409eff;cursor:pointer}[data-v-0498bcba] .el-card__body{padding:14px 16px}.empty-list-div[data-v-64ac58fd]{display:flex;width:100%;justify-content:center;height:80vh;align-items:center;text-align:center}.status-tip[data-v-64ac58fd]{color:#888;margin-top:30px}.icon-lock-close[data-v-64ac58fd]{font-size:200px;color:#dcdfe6}.password-card[data-v-7988a419]{margin:6px;display:flex;flex-direction:column;height:calc(100% - 12px);background-color:rgba(255,255,255,.6)}.password-strength[data-v-7988a419]{border-radius:50%;width:14px;height:14px;float:left;margin-right:10px;position:relative;top:6px}.card-opt-icon[data-v-7988a419]{font-size:140%}.card-label[data-v-7988a419]{margin:0 10px 5px 0}.password-field-ul[data-v-7988a419]{padding:0;margin:0}.password-field-ul li[data-v-7988a419]{list-style:none;margin-bottom:10px}.password-field-ul li[data-v-7988a419]:last-child{margin-bottom:0}.password-field-name[data-v-7988a419]{width:55px;text-align:right;float:left;font-size:15px;color:#909399}.password-field-value[data-v-7988a419]{float:left;margin-left:15px;font-size:15px;word-break:break-all}.copy-username[data-v-7988a419]{margin-left:10px}.card-password-span[data-v-7988a419]{word-wrap:break-word;word-break:normal}.password-card-icon[data-v-7988a419],.copy-username[data-v-7988a419]{cursor:pointer;padding:5px;border-radius:5px;font-size:16px}.password-card-icon[data-v-7988a419]:hover,.copy-username[data-v-7988a419]:hover{background-color:rgba(200,200,200,.3);color:#409eff}.password-header-div[data-v-7988a419]{display:flex;justify-content:space-between;padding:12px 16px}.clear[data-v-7988a419]{clear:both}.password-card-icon.icon-hide[data-v-7988a419]{font-size:118%;margin-left:5px}.password-card-icon.icon-show[data-v-7988a419]{font-size:120%;margin-left:5px}.card-opt-icon.icon-delete[data-v-7988a419]{font-size:150%}.empty-card[data-v-7988a419]{display:flex;height:100%;justify-content:center}[data-v-7988a419] .password-card .el-card__body,[data-v-7988a419] .password-card .el-card__footer{padding:14px 16px}[data-v-7988a419] .password-card .el-card__header{padding:0;border-bottom:0}.password-card-table[data-v-6ce79486]{padding:13px}.password-row-icon[data-v-6ce79486]{margin-left:3px;cursor:pointer;padding:5px;border-radius:5px;font-size:16px;line-height:34px;height:34px}.password-row-icon[data-v-6ce79486]:hover{background-color:rgba(200,200,200,.3);color:#409eff}.icon-hide[data-v-6ce79486],.icon-show[data-v-6ce79486]{font-size:20px;position:relative;top:2px}.password-strength[data-v-6ce79486]{border-radius:50%;width:13px;height:13px}.copy-username[data-v-6ce79486]{margin-left:10px}.username-div[data-v-6ce79486],.table-password-div[data-v-6ce79486]{display:flex;justify-content:space-between}.username-text[data-v-6ce79486]{width:130px}.table-password-span[data-v-6ce79486]{line-height:36px;word-wrap:break-word;word-break:normal}.table-password-symbol[data-v-6ce79486]{line-height:36px}.table-opt-icon[data-v-6ce79486]{font-size:130%}.table-label[data-v-6ce79486]{margin:3px;cursor:default}.address-link[data-v-6ce79486]{max-width:100%}[data-v-6ce79486] .address-link .el-link__inner{min-width:0;display:block}.password-count[data-v-e8aac54b]{font-weight:700}.search-input[data-v-e8aac54b]{height:32px}.search-btn[data-v-e8aac54b]:hover{color:#fff!important;border-radius:0 4px 4px 0!important;background-color:#6eb5ff!important}.search-btn[data-v-e8aac54b]:active{color:#fff!important;border-radius:0 4px 4px 0!important;background-color:#409eff!important}[data-v-e8aac54b] .search-input{max-width:360px;min-width:150px;width:22vw}.clear-history[data-v-e8aac54b]:hover{color:#f56c6c;padding:0}.clear-history-text[data-v-e8aac54b]{font-size:90%}.password-card-header[data-v-e8aac54b]{display:flex;padding:13px;justify-content:space-between}.password-title[data-v-e8aac54b]{font-size:17px;line-height:34px}.menu-item[data-v-e8aac54b]{margin-right:10px}.search-input-icon[data-v-e8aac54b]{font-size:120%}.add-password-btn[data-v-e8aac54b]{margin-left:10px}.lock-btn[data-v-e8aac54b],.unlock-btn[data-v-e8aac54b],.table-btn[data-v-e8aac54b],.card-btn[data-v-e8aac54b]{margin-left:10px;color:#666}.menu-btn[data-v-e8aac54b]{margin-left:10px}.password-head-body-line[data-v-e8aac54b]{margin-top:0;margin-bottom:0}.contextmenu-div[data-v-08ca74c8]{position:absolute;z-index:999;width:150px}#contextmenu-ul[data-v-08ca74c8]{padding:0;margin:0}#contextmenu-ul li[data-v-08ca74c8]{list-style:none;padding:10px 15px;cursor:pointer;color:#606266;font-size:14px;margin:0}#contextmenu-ul li .iconfont[data-v-08ca74c8]{margin-right:6px}#contextmenu-ul li[data-v-08ca74c8]:hover{background-color:#ecf5ff;color:#409eff}[data-v-08ca74c8] .el-card__body{padding:0!important}.password-card-body{padding:0}.password-body-row[data-v-51c9399f]{margin-top:0}.password-card[data-v-51c9399f]{margin:10px;height:calc(100vh - 24px);background-color:rgba(255,255,255,.4);backdrop-filter:blur(50px)}\n",document.head.appendChild(mn);var gn=j({__name:"ShortcutKey",setup:function(e){var n=a(),t=l(),r=i(),o=function(e){var a;r.setting.enableShortcutKey&&(e.ctrlKey&&"F"===e.key.toUpperCase()?(e.preventDefault(),null===(a=t.searchInputRef)||void 0===a||a.focus()):e.altKey&&"N"===e.key.toUpperCase()?(e.preventDefault(),t.passwordFormRef.addPasswordForm()):e.altKey&&"L"===e.key.toUpperCase()?(e.preventDefault(),n.serviceStatus===u.LOGGED?t.verifyPasswordRef.verifyAndUnlock():n.passwordManager.lock()):e.altKey&&"V"===e.key.toUpperCase()?(e.preventDefault(),r.setting.passwordDisplayMode===s.CARD?d(s.TABLE):d(s.CARD)):e.altKey&&"T"===e.key.toUpperCase()&&(e.preventDefault(),n.isDark?f(c.LIGHT):f(c.DARK)))},d=function(e){r.setting.passwordDisplayMode=e,n.passwordManager.syncSetting()},f=function(e){n.setTopicMode(e)};return K((function(){document.addEventListener("keydown",o)})),Y((function(){document.removeEventListener("keydown",o)})),function(e,n){return null}}}),yn=function(e){return oe("data-v-3f214471"),e=e(),le(),e},hn=yn((function(){return W("span",{class:"iconfont icon-info",style:{color:"#409EFF","font-size":"16px"}},null,-1)})),bn=yn((function(){return W("span",{class:"iconfont icon-info",style:{color:"#ff9600","font-size":"16px"}},null,-1)})),wn=j({__name:"ImportExcel",setup:function(e,n){var t=n.expose,i=a(),u=l(),s=G(),c=G(),b=G(!1),w=G([]),x=G([]),_=function(){var e=o(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.value=[],x.value=[],s.value.value="",s.value.click();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=o(r().mark((function e(n){var t,a,o,l,i,u,s,d,f,p,h,_,k,F,V,R,D,S,E,P,T;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new ln.Workbook,e.next=3,t.xlsx.load(n);case 3:if(a=t.getWorksheet(1)){e.next=7;break}return be.error("导入失败，没有找到Sheet页"),e.abrupt("return");case 7:if(o=a.getRow(1)){e.next=11;break}return be.error("导入失败，文件中未找到密码数据"),e.abrupt("return");case 11:if((l=o.values)&&!(a.rowCount<2)){e.next=15;break}return be.error("导入失败，文件中未找到密码数据"),e.abrupt("return");case 15:if((i={id:l.indexOf("id"),title:l.indexOf("名称"),address:l.indexOf("地址"),username:l.indexOf("用户名"),password:l.indexOf("密码"),remark:l.indexOf("备注"),addTime:l.indexOf("创建时间"),favorite:l.indexOf("收藏"),labels:l.indexOf("标签")}).title){e.next=19;break}return be.error("导入失败，未找到密码名称列"),e.abrupt("return");case 19:u=2;case 20:if(!(u<=a.rowCount)){e.next=42;break}if(s=a.getRow(u),d=s.getCell(i.title)){e.next=25;break}return e.abrupt("continue",39);case 25:f=-1!==i.id?s.getCell(i.id):null,p=-1!==i.address?s.getCell(i.address):null,h=-1!==i.username?s.getCell(i.username):null,_=-1!==i.password?s.getCell(i.password):null,k=-1!==i.remark?s.getCell(i.remark):null,F=-1!==i.addTime?s.getCell(i.addTime):null,V=-1!==i.labels?s.getCell(i.labels):null,R=-1!==i.favorite?s.getCell(i.favorite):null,D=R&&"是"===R.value,S=[],V&&V.value&&(E=v(V.value),A(x.value,E),C(E,S)),P=F&&F.value?m(F.value,"YYYY-MM-DD HH:mm:ss"):new Date,T={id:f?f.value:g(),title:d?d.value:"",address:p?p.value:"",username:h?h.value:"",password:_?_.value:"",remark:k?k.value:"",addTime:P.getTime(),updateTime:Date.now(),deleteTime:0,favoriteTime:D?Date.now():0,favorite:D,customFields:{},labels:S,status:y.NORMAL,bgColor:""},w.value.push(T);case 39:u++,e.next=20;break;case 42:if(!w.value.length&&!x.value.length){e.next=48;break}return b.value=!0,e.next=46,ae((function(){c.value.toggleAllSelection()}));case 46:e.next=49;break;case 48:be.warning("没有可导入的密码");case 49:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),C=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.forEach((function(n){n.children&&0!==n.children.length?e(n.children,t):t.push(n.id)})),t},A=function e(n,t){for(var r=function(){var r=t[a],o=n.find((function(e){return e.name===r.name}));if(!o)return n.push(r),1;r.id=o.id,e(o.children,r.children)},a=0;a<t.length;a++)r()},F=function(){c.value.getSelectionRows().length?u.verifyPasswordRef.getAndVerify((function(e){return i.passwordManager.verifyPassword(e)})).then((function(){V()})):we.warning("请选择要导入的密码")},V=function(){try{i.loading("正在导入...");var e=c.value.getSelectionRows().map((function(e){return e.id})),n=w.value.filter((function(n){return e.includes(n.id)}));R(i.allPasswordArray,n),D(i.labelArray,x.value),i.passwordManager.syncStoreData(),b.value=!1,w.value=[],x.value=[],i.unloading(),be.success("导入成功")}catch(t){i.unloading(),be.error("导入失败")}},R=function(e,n){n.forEach((function(n){var t=e.find((function(e){return h(e,n)}));if(t){if(t.status=y.NORMAL,n.labels){var r=new Set(t.labels);n.labels.forEach((function(e){r.has(e)||t.labels.push(e)}))}}else e.push(n)}))},D=function e(n,t){var r=new Map(n.map((function(e){return[e.name,e]})));t.forEach((function(t){var a=r.get(t.name);a?(S(i.allPasswordArray,t.id,a.id),e(a.children,t.children)):(n.push(t),r.set(t.name,t))}))},S=function(e,n,t){e.forEach((function(e){e.labels=e.labels.map((function(e){return e===n?t:e}))}))},E=function(e){return!i.passwordArray.find((function(n){return h(n,e)}))},P=function(){return!c.value||!c.value.getSelectionRows().length};return t({importExcel:_}),function(e,n){var t=xe,r=_e,a=ke,o=Ce,l=Ae,i=Fe,u=Ve;return H(),J(ne,null,[W("input",{type:"file",style:{display:"none"},ref_key:"fileInput",ref:s,onChange:n[0]||(n[0]=function(e){return function(){var e=s.value.files;if(e.length){var n=new FileReader;n.onload=function(){var e=un.Buffer.from(n.result);try{k(e)}catch(t){be.error("密码导入失败")}},n.onerror=function(e){be.error("读取文件失败")},n.readAsArrayBuffer(e[0])}}()}),accept:".xlsx"},null,544),X(u,{top:"10vh",width:["xs","sm","md"].includes(Q(p)().value)?"95%":"80%",title:"导入信息确认",modelValue:Q(b),"onUpdate:modelValue":n[1]||(n[1]=function(e){return re(b)?b.value=e:null})},{footer:q((function(){return[X(r,{content:"请选择要导入的密码",placement:"top",disabled:!P()},{default:q((function(){return[X(i,{type:"primary",onClick:F,disabled:P()},{default:q((function(){return[$("确认导入")]})),_:1},8,["disabled"])]})),_:1},8,["disabled"])]})),default:q((function(){return[X(l,{ref_key:"passwordTableRef",ref:c,data:Q(w),height:"65vh"},{default:q((function(){return[X(t,{type:"selection",selectable:E,width:"55"}),X(t,{width:"55"},{default:q((function(e){return[E(e.row)?(H(),Z(r,{key:0,content:"可导入",placement:"top"},{default:q((function(){return[hn]})),_:1})):(H(),Z(r,{key:1,content:"已存在密码不可导入",placement:"top"},{default:q((function(){return[bn]})),_:1}))]})),_:1}),X(t,{label:"名称","min-width":"100px",prop:"title"}),X(t,{label:"地址","min-width":"150px",prop:"address"}),X(t,{label:"用户名","min-width":"100px",prop:"username"}),X(t,{label:"密码",width:"180px",prop:"password"},{default:q((function(e){return[X(a,{truncated:"","line-clamp":"3"},{default:q((function(){return[$(ee(e.row.password),1)]})),_:2},1024)]})),_:1}),X(t,{label:"创建时间","min-width":"150px",formatter:function(e){return Q(d)(e.addTime,"YYYY-MM-DD HH:mm")},prop:"addTime"},null,8,["formatter"]),X(t,{label:"备注","min-width":"100px",prop:"remark"}),X(t,{label:"标签","min-width":"150px",prop:"labels"},{default:q((function(e){return[(H(!0),J(ne,null,te(Q(f)(e.row,Q(x)),(function(e){return H(),Z(o,{class:"table-label"},{default:q((function(){return[$(ee(e.name),1)]})),_:2},1024)})),256))]})),_:1})]})),_:1},8,["data"])]})),_:1},8,["width","modelValue"])],64)}}}),xn=b(wn,[["__scopeId","data-v-3f214471"]]),_n=j({__name:"ExportExcel",setup:function(e,n){var t=n.expose,i=a(),u=l(),s=["名称","地址","用户名","密码","标签","备注","创建时间","收藏"],c=function(){var e=o(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return e.next=3,f(n);case 3:return e.abrupt("return");case 4:u.verifyPasswordRef.getAndVerify((function(e){return i.passwordManager.verifyPassword(e)})).then((function(){f(n)}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=o(r().mark((function e(n){var t,a,o,l,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new ln.Workbook,(a=t.addWorksheet("Sheet1")).addRow(s),n||i.allPasswordArray.map((function(e){var n="";e.labels&&e.labels.length&&(n=w(e.labels));var t=d(e.addTime,"YYYY-MM-DD HH:mm:ss");return[e.title,e.address,e.username,e.password,n,e.remark,t,e.favorite?"是":"否"]})).forEach((function(e){a.addRow(e)})),a.getRow(1).eachCell((function(e,n){switch(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"00B0F0"}},e.font={bold:!0,color:{argb:"FFFFFF"}},n){case 1:case 3:case 4:case 5:case 6:case 7:a.getColumn(n).width=20;break;case 2:a.getColumn(n).width=30;break;case 8:a.getColumn(n).width=10}})),e.next=7,t.xlsx.writeBuffer();case 7:o=e.sent,l=new Blob([o],{type:"application/octet-stream"}),u=n?"密码导入模板.xlsx":"密码导出_"+d(Date.now(),"YYYY-MM-DD HH:mm:ss")+".xlsx",sn.saveAs(l,u),n||be.success({title:"密码导出成功",message:"请注意密码安全"});case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return t({exportExcel:c}),function(e,n){return null}}}),kn=function(e){return oe("data-v-0a425e2f"),e=e(),le(),e},Cn=kn((function(){return W("span",{class:"iconfont icon-show-password"},null,-1)})),An=kn((function(){return W("span",{class:"iconfont icon-info"},null,-1)})),Fn=b(j({__name:"ShowPassword",setup:function(e,n){var t=n.expose,r=ie({alertVisible:!1,content:"",title:""});return t({showPassword:function(e){r.content=e.password,r.title=e.title,r.alertVisible=!0}}),function(e,n){var t=ke,a=Re,o=Fe,l=Ve;return H(),Z(l,{"append-to-body":"",modelValue:Q(r).alertVisible,"onUpdate:modelValue":n[2]||(n[2]=function(e){return Q(r).alertVisible=e}),width:["xs","sm"].includes(Q(p)().value)?"95%":"40%"},{header:q((function(){return[X(t,{size:"large",style:{"user-select":"none"}},{default:q((function(){return[Cn,$(" "+ee(Q(r).title),1)]})),_:1})]})),footer:q((function(){return[X(t,{type:"info",class:"password-length-tip"},{default:q((function(){return[An,$(" 密码长度大于40会以弹框形式展示密码 ")]})),_:1}),X(o,{plain:"",type:"success",onClick:n[1]||(n[1]=function(e){Q(x)(Q(r).content),Q(r).alertVisible=!1})},{default:q((function(){return[$("一键复制")]})),_:1})]})),default:q((function(){return[X(a,{type:"textarea",rows:10,modelValue:Q(r).content,"onUpdate:modelValue":n[0]||(n[0]=function(e){return Q(r).content=e}),readonly:""},null,8,["modelValue"])]})),_:1},8,["modelValue","width"])}}}),[["__scopeId","data-v-0a425e2f"]]),Vn=j({__name:"NoviceGuide",setup:function(e,n){var t=n.expose,r=l(),a=i(),o=G(!1),u=G(!1),c=G(!1),d=function(){r.passwordFormRef.addPasswordForm("示例密码"),setTimeout((function(){u.value=!0,r.passwordFormFormRef.clearValidate(),setTimeout((function(){r.passwordFormTitleRef.focus()}),100)}),350)},f=function(){r.passwordFormRef.closePasswordForm(),setTimeout((function(){c.value=!0}),350)};return t({startTour:function(){o.value=!0}}),function(e,n){var t=ke,l=De,i=Se;return H(),J(ne,null,[X(i,{modelValue:Q(o),"onUpdate:modelValue":n[0]||(n[0]=function(e){return re(o)?o.value=e:null})},{indicators:q((function(){return[]})),default:q((function(){var e;return[X(l,{target:null===(e=Q(r).createPasswordBtnRef)||void 0===e?void 0:e.$el,"next-button-props":{onClick:d,children:"下一步"},title:"欢迎使用 password-XL"},{default:q((function(){return[X(t,null,{default:q((function(){return[$("您可以点击这里创建密码")]})),_:1})]})),_:1},8,["target","next-button-props"])]})),_:1},8,["modelValue"]),X(i,{modelValue:Q(u),"onUpdate:modelValue":n[1]||(n[1]=function(e){return re(u)?u.value=e:null}),"z-index":9e3,"target-area-clickable":!1},{indicators:q((function(e){var n=e.current,r=e.total;return[X(t,null,{default:q((function(){return[$(ee(n+1)+" / "+ee(r),1)]})),_:2},1024)]})),default:q((function(){var e,n,a,o;return[X(l,{target:null===(e=Q(r).passwordFormTitleRef)||void 0===e?void 0:e.$el,"next-button-props":{children:"下一步"},title:"密码名称"},{default:q((function(){return[X(t,null,{default:q((function(){return[$("在这里输入密码名称")]})),_:1})]})),_:1},8,["target"]),X(l,{target:null===(n=Q(r).passwordFormGenerateBtnRef)||void 0===n?void 0:n.$el,"next-button-props":{children:"下一步"},title:"随机密码"},{default:q((function(){return[X(t,null,{default:q((function(){return[$("点击这里可以随机生成密码，当然您也可以在输入框直接粘贴您已有的密码")]})),_:1})]})),_:1},8,["target"]),X(l,{target:null===(a=Q(r).passwordFormGenerateRuleRef)||void 0===a?void 0:a.$el,"next-button-props":{children:"下一步"},title:"控制生成规则"},{default:q((function(){return[X(t,null,{default:q((function(){return[$("拖动这里控制随机密码的长度")]})),_:1})]})),_:1},8,["target"]),X(l,{target:null===(o=Q(r).passwordFormSaveBtnRef)||void 0===o?void 0:o.$el,"next-button-props":{children:"好的",onClick:f},title:"保存"},{default:q((function(){return[X(t,null,{default:q((function(){return[$("最后，点击这里即可保存密码")]})),_:1})]})),_:1},8,["target","next-button-props"])]})),_:1},8,["modelValue"]),X(i,{modelValue:Q(c),"onUpdate:modelValue":n[2]||(n[2]=function(e){return re(c)?c.value=e:null}),"z-index":9e3},{indicators:q((function(){return[]})),default:q((function(){var e,n;return[Q(a).setting.passwordDisplayMode===Q(s).TABLE?(H(),Z(l,{key:0,target:null===(e=Q(r).displayModeCardRef)||void 0===e?void 0:e.$el,"next-button-props":{children:"好的"},title:"密码视图"},{default:q((function(){return[X(t,null,{default:q((function(){return[$("点击这里可以切换卡片视图")]})),_:1})]})),_:1},8,["target"])):ue("",!0),Q(a).setting.passwordDisplayMode===Q(s).CARD?(H(),Z(l,{key:1,target:null===(n=Q(r).displayModeTableRef)||void 0===n?void 0:n.$el,"next-button-props":{children:"好的"},title:"密码视图"},{default:q((function(){return[X(t,null,{default:q((function(){return[$("点击这里可以切换表格视图")]})),_:1})]})),_:1},8,["target"])):ue("",!0)]})),_:1},8,["modelValue"])],64)}}}),Rn={},Dn=se('<h2>版权声明（Copyright Notice）</h2><p>版权所有 © [2024] [黄艳鹏]</p><p>本开源项目由 [黄艳鹏] 开发，现以MPL-2.0许可协议发布。</p><h3>许可协议（License）</h3><p style="text-indent:20px;">本项目的源代码可以在MPL-2.0许可协议下使用。主要条款如下：</p><ol><li>个人或组织可以免费使用、复制和修改本项目的源代码。</li><li>禁止将本项目的源代码或修改后的代码用于任何形式的商业用途，包括但不限于售卖、租赁或其他形式的盈利活动。</li><li>禁止分发本项目的源代码或修改后的代码给第三方。</li></ol><h3>免责声明（Disclaimer）</h3><p style="text-indent:20px;">本项目的源代码按“现状”提供，使用者需自行承担使用风险。在任何情况下，原作者或版权持有者对因使用本项目源代码而产生的任何直接、间接、附带、特殊、惩罚性或后果性的损害不承担责任。</p>',8);var Sn=b(Rn,[["render",function(e,n){return Dn}]]),En=""+new URL("donate-BWYZILYa.png",t.meta.url).href,Pn={name:"password-xl",private:!0,version:"1.2.7",type:"module",main:"electron/main.mjs",author:{name:"黄艳鹏",email:"hyp0105@qq.com"},contributors:[{name:"黄艳鹏",email:"hyp0105@qq.com",weChat:"huangyanpeng1864"}],description:"开源免费的密码管理项目",homepage:"https://password-xl.cn",repository:{type:"git",url:"https://github.com/peng0105/password-xl"},scripts:{start:"vite",preview:"vite preview",build:"vue-tsc -b && vite build","dist-to-windows":"vue-tsc -b && vite build && electron-builder build --win --config electron/electron-builder.json5","dist-to-mac":"vue-tsc -b && vite build && electron-builder build --mac --config electron/electron-builder.json5","dist-to-linux":"vue-tsc -b && vite build && electron-builder build --linux --config electron/electron-builder.json5","start-exe":"electron ."},dependencies:{"ali-oss":"^6.20.0",axios:"^1.7.2",buffer:"^6.0.3","cos-js-sdk-v5":"^1.8.1","crypto-js":"^4.2.0","element-plus":"^2.7.6",exceljs:"^4.4.0","file-saver":"^2.0.5",pinia:"^2.1.7",vue:"^3.4.29","vue-router":"^4.4.0"},devDependencies:{"@types/ali-oss":"^6.16.11","@types/crypto-js":"^4.2.2","@types/file-saver":"^2.0.7","@types/node":"^20.14.8","@types/pinyin":"^2.10.2","@vitejs/plugin-legacy":"^5.4.1","@vitejs/plugin-vue":"^5.0.5",electron:"^31.2.1","electron-builder":"^24.13.3",terser:"^5.31.1",typescript:"^5.2.2","unplugin-auto-import":"^0.18.2","unplugin-icons":"^0.19.0","unplugin-vue-components":"^0.27.1",vite:"^5.3.1","vue-tsc":"^2.0.21"}},Tn=function(e){return oe("data-v-6224ddc6"),e=e(),le(),e},Mn=Tn((function(){return W("h2",{style:{"margin-top":"0"}},"支持我们",-1)})),Ln={class:"support-ul"},zn=Tn((function(){return W("span",{class:"iconfont icon-praise support-icon",style:{color:"#E6A23C"}},null,-1)})),In=Tn((function(){return W("span",{class:"iconfont icon-report support-icon",style:{color:"#F56C6C"}},null,-1)})),Un=Tn((function(){return W("span",{class:"iconfont icon-idea support-icon",style:{color:"#67C23A"}},null,-1)})),Bn=Tn((function(){return W("span",{class:"iconfont icon-company support-icon",style:{color:"#E6A23C"}},null,-1)})),On={style:{float:"left"}},Nn=Tn((function(){return W("span",{class:"iconfont icon-money support-icon",style:{color:"#F56C6C"}},null,-1)})),jn={style:{float:"left",width:"calc(100% - 40px)","padding-left":"5px"}},Kn=Tn((function(){return W("div",{style:{clear:"both"}},null,-1)})),Yn=Tn((function(){return W("div",{style:{"text-align":"center",position:"relative",left:"-10px"}},[W("h3",{style:{"margin-top":"4px"}},"微信赞赏码"),W("div",{style:{padding:"5px 20px","text-align":"center"}},[W("img",{alt:"",style:{width:"80%","border-radius":"50%"},src:En})])],-1)})),Gn=Tn((function(){return W("h3",{style:{"margin-top":"4px"}},"捐赠者列表",-1)})),Hn=j({__name:"SupportMe",setup:function(e){var n=[{name:"Ching",money:10,time:"2024-07-13"},{name:"李春雨",money:5,time:"2024-07-12"},{name:"张博文",money:50,time:"2024-07-12"}];return function(e,t){var r=ke,a=Ee,o=Pe,l=xe,i=Ae,u=Te;return H(),J(ne,null,[Mn,X(r,{tag:"p",size:"large",style:{"text-indent":"20px"}},{default:q((function(){return[$(" 为了帮助您更安全、便捷地管理密码，我们打造了一个开源免费的密码管理工具。在开发和维护过程中，我们面临着诸多困难和挑战。您的支持对项目的发展至关重要，您可以通过以下方式支持此项目： ")]})),_:1}),W("ul",Ln,[W("li",null,[X(r,{size:"large"},{default:q((function(){return[zn,$(" 在项目 "),X(a,{href:Q(Pn).repository.url,style:{"font-size":"16px",position:"relative",top:"-2px"},underline:!1,target:"_blank",type:"primary"},{default:q((function(){return[$("开源地址 ")]})),_:1},8,["href"]),$(" 中为项目点赞，增加项目的曝光度。 ")]})),_:1})]),W("li",null,[X(r,{size:"large"},{default:q((function(){return[In,$(" 在Github上 "),X(a,{href:Q(Pn).repository.url+"/issues",style:{"font-size":"16px",position:"relative",top:"-2px"},underline:!1,target:"_blank",type:"primary"},{default:q((function(){return[$("报告您遇到的错误 ")]})),_:1},8,["href"]),$(" ，帮助我们持续改进。 ")]})),_:1})]),W("li",null,[X(r,{size:"large"},{default:q((function(){return[Un,$(" 提出您的 "),X(a,{href:Q(Pn).repository.url+"/issues",style:{"font-size":"16px",position:"relative",top:"-2px"},underline:!1,target:"_blank",type:"primary"},{default:q((function(){return[$("建议和想法 ")]})),_:1},8,["href"]),$(" ，帮助我们更好地满足用户需求。 ")]})),_:1})]),W("li",null,[X(r,{size:"large"},{default:q((function(){return[Bn,$(" 将此工具分享给您的朋友和家人，让更多人受益。 ")]})),_:1})]),W("li",null,[W("div",On,[X(r,{size:"large"},{default:q((function(){return[Nn]})),_:1})]),W("div",jn,[X(r,{size:"large"},{default:q((function(){return[$(" 如果您认可我们的努力，请考虑给予一些经济上的支持，以帮助我们为您提供更加优质的密码管理体验。 ")]})),_:1})]),Kn])]),X(u,null,{default:q((function(){return[X(o,{xs:{span:24},sm:{span:24},md:{span:9}},{default:q((function(){return[Yn]})),_:1}),X(o,{xs:{span:24},sm:{span:24},md:{span:15},style:{"text-align":"center"}},{default:q((function(){return[Gn,X(i,{data:n,border:"",stripe:""},{default:q((function(){return[X(l,{label:"名称",prop:"name"}),X(l,{label:"时间","min-width":"120px",prop:"time"}),X(l,{label:"金额","min-width":"80px",prop:"money"})]})),_:1})]})),_:1})]})),_:1})],64)}}}),Jn=b(Hn,[["__scopeId","data-v-6224ddc6"]]),Wn=W("div",null,[W("h2",{style:{"margin-top":"0"}},"关于项目")],-1),Xn={style:{padding:"10px"}},qn=j({__name:"About",setup:function(e){return function(e,n){var t=Me,r=Ee,a=Le;return H(),J(ne,null,[Wn,W("div",Xn,[X(a,{column:1},{default:q((function(){return[X(t,{label:"项目名称:"},{default:q((function(){return[$(ee(Q(Pn).name),1)]})),_:1}),X(t,{label:"当前版本:"},{default:q((function(){return[$(ee(Q(Pn).version),1)]})),_:1}),X(t,{label:"官方网站:"},{default:q((function(){return[X(r,{type:"primary",target:"_blank",href:Q(Pn).homepage},{default:q((function(){return[$(ee(Q(Pn).homepage),1)]})),_:1},8,["href"])]})),_:1}),X(t,{label:"开源地址:"},{default:q((function(){return[X(r,{type:"primary",target:"_blank",href:Q(Pn).repository.url},{default:q((function(){return[$(ee(Q(Pn).repository.url),1)]})),_:1},8,["href"])]})),_:1}),X(t,{label:"作者邮箱:"},{default:q((function(){return[$(ee(Q(Pn).contributors[0].email),1)]})),_:1}),X(t,{label:"作者微信:"},{default:q((function(){return[$(ee(Q(Pn).contributors[0].weChat),1)]})),_:1})]})),_:1})])],64)}}}),$n=W("br",null,null,-1),Qn={style:{"text-indent":"15px"}},Zn={style:{"text-indent":"15px"}},et={style:{"text-indent":"15px"}},nt={style:{"padding-left":"15px"}},tt=W("br",null,null,-1),rt=W("br",null,null,-1),at=W("br",null,null,-1),ot=W("br",null,null,-1),lt=W("br",null,null,-1),it=W("br",null,null,-1),ut={style:{"padding-left":"15px"}},st=W("br",null,null,-1),ct=W("br",null,null,-1),dt=W("br",null,null,-1),ft={style:{"padding-left":"15px"}},pt=W("br",null,null,-1),vt=W("br",null,null,-1),mt=W("br",null,null,-1),gt={style:{"padding-left":"15px"}},yt=j({__name:"CommonProblem",setup:function(e){return function(e,n){var t=ke,r=ze,a=Ie,o=Ee,l=Ce,i=Ue;return H(),Z(i,null,{default:q((function(){return[X(a,{title:"1、主密码忘记了怎么办？"},{default:q((function(){return[X(t,{style:{"text-indent":"15px",display:"inline-block"}},{default:q((function(){return[$(" 很抱歉，由于密码安全机制，主密码一旦忘记没有任何办法查看密码数据。如您需要注销账号可以登录密码存储位置删除密码文件"),$n,W("div",Qn,[X(t,{tag:"b"},{default:q((function(){return[$("oss：")]})),_:1}),$(" 请登录阿里云控制台->对象存储，删除password-xl文件夹 ")]),W("div",Zn,[X(t,{tag:"b"},{default:q((function(){return[$("cos：")]})),_:1}),$(" 请登录腾讯云控制台->对象存储，删除password-xl文件夹 ")]),W("div",et,[X(t,{tag:"b"},{default:q((function(){return[$("私有服务：")]})),_:1}),$(" 请到服务端密码数据存储目录删除您的用户名文件夹 ")]),W("div",nt,[X(t,{tag:"b"},{default:q((function(){return[$("本地存储：")]})),_:1}),$(" 请到 C:\\Users\\您的用户名\\AppData\\Roaming\\password-xl目录下删除setting.json和store.json两个文件。"),tt,X(t,{type:"info",size:"small"},{default:q((function(){return[X(r,{type:"info"},{default:q((function(){return[$(" AppData是系统隐藏目录，可以通过地址栏输入C:\\Users\\您的用户名\\AppData\\Roaming\\password-xl直接进入文件夹 ")]})),_:1})]})),_:1})])]})),_:1})]})),_:1}),X(a,{title:"2、如何私有部署password-XL？"},{default:q((function(){return[X(t,null,{default:q((function(){return[X(t,{size:"large"},{default:q((function(){return[$("项目分为前端和后端两个服务，您可以根据需要选择部署：")]})),_:1}),rt,X(t,{tag:"b",style:{"text-indent":"15px",display:"inline-block"}},{default:q((function(){return[$("仅部署前端服务：")]})),_:1}),$(" 可以使用阿里云OSS、腾讯云COS、和本地存储功能"),at,X(t,{tag:"b",style:{"text-indent":"15px",display:"inline-block"}},{default:q((function(){return[$("仅部署后端服务：")]})),_:1}),$(" 可以使用官网提供的页面或安装程序将密码文件存储在您的私有服务中"),ot,X(t,{tag:"b",style:{"text-indent":"15px",display:"inline-block"}},{default:q((function(){return[$("两个服务都部署：")]})),_:1}),$(" 可以使用部署的前端页面将密码文件存储在私有服务中"),lt]})),_:1}),it,X(t,null,{default:q((function(){return[X(t,{size:"large"},{default:q((function(){return[$("部署文档：")]})),_:1}),W("div",ut,[X(o,{type:"primary",target:"_blank",href:Q(Pn).repository.url+"/wiki/%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3%E2%80%90docker"},{default:q((function(){return[$(" 后端-docker部署 ")]})),_:1},8,["href"]),st,X(o,{type:"primary",target:"_blank",href:Q(Pn).repository.url+"/wiki/%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3%E2%80%90jar"},{default:q((function(){return[$(" 后端-jar包部署 ")]})),_:1},8,["href"]),ct,X(o,{type:"primary",target:"_blank",href:Q(Pn).repository.url+"/wiki/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3%E2%80%90docker"},{default:q((function(){return[$(" 前端-docker部署 ")]})),_:1},8,["href"]),dt,X(o,{type:"primary",target:"_blank",href:Q(Pn).repository.url+"/wiki/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3%E2%80%90nginx"},{default:q((function(){return[$(" 前端-nginx部署 ")]})),_:1},8,["href"])])]})),_:1})]})),_:1}),X(a,{title:"3、每次输入主密码很麻烦，可以自动解锁吗？"},{default:q((function(){return[X(t,{style:{"text-indent":"15px",display:"inline-block"}},{default:q((function(){return[$("      您可以在设置-> 密码安全模块中开启自动解锁功能。 ")]})),_:1})]})),_:1}),X(a,{title:"4、忘记登录信息如何找回？"},{default:q((function(){return[W("div",ft,[X(t,null,{default:q((function(){return[X(t,{tag:"b",style:{"text-indent":"15px",display:"inline-block"}},{default:q((function(){return[$("阿里云OSS：")]})),_:1}),$(" 您可以参考 "),X(o,{type:"primary",target:"_blank",style:{position:"relative",top:"-2px"},href:Q(Pn).repository.url+"/wiki/%E9%98%BF%E9%87%8C%E4%BA%91OSS%E6%B3%A8%E5%86%8C%E6%8C%87%E5%BC%95"},{default:q((function(){return[$(" 阿里云OSS注册指引 ")]})),_:1},8,["href"]),$(" ，登录阿里云控制台重新创建子账户并在存储桶位置为账号分配权限，密码数据不会丢失"),pt,X(t,{tag:"b",style:{"text-indent":"15px",display:"inline-block"}},{default:q((function(){return[$("腾讯云COS：")]})),_:1}),$(" 您可以参考 "),X(o,{type:"primary",target:"_blank",style:{position:"relative",top:"-2px"},href:Q(Pn).repository.url+"/wiki/%E8%85%BE%E8%AE%AF%E4%BA%91COS%E6%B3%A8%E5%86%8C%E6%8C%87%E5%BC%95"},{default:q((function(){return[$(" 腾讯云COS注册指引 ")]})),_:1},8,["href"]),$(" ，登录腾讯云控制台重新创建子账户并在存储桶位置为账号分配权限，密码数据不会丢失"),vt,X(t,{tag:"b",style:{"text-indent":"15px",display:"inline-block"}},{default:q((function(){return[$("私有服务：")]})),_:1}),$(" 您可在服务端项目部署路径下用户配置文件中查看您的登录密码。如果不是您部署项目请联系管理员"),mt]})),_:1})])]})),_:1}),X(a,{title:"5、如何迁移密码数据？"},{default:q((function(){return[W("div",gt,[X(t,{style:{"text-indent":"15px",display:"inline-block"}},{default:q((function(){return[$(" 您可以通过 "),X(l,null,{default:q((function(){return[$("设置->备份恢复")]})),_:1}),$(" 菜单下的备份恢复功能迁移密码数据。 ")]})),_:1})])]})),_:1})]})),_:1})}}}),ht=function(e){return oe("data-v-38d79d64"),e=e(),le(),e},bt={style:{"text-align":"center","margin-bottom":"5px",width:"100%"}},wt=ht((function(){return W("img",{alt:"",class:"login-type-image",style:{height:"28px"},src:dn},null,-1)})),xt=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),_t=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),kt=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),Ct=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),At=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),Ft={style:{"text-align":"center","margin-bottom":"5px",width:"100%"}},Vt=ht((function(){return W("img",{alt:"",class:"login-type-image",style:{height:"28px"},src:fn},null,-1)})),Rt=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),Dt=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),St=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),Et=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),Pt=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),Tt={style:{"text-align":"center","margin-bottom":"15px",width:"100%"}},Mt=ht((function(){return W("img",{alt:"",class:"login-type-image",style:{height:"28px"},src:pn},null,-1)})),Lt=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),zt=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),It=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),Ut=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),Bt={style:{"text-align":"center","margin-top":"50px",width:"100%"}},Ot=ht((function(){return W("img",{alt:"",class:"login-type-image",style:{height:"130px"},src:vn},null,-1)})),Nt={style:{"margin-top":"25px"}},jt={style:{padding:"0 50px 0 20px"}},Kt={style:{"text-align":"center","margin-top":"30px",width:"100%"}},Yt=j({__name:"LoginInfo",setup:function(e){var n=_(),t=function(){return!!window.electronAPI},r=function(){return!!window.androidAPI};return function(e,a){var o=ke,l=Be,i=Fe,u=Re,s=Oe,c=Ne;return H(),Z(c,{"label-width":"80px"},{default:q((function(){return["oss"===Q(n).loginType?(H(),J(ne,{key:0},[W("div",bt,[wt,X(o,{style:{"font-size":"24px"}},{default:q((function(){return[$("阿里云OSS")]})),_:1})]),X(l),W("div",null,[X(s,{label:"region"},{default:q((function(){return[X(u,{"model-value":Q(n).loginForm.region,readonly:!0},{append:q((function(){return[X(i,{onClick:a[0]||(a[0]=function(e){return Q(x)(Q(n).loginForm.region)}),class:"copy-btn"},{default:q((function(){return[xt]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),X(s,{label:"accessKeyId"},{default:q((function(){return[X(u,{"model-value":Q(n).loginForm.accessKeyId,readonly:!0},{append:q((function(){return[X(i,{onClick:a[1]||(a[1]=function(e){return Q(x)(Q(n).loginForm.accessKeyId)}),class:"copy-btn"},{default:q((function(){return[_t]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),X(s,{label:"accessKeySecret"},{default:q((function(){return[X(u,{"model-value":Q(n).loginForm.accessKeySecret,readonly:!0},{append:q((function(){return[X(i,{onClick:a[2]||(a[2]=function(e){return Q(x)(Q(n).loginForm.accessKeySecret)}),class:"copy-btn"},{default:q((function(){return[kt]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),X(s,{label:"bucket"},{default:q((function(){return[X(u,{"model-value":Q(n).loginForm.bucket,readonly:!0},{append:q((function(){return[X(i,{onClick:a[3]||(a[3]=function(e){return Q(x)(Q(n).loginForm.bucket)}),class:"copy-btn"},{default:q((function(){return[Ct]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),t()||r()?ue("",!0):(H(),Z(s,{key:0,label:"快速登录链接"},{default:q((function(){return[X(u,{"model-value":Q(k)(Q(n).loginForm),readonly:!0},{append:q((function(){return[X(i,{onClick:a[4]||(a[4]=function(e){return Q(x)(Q(k)(Q(n).loginForm))}),class:"copy-btn"},{default:q((function(){return[At]})),_:1})]})),_:1},8,["model-value"])]})),_:1}))])],64)):"cos"===Q(n).loginType?(H(),J(ne,{key:1},[W("div",Ft,[Vt,X(o,{style:{"font-size":"24px"}},{default:q((function(){return[$("腾讯云COS")]})),_:1})]),X(l),W("div",null,[X(s,{label:"region"},{default:q((function(){return[X(u,{"model-value":Q(n).loginForm.region,readonly:!0},{append:q((function(){return[X(i,{onClick:a[5]||(a[5]=function(e){return Q(x)(Q(n).loginForm.region)}),class:"copy-btn"},{default:q((function(){return[Rt]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),X(s,{label:"secretId"},{default:q((function(){return[X(u,{"model-value":Q(n).loginForm.secretId,readonly:!0},{append:q((function(){return[X(i,{onClick:a[6]||(a[6]=function(e){return Q(x)(Q(n).loginForm.secretId)}),class:"copy-btn"},{default:q((function(){return[Dt]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),X(s,{label:"secretKey"},{default:q((function(){return[X(u,{"model-value":Q(n).loginForm.secretKey,readonly:!0},{append:q((function(){return[X(i,{onClick:a[7]||(a[7]=function(e){return Q(x)(Q(n).loginForm.secretKey)}),class:"copy-btn"},{default:q((function(){return[St]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),X(s,{label:"bucket"},{default:q((function(){return[X(u,{"model-value":Q(n).loginForm.bucket,readonly:!0},{append:q((function(){return[X(i,{onClick:a[8]||(a[8]=function(e){return Q(x)(Q(n).loginForm.bucket)}),class:"copy-btn"},{default:q((function(){return[Et]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),t()||r()?ue("",!0):(H(),Z(s,{key:0,label:"快速登录链接"},{default:q((function(){return[X(u,{"model-value":Q(k)(Q(n).loginForm),readonly:!0},{append:q((function(){return[X(i,{onClick:a[9]||(a[9]=function(e){return Q(x)(Q(k)(Q(n).loginForm))}),class:"copy-btn"},{default:q((function(){return[Pt]})),_:1})]})),_:1},8,["model-value"])]})),_:1}))])],64)):"private"===Q(n).loginType?(H(),J(ne,{key:2},[W("div",Tt,[Mt,X(o,{style:{"font-size":"24px"}},{default:q((function(){return[$("私有服务")]})),_:1})]),X(l),W("div",null,[X(s,{label:"服务地址"},{default:q((function(){return[X(u,{"model-value":Q(n).loginForm.serverUrl,readonly:!0},{append:q((function(){return[X(i,{onClick:a[10]||(a[10]=function(e){return Q(x)(Q(n).loginForm.serverUrl)}),class:"copy-btn"},{default:q((function(){return[Lt]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),X(s,{label:"用户名"},{default:q((function(){return[X(u,{"model-value":Q(n).loginForm.username,readonly:!0},{append:q((function(){return[X(i,{onClick:a[11]||(a[11]=function(e){return Q(x)(Q(n).loginForm.username)}),class:"copy-btn"},{default:q((function(){return[zt]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),X(s,{label:"密码"},{default:q((function(){return[X(u,{"model-value":Q(n).loginForm.password,readonly:!0},{append:q((function(){return[X(i,{onClick:a[12]||(a[12]=function(e){return Q(x)(Q(n).loginForm.password)}),class:"copy-btn"},{default:q((function(){return[It]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),t()||r()?ue("",!0):(H(),Z(s,{key:0,label:"快速登录链接"},{default:q((function(){return[X(u,{"model-value":Q(k)(Q(n).loginForm),readonly:!0},{append:q((function(){return[X(i,{onClick:a[13]||(a[13]=function(e){return Q(x)(Q(k)(Q(n).loginForm))}),class:"copy-btn"},{default:q((function(){return[Ut]})),_:1})]})),_:1},8,["model-value"])]})),_:1}))])],64)):(H(),J(ne,{key:3},[W("div",Bt,[Ot,W("div",Nt,[X(o,{style:{"font-size":"22px"}},{default:q((function(){return[$("您正在使用本地文件存储")]})),_:1})])]),W("div",jt,[W("div",Kt,[X(o,{type:"info"},{default:q((function(){return[$("没有更多信息")]})),_:1})])])],64))]})),_:1})}}}),Gt=b(Yt,[["__scopeId","data-v-38d79d64"]]),Ht=function(e){return oe("data-v-8280f6d4"),e=e(),le(),e},Jt=Ht((function(){return W("span",{class:"iconfont icon-setting"},null,-1)})),Wt=Ht((function(){return W("span",{class:"iconfont icon-personalization action-icon",style:{color:"#FF5733"}},null,-1)})),Xt=Ht((function(){return W("span",{style:{"letter-spacing":"3px"}}," 个性化",-1)})),qt={class:"function-div"},$t={class:"function-header",style:{"margin-bottom":"5px"}},Qt={class:"function-div"},Zt={class:"function-header",style:{"margin-bottom":"5px"}},er={class:"function-div"},nr={class:"function-header"},tr={class:"function-div"},rr={class:"function-header"},ar={class:"function-div"},or={class:"function-header"},lr={style:{"margin-top":"10px"}},ir=Ht((function(){return W("span",null,"密码长度",-1)})),ur=Ht((function(){return W("span",{class:"iconfont icon-function action-icon",style:{color:"#FF33FF"}},null,-1)})),sr={class:"function-div"},cr={class:"function-header"},dr={class:"function-div"},fr={class:"function-header"},pr={class:"function-div"},vr={class:"function-header"},mr={class:"function-div"},gr={class:"function-header"},yr=Ht((function(){return W("span",{class:"iconfont icon-display action-icon",style:{color:"#00e329"}},null,-1)})),hr={class:"function-div"},br={class:"function-header",style:{"margin-bottom":"5px"}},wr={class:"function-div"},xr={class:"function-header"},_r={class:"function-div"},kr={class:"function-header",style:{"margin-bottom":"5px"}},Cr={class:"function-div"},Ar={class:"function-header"},Fr=Ht((function(){return W("div",{class:"password-strength",style:{"background-color":"#F56C6C"}},null,-1)})),Vr=Ht((function(){return W("div",{class:"password-strength",style:{"background-color":"#FF9700"}},null,-1)})),Rr=Ht((function(){return W("div",{class:"password-strength",style:{"background-color":"#67C23A"}},null,-1)})),Dr={class:"function-div"},Sr={class:"function-header"},Er=Ht((function(){return W("span",{class:"iconfont icon-verify action-icon",style:{color:"#33CFFF"}},null,-1)})),Pr={class:"function-div"},Tr={class:"function-header",style:{"margin-bottom":"5px"}},Mr={key:0,class:"function-div"},Lr={class:"function-header"},zr={class:"function-div"},Ir={class:"function-header"},Ur={class:"function-div"},Br={class:"function-header"},Or={class:"function-div",style:{display:"flex","justify-content":"space-evenly"}},Nr=Ht((function(){return W("span",{class:"iconfont icon-info action-icon",style:{color:"#409EFF"}},null,-1)})),jr={class:"login-info"},Kr=Ht((function(){return W("span",{class:"iconfont icon-recovery action-icon",style:{color:"#ffc400"}},null,-1)})),Yr={class:"function-div"},Gr={class:"function-header",style:{"margin-bottom":"5px"}},Hr={class:"function-div"},Jr={class:"function-header",style:{"margin-bottom":"5px"}},Wr={class:"function-div"},Xr={class:"function-header",style:{"margin-bottom":"5px"}},qr={class:"function-div"},$r={class:"function-header",style:{"margin-bottom":"5px"}},Qr={class:"function-div"},Zr={class:"function-header",style:{"margin-bottom":"5px"}},ea=Ht((function(){return W("span",{class:"iconfont icon-problem action-icon",style:{color:"#FF69B4"}},null,-1)})),na={class:"function-div"},ta={class:"function-header"},ra={style:{"margin-top":"10px"}},aa={class:"function-div",style:{"margin-top":"30px"}},oa={class:"function-header"},la={style:{"margin-top":"5px"}},ia=Ht((function(){return W("span",{class:"iconfont icon-about action-icon",style:{color:"#FF4500"}},null,-1)})),ua={style:{padding:"0"}},sa=Ht((function(){return W("span",{class:"iconfont icon-coffee action-icon",style:{color:"#FF5858FF"}},null,-1)})),ca={style:{padding:"0"}},da=Ht((function(){return W("span",{class:"iconfont icon-copyright action-icon",style:{color:"#FF8C00"}},null,-1)})),fa={style:{padding:"0 15px"}},pa=j({__name:"Setting",setup:function(e,n){var t=n.expose,u=a(),s=i(),d=_(),f=l(),v=G(!1),m=G(!1),g=G(c.AUTO),y=function(){return["xs","sm"].includes(p().value)?"calc(100vh - 120px)":"500px"},h=function(){if(s.setting.autoUnlock)return Promise.resolve(!0);return new Promise(function(){var e=o(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je({title:"重要安全提示",message:de("div",{class:"el-alert el-alert--error is-light",style:"text-indent: 20px;"},"为了您的账号安全，建议您不要开启记住主密码功能。开启后任何人打开您设备的password-XL时，都可以直接访问解锁后的密码列表，极大地增加了密码泄露的风险。\n如您仍需开启此功能，请务必妥善保存并牢记您的主密码。当您更换设备或浏览器指纹发生变更时，仍需您手动登录并使用主密码解锁。"),showConfirmButton:!0,confirmButtonText:"确认开启",confirmButtonClass:"el-button--danger"}).then((function(){f.verifyPasswordRef.getAndVerify((function(e){return u.passwordManager.verifyPassword(e)})).then((function(e){n(!0),localStorage.setItem("mainPassword",A(F(),e))}))})).catch((function(){return n(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())},b=function(){if(!s.setting.enableRecycleBin||!u.deletedArray.length)return Promise.resolve(!0);return new Promise(function(){var e=o(r().mark((function e(n,t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je({message:"关闭回收站将立即清空回收站中所有密码",showConfirmButton:!0,confirmButtonText:"清空",type:"warning",showCancelButton:!0,cancelButtonText:"取消",confirmButtonClass:"el-button--danger"}).then((function(){n(!0)})).catch((function(){t()}));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())},w=function(e){return m.value||"loginInfo"!==e||["local","electron"].includes(d.loginType)?Promise.resolve(!0):new Promise((function(e,n){f.verifyPasswordRef.getAndVerify((function(e){return u.passwordManager.verifyPassword(e)})).then((function(){e(!0),m.value=!0})).catch((function(e){n()}))}))};t({openSetting:function(){var e=localStorage.getItem("topicMode");g.value=e||c.AUTO,v.value=!0,m.value=!1},closeSetting:function(){v.value=!1}}),ce((function(){return s.setting.showLabelCard}),(function(e){v.value&&u.passwordManager.syncSetting().then((function(e){var n;e.status&&(null===(n=f.labelTreeRef)||void 0===n||n.setCheckedNodes([]))}))})),ce((function(){return s.setting.dynamicBackground}),(function(e){v.value&&u.passwordManager.syncSetting()})),ce((function(){return s.setting.showFavoriteCard}),(function(e){v.value&&u.passwordManager.syncSetting().then((function(e){e.status&&(u.filterCondition.favoriteId=0)}))})),ce((function(){return s.setting.enableRecycleBin}),(function(e,n){v.value&&u.passwordManager.syncSetting().then((function(n){n.status&&(e||u.passwordManager.emptyRecycle())}))})),ce((function(){return s.setting.enableShortcutKey}),(function(e){v.value&&u.passwordManager.syncSetting()})),ce((function(){return s.setting.sortField}),(function(e){v.value&&u.passwordManager.syncSetting()})),ce((function(){return s.setting.sortOrder}),(function(e){v.value&&u.passwordManager.syncSetting()})),ce((function(){return s.setting.showLabelForTable}),(function(e){v.value&&u.passwordManager.syncSetting()})),ce((function(){return s.setting.showTimeForTable}),(function(e){v.value&&u.passwordManager.syncSetting()})),ce((function(){return s.setting.showStrength}),(function(e){v.value&&u.passwordManager.syncSetting()})),ce((function(){return s.setting.timeoutLock}),(function(e){v.value&&u.passwordManager.syncSetting()})),ce((function(){return s.setting.autoLogin}),(function(e){v.value&&u.passwordManager.syncSetting().then((function(n){n.status&&(e?be.success({title:"已开启自动登录",message:"在您下次登录时将系统将记住登录信息！"}):(sessionStorage.removeItem("loginInfo"),localStorage.removeItem("loginInfo"),be.success({title:"已关闭自动登录",message:"自动登录信息已清除！"}),s.setting.autoUnlock=!1))}))})),ce((function(){return s.setting.autoUnlock}),(function(e){v.value&&u.passwordManager.syncSetting().then((function(n){n.status&&(e?(s.setting.autoLogin=!0,we.success("已开启自动解锁"),s.setting.timeoutLock=0):(localStorage.removeItem("mainPassword"),we.success("已清除主密码信息")))}))})),ce((function(){return s.setting.verifyShowGesture}),(function(e){v.value&&(u.passwordManager.syncSetting(),localStorage.setItem("showGesture",e+""))})),ce((function(){return g.value}),(function(e){v.value&&u.setTopicMode(e)}));var x=null;ce((function(){return s.setting.easyConfuseChat}),(function(e){v.value&&(x&&clearTimeout(x),x=setTimeout((function(){u.passwordManager.syncSetting()}),300))})),ce((function(){return s.setting.autoGeneratePassword}),(function(e){v.value&&u.passwordManager.syncSetting()})),ce((function(){return s.setting.passwordColor}),(function(e){v.value&&u.passwordManager.syncSetting()}));var k=null;ce((function(){return s.setting.generateRule}),(function(e){v.value&&(k&&clearTimeout(k),k=setTimeout((function(){u.passwordManager.syncSetting()}),300))}),{deep:!0});return function(e,n){var t=ke,r=Ke,a=Ye,o=Be,l=Ge,i=Re,u=He,m=Pe,x=Je,_=Te,k=We,A=Xe,F=Ce,V=ze,R=Fe,D=Gt,S=Ee,E=yt,P=qn,T=Jn,M=Sn,L=qe,z=Ne,I=Ve;return H(),Z(I,{fullscreen:["xs","sm"].includes(Q(p)().value),modelValue:Q(v),"onUpdate:modelValue":n[27]||(n[27]=function(e){return re(v)?v.value=e:null}),width:"750px",draggable:""},{header:q((function(){return[X(t,{size:"large",style:{"user-select":"none"}},{default:q((function(){return[Jt,$(" 设置 ")]})),_:1})]})),default:q((function(){return[X(z,{modelValue:Q(s),"onUpdate:modelValue":n[26]||(n[26]=function(e){return re(s)?s.value=e:null}),"label-width":"140px","label-position":"right"},{default:q((function(){return[X(L,{"tab-position":"left",style:{"margin-top":"10px"},"before-leave":w},{default:q((function(){return[X(A,null,{label:q((function(){return[X(t,null,{default:q((function(){return[Wt,Xt]})),_:1})]})),default:q((function(){return[X(k,{height:y()},{default:q((function(){return[W("div",qt,[W("div",$t,[X(t,{tag:"b"},{default:q((function(){return[$("主题")]})),_:1}),X(a,{modelValue:Q(g),"onUpdate:modelValue":n[0]||(n[0]=function(e){return re(g)?g.value=e:null}),size:"small",style:{width:"100px"}},{default:q((function(){return[X(r,{value:Q(c).AUTO,label:"跟随系统"},null,8,["value"]),X(r,{value:Q(c).LIGHT,label:"明亮主题"},null,8,["value"]),X(r,{value:Q(c).DARK,label:"深色主题"},null,8,["value"])]})),_:1},8,["modelValue"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 您可以根据个人喜好选择明亮或深色主题，也可以设置为跟随系统 ")]})),_:1})]),W("div",Qt,[W("div",Zt,[X(t,{tag:"b"},{default:q((function(){return[$("显示背景图")]})),_:1}),X(l,{modelValue:Q(s).setting.dynamicBackground,"onUpdate:modelValue":n[1]||(n[1]=function(e){return Q(s).setting.dynamicBackground=e})},null,8,["modelValue"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 用于控制是否显示首页动态背景图，若浏览器卡顿您可以关闭动态背景图 ")]})),_:1})]),W("div",er,[W("div",nr,[X(t,{tag:"b"},{default:q((function(){return[$("易混淆字符")]})),_:1}),X(i,{style:{width:"100px"},size:"small",modelValue:Q(s).setting.easyConfuseChat,"onUpdate:modelValue":n[2]||(n[2]=function(e){return Q(s).setting.easyConfuseChat=e})},null,8,["modelValue"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 随机生成密码时将不会使用配置的易混淆字符 ")]})),_:1})]),W("div",tr,[W("div",rr,[X(t,{tag:"b"},{default:q((function(){return[$("自动生成密码")]})),_:1}),X(l,{modelValue:Q(s).setting.autoGeneratePassword,"onUpdate:modelValue":n[3]||(n[3]=function(e){return Q(s).setting.autoGeneratePassword=e})},null,8,["modelValue"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 当您添加密码时是否希望系统使用默认规则自动生成一个密码 ")]})),_:1})]),W("div",ar,[W("div",or,[X(t,{tag:"b"},{default:q((function(){return[$("随机密码生成规则")]})),_:1})]),X(o,{class:"function-line"}),W("div",lr,[W("div",null,[X(_,null,{default:q((function(){return[X(m,{sm:{span:24},md:{span:10},style:{"margin-bottom":"10px","text-align":"center"}},{default:q((function(){return[X(u,{size:"small",style:{margin:"5px 15px"},border:"",label:"大写",modelValue:Q(s).setting.generateRule.uppercase,"onUpdate:modelValue":n[4]||(n[4]=function(e){return Q(s).setting.generateRule.uppercase=e})},null,8,["modelValue"]),X(u,{size:"small",style:{margin:"5px 15px"},border:"",label:"小写",modelValue:Q(s).setting.generateRule.lowercase,"onUpdate:modelValue":n[5]||(n[5]=function(e){return Q(s).setting.generateRule.lowercase=e})},null,8,["modelValue"]),X(u,{size:"small",style:{margin:"5px 15px"},border:"",label:"数字",modelValue:Q(s).setting.generateRule.number,"onUpdate:modelValue":n[6]||(n[6]=function(e){return Q(s).setting.generateRule.number=e})},null,8,["modelValue"]),X(u,{size:"small",style:{margin:"5px 15px"},border:"",label:"符号",modelValue:Q(s).setting.generateRule.symbol,"onUpdate:modelValue":n[7]||(n[7]=function(e){return Q(s).setting.generateRule.symbol=e})},null,8,["modelValue"])]})),_:1}),X(m,{sm:{span:24},md:{span:10},style:{"text-align":"center"}},{default:q((function(){return[ir,X(x,{style:{"margin-top":"10px"},size:"small",modelValue:Q(s).setting.generateRule.length,"onUpdate:modelValue":n[8]||(n[8]=function(e){return Q(s).setting.generateRule.length=e}),min:4,max:32},null,8,["modelValue"])]})),_:1})]})),_:1})])])])]})),_:1},8,["height"])]})),_:1}),X(A,null,{label:q((function(){return[X(t,null,{default:q((function(){return[ur,$(" 功能管理 ")]})),_:1})]})),default:q((function(){return[X(k,{height:y()},{default:q((function(){return[W("div",sr,[W("div",cr,[X(t,{tag:"b"},{default:q((function(){return[$("显示标签卡片")]})),_:1}),X(l,{modelValue:Q(s).setting.showLabelCard,"onUpdate:modelValue":n[9]||(n[9]=function(e){return Q(s).setting.showLabelCard=e})},null,8,["modelValue"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 显示标签卡片后，您可以在首页方便地管理所有标签，并使用标签功能筛选密码列表。 ")]})),_:1})]),W("div",dr,[W("div",fr,[X(t,{tag:"b"},{default:q((function(){return[$("显示收藏卡片")]})),_:1}),X(l,{modelValue:Q(s).setting.showFavoriteCard,"onUpdate:modelValue":n[10]||(n[10]=function(e){return Q(s).setting.showFavoriteCard=e})},null,8,["modelValue"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 显示收藏卡片后，您可以在首页查看所有已收藏的密码，点击密码名称即可在密码列表中显示。 ")]})),_:1})]),W("div",pr,[W("div",vr,[X(t,{tag:"b"},{default:q((function(){return[$("密码回收站")]})),_:1}),X(l,{"before-change":b,modelValue:Q(s).setting.enableRecycleBin,"onUpdate:modelValue":n[11]||(n[11]=function(e){return Q(s).setting.enableRecycleBin=e})},null,8,["modelValue"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 开启密码回收站后，已删除的密码将会被保存至回收站，您可以选择永久删除或恢复。 ")]})),_:1})]),W("div",mr,[W("div",gr,[X(t,{tag:"b"},{default:q((function(){return[$("快捷键")]})),_:1}),X(l,{modelValue:Q(s).setting.enableShortcutKey,"onUpdate:modelValue":n[12]||(n[12]=function(e){return Q(s).setting.enableShortcutKey=e})},null,8,["modelValue"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 锁定/解锁： "),X(F,{type:"primary",style:{"text-indent":"0","margin-right":"10px"},size:"small"},{default:q((function(){return[$("Alt + L")]})),_:1}),$(" 搜索： "),X(F,{type:"primary",style:{"text-indent":"0","margin-right":"10px"},size:"small"},{default:q((function(){return[$("Ctrl + F")]})),_:1}),$(" 创建： "),X(F,{type:"primary",style:{"text-indent":"0","margin-right":"10px"},size:"small"},{default:q((function(){return[$("Alt + N")]})),_:1}),$(" 保存： "),X(F,{type:"primary",style:{"text-indent":"0","margin-right":"10px"},size:"small"},{default:q((function(){return[$("Ctrl + S")]})),_:1})]})),_:1})]),X(V,{"show-icon":"",closable:!1,type:"info",title:"若您需要更多密码显示空间，可以选择关闭标签和收藏卡片并在更多功能中使用。"})]})),_:1},8,["height"])]})),_:1}),X(A,null,{label:q((function(){return[X(t,null,{default:q((function(){return[yr,$(" 密码显示 ")]})),_:1})]})),default:q((function(){return[X(k,{height:y()},{default:q((function(){return[W("div",hr,[W("div",br,[X(t,{tag:"b"},{default:q((function(){return[$("密码排序")]})),_:1}),W("div",null,[X(a,{modelValue:Q(s).setting.sortField,"onUpdate:modelValue":n[13]||(n[13]=function(e){return Q(s).setting.sortField=e}),size:"small",style:{width:"90px"}},{default:q((function(){return[X(r,{value:"addTime",label:"添加时间"}),X(r,{value:"updateTime",label:"修改时间"}),X(r,{value:"strength",label:"密码强度"}),X(r,{value:"title",label:"密码名称"}),X(r,{value:"username",label:"登录名"}),X(r,{value:"favorite",label:"收藏"})]})),_:1},8,["modelValue"]),X(a,{modelValue:Q(s).setting.sortOrder,"onUpdate:modelValue":n[14]||(n[14]=function(e){return Q(s).setting.sortOrder=e}),size:"small",style:{width:"65px","margin-left":"5px"}},{default:q((function(){return[X(r,{value:Q(C).ASC,label:"正序"},null,8,["value"]),X(r,{value:Q(C).DESC,label:"倒序"},null,8,["value"])]})),_:1},8,["modelValue"])])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 此选项用于设置密码默认排序规则。您也可以通过点击密码列表中的小箭头进行临时排序，临时排序会在页面刷新后重置。 ")]})),_:1})]),W("div",wr,[W("div",xr,[X(t,{tag:"b"},{default:q((function(){return[$("在密码列表中显示标签")]})),_:1}),X(l,{modelValue:Q(s).setting.showLabelForTable,"onUpdate:modelValue":n[15]||(n[15]=function(e){return Q(s).setting.showLabelForTable=e})},null,8,["modelValue"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 此选项用于设置是否在密码列表中显示标签列，显示标签将会占用更多空间，您可根据需要开启。 ")]})),_:1})]),W("div",_r,[W("div",kr,[X(t,{tag:"b"},{default:q((function(){return[$("在密码列表中显示时间")]})),_:1}),X(a,{modelValue:Q(s).setting.showTimeForTable,"onUpdate:modelValue":n[16]||(n[16]=function(e){return Q(s).setting.showTimeForTable=e}),size:"small",style:{width:"100px"}},{default:q((function(){return[X(r,{value:"no",label:"不显示时间"}),X(r,{value:"addTime",label:"显示添加时间"}),X(r,{value:"updateTime",label:"显示修改时间"})]})),_:1},8,["modelValue"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 此选项用于设置是否在密码列表中显示时间，显示时间将会占用更多空间，您可根据需要开启。 ")]})),_:1})]),W("div",Cr,[W("div",Ar,[X(t,{tag:"b"},{default:q((function(){return[$("显示密码强度")]})),_:1}),X(l,{modelValue:Q(s).setting.showStrength,"onUpdate:modelValue":n[17]||(n[17]=function(e){return Q(s).setting.showStrength=e})},null,8,["modelValue"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 我们根据密码组成将密码分为弱、中、强3个等级，分别用颜色 "),Fr,Vr,Rr,$(" 表示，若您不喜欢此功能可在此关闭。 ")]})),_:1})]),W("div",Dr,[W("div",Sr,[X(t,{tag:"b"},{default:q((function(){return[$("密码颜色")]})),_:1}),X(l,{modelValue:Q(s).setting.passwordColor,"onUpdate:modelValue":n[18]||(n[18]=function(e){return Q(s).setting.passwordColor=e})},null,8,["modelValue"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 开启此功能后您可以在创建密码时选择密码颜色，并在卡片或表格中显示 ")]})),_:1})])]})),_:1},8,["height"])]})),_:1}),X(A,null,{label:q((function(){return[X(t,null,{default:q((function(){return[Er,$(" 密码安全 ")]})),_:1})]})),default:q((function(){return[X(k,{height:y()},{default:q((function(){return[W("div",Pr,[W("div",Tr,[X(t,{tag:"b"},{default:q((function(){return[$("超时锁定")]})),_:1}),X(a,{disabled:Q(s).setting.autoUnlock,title:Q(s).setting.autoUnlock?"已开启自动解锁无法设置自动锁定":"",modelValue:Q(s).setting.timeoutLock,"onUpdate:modelValue":n[19]||(n[19]=function(e){return Q(s).setting.timeoutLock=e}),size:"small",style:{width:"100px"}},{default:q((function(){return[X(r,{value:0,label:"永不超时"}),X(r,{value:30,label:"30秒"}),X(r,{value:60,label:"1分钟"}),X(r,{value:300,label:"5分钟"}),X(r,{value:600,label:"10分钟"}),X(r,{value:1800,label:"30分钟"}),X(r,{value:3600,label:"1小时"}),X(r,{value:14400,label:"4小时"}),X(r,{value:28800,label:"8小时"}),X(r,{value:43200,label:"12小时"})]})),_:1},8,["disabled","title","modelValue"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 系统将在此时间后自动锁定密码列表。 ")]})),_:1})]),"local"!==Q(d).loginType?(H(),J("div",Mr,[W("div",Lr,[X(t,{tag:"b"},{default:q((function(){return[$("自动登录")]})),_:1}),X(l,{modelValue:Q(s).setting.autoLogin,"onUpdate:modelValue":n[20]||(n[20]=function(e){return Q(s).setting.autoLogin=e})},null,8,["modelValue"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 开启自动登录功能后，系统会将您的登录信息通过浏览器指纹加密后存储在浏览器中。当您再次打开password-XL并成功验证主密码时，系统会自动登录。 ")]})),_:1})])):ue("",!0),W("div",zr,[W("div",Ir,[X(t,{tag:"b"},{default:q((function(){return[$("自动解锁")]})),_:1}),X(l,{"before-change":h,modelValue:Q(s).setting.autoUnlock,"onUpdate:modelValue":n[21]||(n[21]=function(e){return Q(s).setting.autoUnlock=e})},null,8,["modelValue"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 开启自动解锁功能后，系统会将您的主密码通过浏览器指纹加密后存储在浏览器中。当您再次打开password-XL时，系统会自动登录并使用主密码解锁。 ")]})),_:1})]),W("div",Ur,[W("div",Br,[X(t,{tag:"b"},{default:q((function(){return[$("验证密码时显示手势")]})),_:1}),X(l,{modelValue:Q(s).setting.verifyShowGesture,"onUpdate:modelValue":n[22]||(n[22]=function(e){return Q(s).setting.verifyShowGesture=e})},null,8,["modelValue"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 当您使用手势密码时可以在此配置是否显示手势滑动轨迹。 ")]})),_:1})]),W("div",Or,[X(R,{plain:"",type:"primary",onClick:Q(f).setPasswordRef.setMainPassword},{default:q((function(){return[$("修改主密码")]})),_:1},8,["onClick"]),X(R,{type:"danger",onClick:Q(f).cancelAccountRef.showCloseAccount},{default:q((function(){return[$("注销账户")]})),_:1},8,["onClick"])])]})),_:1},8,["height"])]})),_:1}),X(A,{name:"loginInfo"},{label:q((function(){return[X(t,null,{default:q((function(){return[Nr,$(" 登录信息 ")]})),_:1})]})),default:q((function(){return[X(k,{height:y()},{default:q((function(){return[W("div",jr,[X(D)])]})),_:1},8,["height"])]})),_:1}),window.androidAPI?ue("",!0):(H(),Z(A,{key:0},{label:q((function(){return[X(t,null,{default:q((function(){return[Kr,$(" 备份恢复 ")]})),_:1})]})),default:q((function(){return[X(k,{height:y()},{default:q((function(){return[W("div",Yr,[W("div",Gr,[X(t,{tag:"b"},{default:q((function(){return[$("备份密码")]})),_:1}),X(R,{plain:"",type:"primary",onClick:n[23]||(n[23]=function(e){return Q(f).backupAndRecoveryRef.backup(!1)}),size:"small"},{default:q((function(){return[$("备份 ")]})),_:1})]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 密码备份功能可以安全的将加密后的密码文件导出，在需要时通过 "),X(t,null,{default:q((function(){return[$("恢复备份密码")]})),_:1}),$(" 功能还原。 ")]})),_:1})]),W("div",Hr,[W("div",Jr,[X(t,{tag:"b"},{default:q((function(){return[$("恢复备份密码")]})),_:1}),X(R,{plain:"",type:"primary",onClick:Q(f).backupAndRecoveryRef.recovery,size:"small"},{default:q((function(){return[$("恢复 ")]})),_:1},8,["onClick"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 此功能可以将备份文件中的密码恢复到密码列表。在验证备份文件的主密码后，您可以选择合并或覆盖方式恢复密码。 ")]})),_:1})]),W("div",Wr,[W("div",Xr,[X(t,{tag:"b"},{default:q((function(){return[$("导出密码")]})),_:1}),X(R,{plain:"",type:"primary",onClick:n[24]||(n[24]=function(e){return Q(f).exportExcelRef.exportExcel(!1)}),size:"small"},{default:q((function(){return[$("导出 ")]})),_:1})]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 导出密码会将敏感信息明文存储在excel表格中，请注意密码安全。若您仅需要迁移账号或备份密码建议使用密码备份与恢复功能更加高效安全。 ")]})),_:1})]),W("div",qr,[W("div",$r,[X(t,{tag:"b"},{default:q((function(){return[$("导入密码")]})),_:1}),X(R,{plain:"",type:"primary",onClick:Q(f).importExcelRef.importExcel,size:"small"},{default:q((function(){return[$("导入 ")]})),_:1},8,["onClick"])]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 密码导入功能支持按照密码模板导入excel文件中的密码，您可以通过下载模板功能获取密码模板。 ")]})),_:1})]),W("div",Qr,[W("div",Zr,[X(t,{tag:"b"},{default:q((function(){return[$("下载导入模板")]})),_:1}),X(R,{plain:"",type:"primary",onClick:n[25]||(n[25]=function(e){return Q(f).exportExcelRef.exportExcel(!0)}),size:"small"},{default:q((function(){return[$("下载 ")]})),_:1})]),X(o,{class:"function-line"}),X(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 您可在下载的Excel模板中按照要求填写您的密码列表（ "),X(t,{type:"danger"},{default:q((function(){return[$("密码名称为必填")]})),_:1}),$(" ），然后使用密码导入功能导入您的密码。 ")]})),_:1})])]})),_:1},8,["height"])]})),_:1})),X(A,null,{label:q((function(){return[X(t,null,{default:q((function(){return[ea,$(" 问题反馈 ")]})),_:1})]})),default:q((function(){return[X(k,{height:y()},{default:q((function(){return[W("div",na,[W("div",ta,[X(t,{tag:"b"},{default:q((function(){return[$("建议反馈")]})),_:1})]),X(o,{class:"function-line"}),W("div",ra,[X(t,{tag:"p",style:{"text-indent":"10px"}},{default:q((function(){return[$(" 您的建议是我们不断进步的动力，您可以在此项目 "),X(S,{type:"primary",style:{position:"relative",top:"-2px"},target:"_blank",href:Q(Pn).repository.url+"/issues"},{default:q((function(){return[$("开源地址 ")]})),_:1},8,["href"]),$(" 中留下您遇到的问题或提出宝贵的建议。 ")]})),_:1})])]),W("div",aa,[W("div",oa,[X(t,{tag:"b"},{default:q((function(){return[$("常见问题")]})),_:1})]),W("div",la,[X(E)])])]})),_:1},8,["height"])]})),_:1}),X(A,null,{label:q((function(){return[X(t,null,{default:q((function(){return[ia,$(" 关于项目 ")]})),_:1})]})),default:q((function(){return[X(k,{height:y()},{default:q((function(){return[W("div",ua,[X(P)])]})),_:1},8,["height"])]})),_:1}),X(A,null,{label:q((function(){return[X(t,null,{default:q((function(){return[sa,$(" 支持我们 ")]})),_:1})]})),default:q((function(){return[X(k,{height:y()},{default:q((function(){return[W("div",ca,[X(T)])]})),_:1},8,["height"])]})),_:1}),X(A,null,{label:q((function(){return[X(t,null,{default:q((function(){return[da,$(" 版权声明 ")]})),_:1})]})),default:q((function(){return[X(k,{height:y()},{default:q((function(){return[W("div",fa,[X(M)])]})),_:1},8,["height"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["fullscreen","modelValue"])}}}),va=b(pa,[["__scopeId","data-v-8280f6d4"]]),ma=function(e){return oe("data-v-9b8fe49a"),e=e(),le(),e}((function(){return W("span",{class:"iconfont icon-verify"},null,-1)})),ga={key:0,style:{"margin-top":"10px","text-align":"center"}},ya=b(j({__name:"SetPassword",setup:function(e,n){var t=n.expose,r=a(),o=_(),i=l(),s=G(),c=G(),d=G(),f=G(!1),v=G(JSON.parse(JSON.stringify(r.mainPasswordType))),m=G(""),g=G(""),y=ie({firstMainPassword:"",secondMainPassword:""}),h=ie({firstMainPassword:[{required:!0,message:"请输入主密码",trigger:"blur"}],secondMainPassword:[{required:!0,message:"请再次输入主密码",trigger:"blur"}]}),b=function(e){e.validate((function(e){e&&(y.firstMainPassword===y.secondMainPassword?y.firstMainPassword!==m.value?r.serviceStatus===u.WAIT_INIT?x(y.firstMainPassword):k(y.firstMainPassword):we.error("新密码与原密码一致"):we.error("两次输入的密码不一致"))}))},w=function(e){if(g.value){if(!(e.length<5))return g.value!==e?(g.value="",void we.warning("两次绘制的密码不一致")):g.value===m.value?(g.value="",void we.error("新密码与原密码一致")):void(r.serviceStatus===u.WAIT_INIT?x(g.value):k(g.value))}else g.value=e},x=function(e){r.loading(),r.passwordManager.initMainPassword(v.value,e).then((function(n){n.status?(f.value=!1,we.success("设置成功"),o.setAutoLoginInfo(e)):we.error(n.message),r.unloading()})).catch((function(){r.unloading()}))},k=function(e){r.passwordManager.updateMainPassword(m.value,v.value,e).then((function(n){n.status?(f.value=!1,o.setAutoLoginInfo(e),we.success("修改成功")):we.error(n.message),r.unloading()})).catch((function(){r.unloading()}))};return ce(v,(function(){var e;null===(e=s.value)||void 0===e||e.clearValidate()})),t({setMainPassword:function(){y.firstMainPassword="",y.secondMainPassword="",g.value="",r.serviceStatus===u.WAIT_INIT?f.value=!0:i.verifyPasswordRef.getAndVerify((function(e){return r.passwordManager.verifyPassword(e)})).then((function(e){m.value=e,f.value=!0}))}}),function(e,n){var t=ke,a=ze,o=Re,l=Oe,i=Ne,m=Xe,x=R,_=qe,k=Fe,C=Ve;return H(),Z(C,{width:["xs"].includes(Q(p)().value)?"95%":"550px",modelValue:Q(f),"onUpdate:modelValue":n[7]||(n[7]=function(e){return re(f)?f.value=e:null}),"close-on-click-modal":!1,"close-on-press-escape":Q(r).serviceStatus!==Q(u).WAIT_INIT,"show-close":Q(r).serviceStatus!==Q(u).WAIT_INIT,onOpen:n[8]||(n[8]=function(e){var n;return null===(n=Q(s))||void 0===n?void 0:n.resetFields()}),onOpened:n[9]||(n[9]=function(e){var n;return null===(n=Q(c))||void 0===n?void 0:n.focus()})},fe({header:q((function(){return[X(t,{size:"large",style:{"user-select":"none"}},{default:q((function(){return[ma,$(" 设置主密码 ")]})),_:1})]})),default:q((function(){return[X(a,{type:"warning","show-icon":"",closable:!1,style:{"margin-top":"10px"},title:"主密码一旦遗忘，所有密码均无法找回！请慎重设置您的主密码。"}),X(_,{type:"card",modelValue:Q(v),"onUpdate:modelValue":n[5]||(n[5]=function(e){return re(v)?v.value=e:null}),style:{"margin-top":"15px"}},{default:q((function(){return[X(m,{label:"标准密码",name:Q(V).STANDARD},{default:q((function(){return[X(i,{ref_key:"setPasswordFormRef",ref:s,onSubmit:n[4]||(n[4]=pe((function(){}),["prevent"])),model:Q(y),"label-width":"80px",style:{width:"300px",margin:"20px auto"},rules:Q(h)},{default:q((function(){return[X(l,{prop:"firstMainPassword",label:"主密码"},{default:q((function(){return[X(o,{ref_key:"firstPasswordInputRef",ref:c,type:"password","show-password":"",autocomplete:"new-password",onKeyup:n[0]||(n[0]=ve((function(e){return Q(d).focus()}),["enter","native"])),modelValue:Q(y).firstMainPassword,"onUpdate:modelValue":n[1]||(n[1]=function(e){return Q(y).firstMainPassword=e}),placeholder:"请输入主密码"},null,8,["modelValue"])]})),_:1}),X(l,{style:{"padding-top":"10px"},prop:"secondMainPassword",label:"确认密码"},{default:q((function(){return[X(o,{ref_key:"secondMainPasswordRef",ref:d,type:"password","show-password":"",autocomplete:"new-password",onKeyup:n[2]||(n[2]=ve((function(e){return b(Q(s))}),["enter","native"])),modelValue:Q(y).secondMainPassword,"onUpdate:modelValue":n[3]||(n[3]=function(e){return Q(y).secondMainPassword=e}),placeholder:"请再次输入主密码"},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["name"]),X(m,{disabled:Q(r).globalLoading.vis,label:"手势密码",name:Q(V).GESTURE},{default:q((function(){return[Q(v)===Q(V).GESTURE?(H(),J("div",ga,[Q(g)?(H(),Z(t,{key:1},{default:q((function(){return[$("请再次绘制手势密码")]})),_:1})):(H(),Z(t,{key:0},{default:q((function(){return[$("请绘制手势密码")]})),_:1})),X(x,{style:{width:"350px",margin:"0 auto"},onComplete:w})])):ue("",!0)]})),_:1},8,["disabled","name"])]})),_:1},8,["modelValue"])]})),_:2},[Q(v)===Q(V).STANDARD?{name:"footer",fn:q((function(){return[X(k,{type:"primary",disabled:Q(r).globalLoading.vis,onClick:n[6]||(n[6]=function(e){return b(Q(s))})},{default:q((function(){return[$("确定")]})),_:1},8,["disabled"])]})),key:"0"}:void 0]),1032,["width","modelValue","close-on-press-escape","show-close"])}}}),[["__scopeId","data-v-9b8fe49a"]]),ha=function(e){return oe("data-v-9482f0e7"),e=e(),le(),e},ba=ha((function(){return W("span",{class:"iconfont icon-recovery"},null,-1)})),wa=ha((function(){return W("span",{style:{"font-weight":"bold"}},"·",-1)})),xa={style:{position:"absolute",padding:"7px"}},_a=ha((function(){return W("div",{class:"icon-div"},[W("span",{class:"iconfont icon-merge"})],-1)})),ka={style:{"margin-top":"20px",padding:"10px"}},Ca=ha((function(){return W("div",{class:"icon-div"},[W("span",{class:"iconfont icon-cover"})],-1)})),Aa={style:{"margin-top":"20px",padding:"10px"}},Fa=j({__name:"BackupAndRecovery",setup:function(e,n){var t=n.expose,i=a(),u=l(),s=G(!1),c=G(),f=G([]),v=G([]),m=function(e){var n=i.passwordManager.getStoreData();if(n){var t=e?"您与“".concat(d(Date.now(),"YYYY-MM-DD HH:mm"),"” 进行密码恢复时系统自动备份了该文件，"):"您于“".concat(d(Date.now(),"YYYY-MM-DD HH:mm"),"” 手动备份了该文件，"),r=i.allPasswordArray.length,a=D(),o={explain:"此文件为password-XL 密码备份文件，".concat(t,"此文件包含：").concat(r," 个密码、").concat(a," 个标签。 password-XL 官网服务地址为：https://password-xl.cn"),storeData:n,backupTime:Date.now()},l="密码备份 "+d(Date.now(),"YYYY-MM-DD HH:mm:ss")+".json",u=new Blob([JSON.stringify(o)],{type:"text/plain;charset=utf-8"});cn.saveAs(u,l)}else be.error({title:"系统异常",message:"备份文件不存在"})},g=function(){var e=o(r().mark((function e(n){var t,a,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S(i.mainPassword,n.storeData.passwordData)){e.next=6;break}t=E(i.mainPassword,n.storeData.passwordData),a=E(i.mainPassword,n.storeData.labelData),e.next=10;break;case 6:return e.next=8,u.verifyPasswordRef.getAndVerify((function(e){return S(e,n.storeData.passwordData)}),n.storeData.mainPasswordType);case 8:(o=e.sent)&&(t=E(o,n.storeData.passwordData),a=E(o,n.storeData.labelData));case 10:if(t&&a){e.next=13;break}return be.error({title:"恢复失败",message:"请检查备份文件及主密码是否正确"}),e.abrupt("return",!1);case 13:f.value=P(JSON.parse(t)),v.value=JSON.parse(a),i.allPasswordArray.length||i.labelArray.length?s.value=!0:y();case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(){u.verifyPasswordRef.getAndVerify((function(e){return i.passwordManager.verifyPassword(e)})).then((function(){h()}))},h=function(){(i.allPasswordArray.length||i.labelArray.length)&&(m(!0),we.success("已为您自动备份现有密码")),i.allPasswordArray=f.value,i.labelArray=v.value,x()},b=function(){u.verifyPasswordRef.getAndVerify((function(e){return i.passwordManager.verifyPassword(e)})).then((function(){w()}))},w=function(){(i.allPasswordArray.length||i.labelArray.length)&&(m(!0),we.success("已为您自动备份现有密码")),T(i.allPasswordArray,f.value),M(i.labelArray,v.value),x()},x=function(){var e=o(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.passwordManager.syncStoreData().catch((function(e){return e}));case 2:(n=e.sent).status?(we.success("密码恢复成功"),s.value=!1):be.error({title:"系统异常",message:n.message});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t({backup:m,recovery:function(){c.value.click()}}),function(e,n){var t=ke,r=Ce,a=Pe,o=Te,l=Ve;return H(),J(ne,null,[W("input",{type:"file",style:{display:"none"},ref_key:"fileInput",ref:c,onChange:n[0]||(n[0]=function(e){return function(){if(0!==c.value.files.length){var e=c.value.files[0],n=new FileReader;n.onload=function(){if(n.result)try{var e=JSON.parse(n.result);c.value.value="",g(e)}catch(t){be.error({title:"恢复失败",message:"请检查备份文件是否正确"})}},n.readAsText(e)}}()}),accept:"application/json"},null,544),X(l,{fullscreen:["xs","sm"].includes(Q(p)().value),modelValue:Q(s),"onUpdate:modelValue":n[1]||(n[1]=function(e){return re(s)?s.value=e:null}),width:"600px",draggable:""},{header:q((function(){return[X(t,{size:"large",style:{"user-select":"none"}},{default:q((function(){return[ba,$(" 恢复密码 "),wa,$(" 请选择恢复方式 ")]})),_:1})]})),default:q((function(){return[X(o,null,{default:q((function(){return[X(a,{sm:{span:24},md:{span:12},class:"recovery-col"},{default:q((function(){return[W("div",{class:"recovery-type recovery-merge",onClick:b},[W("div",xa,[X(r,{type:"success",effect:"dark"},{default:q((function(){return[$("推荐")]})),_:1})]),_a,X(t,{class:"recovery-text"},{default:q((function(){return[$(" 合并恢复 ")]})),_:1}),W("div",ka,[X(t,null,{default:q((function(){return[$("将现有密码与备份文件中的密码合并（修改过的密码会添加备注说明）")]})),_:1})])])]})),_:1}),X(a,{sm:{span:24},md:{span:12},class:"recovery-col"},{default:q((function(){return[W("div",{class:"recovery-type recovery-cover",onClick:y},[Ca,X(t,{class:"recovery-text"},{default:q((function(){return[$(" 覆盖恢复 ")]})),_:1}),W("div",Aa,[X(t,null,{default:q((function(){return[$("使用备份文件覆盖密码列表，现有的密码和标签都将被删除")]})),_:1})])])]})),_:1})]})),_:1})]})),_:1},8,["fullscreen","modelValue"])],64)}}}),Va=b(Fa,[["__scopeId","data-v-9482f0e7"]]),Ra=function(e){return oe("data-v-5a99a1a1"),e=e(),le(),e},Da=Ra((function(){return W("span",{class:"iconfont icon-recycle-bin"},null,-1)})),Sa={key:1,style:{"text-align":"center"}},Ea=Ra((function(){return W("div",{style:{"margin-top":"20px"}},[W("span",{class:"iconfont icon-recycle-bin not-enabled-recycle-bin-icon"})],-1)})),Pa={style:{margin:"20px"}},Ta={style:{margin:"40px"}},Ma=b(j({__name:"RecycleBin",setup:function(e,n){var t=n.expose,r=a(),o=i(),l=G(!1),u=function(){o.setting.enableRecycleBin=!0,r.passwordManager.syncSetting().then((function(e){e&&e.status&&we.success("已开启密码回收站")}))};return t({openRecycleBin:function(){l.value=!0}}),function(e,n){var t=ke,a=xe,i=Ee,s=Ae,c=Fe,d=Ve;return H(),Z(d,{fullscreen:["xs"].includes(Q(p)().value),modelValue:Q(l),"onUpdate:modelValue":n[0]||(n[0]=function(e){return re(l)?l.value=e:null}),width:"600px",draggable:"",class:"recycle-bin"},{header:q((function(){return[X(t,{size:"large",style:{"user-select":"none"}},{default:q((function(){return[Da,$(" 回收站 ")]})),_:1})]})),default:q((function(){return[Q(o).setting.enableRecycleBin?(H(),Z(s,{key:0,height:"380px","header-cell-style":{padding:0},data:Q(r).deletedArray},{empty:q((function(){return[X(t,{type:"info"},{default:q((function(){return[$("这里空空如也")]})),_:1})]})),default:q((function(){return[X(a,{prop:"title"}),X(a,{width:"150px"},{default:q((function(e){return[X(i,{type:"primary",onClick:function(n){return t=e.row,void r.passwordManager.cancelDeletePassword(t.id);var t},underline:!1},{default:q((function(){return[$("还原")]})),_:2},1032,["onClick"]),X(i,{type:"danger",style:{"margin-left":"15px"},onClick:function(n){return t=e.row,void r.passwordManager.completelyDeletePassword(t.id).then((function(e){e.status&&we.success("删除成功")}));var t},underline:!1},{default:q((function(){return[$("彻底删除")]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])):(H(),J("div",Sa,[Ea,W("div",Pa,[X(t,{type:"info"},{default:q((function(){return[$("当前未开启密码回收站功能")]})),_:1})]),W("div",Ta,[X(c,{onClick:u,type:"primary",plain:""},{default:q((function(){return[$("开启回收站")]})),_:1})])]))]})),_:1},8,["fullscreen","modelValue"])}}}),[["__scopeId","data-v-5a99a1a1"]]),La={key:0,class:"empty-favorite"},za={key:1},Ia=function(e){return oe("data-v-d2daeb2c"),e=e(),le(),e}((function(){return W("span",{class:"iconfont icon-edit cancel-favorite"},null,-1)})),Ua=b(j({__name:"Favorite",setup:function(e){var n=a(),t=l(),r=G(0),o=function(e){return n.filterCondition.favoriteId===e.id?"dark":r.value===e.id?"light":"plain"};return function(e,a){var l=Ce,i=$e,u=Qe,s=Ze,c=We;return H(),Z(c,{height:"calc(50vh - 103px)"},{default:q((function(){return[Q(n).favoritePasswordArray.length?ue("",!0):(H(),J("div",La," 暂无收藏 ")),Q(n).favoritePasswordArray.length?(H(),J("div",za,[(H(!0),J(ne,null,te(Q(n).favoritePasswordArray,(function(e){return H(),Z(s,{trigger:"contextmenu"},{dropdown:q((function(){return[X(u,null,{default:q((function(){return[X(i,{onClick:function(t){return function(e){e.favorite=!1,r.value=0,n.filterCondition.favoriteId=0,n.passwordManager.updatePassword(e)}(e)}},{default:q((function(){return[Ia,$(" 取消收藏 ")]})),_:2},1032,["onClick"])]})),_:2},1024)]})),default:q((function(){return[X(l,{effect:o(e),type:"warning",onMouseenter:function(n){return r.value=e.id},onMouseleave:a[0]||(a[0]=function(e){return r.value=0}),class:"favorite-tag",size:"large",onClick:function(r){return a=e.id,void(n.filterCondition.favoriteId===a?n.filterCondition.favoriteId=0:(n.filterCondition.favoriteId=a,t.labelTreeRef?t.labelTreeRef.setCheckedNodes([]):n.filterCondition.labelArray=[]));var a}},{default:q((function(){return[$(ee(e.title),1)]})),_:2},1032,["effect","onMouseenter","onClick"])]})),_:2},1024)})),256))])):ue("",!0)]})),_:1})}}}),[["__scopeId","data-v-d2daeb2c"]]),Ba={key:0,style:{"font-size":"12px",color:"#999","margin-bottom":"20px"}},Oa=function(e){return oe("data-v-01ae4433"),e=e(),le(),e}((function(){return W("span",{class:"iconfont icon-info",style:{"font-size":"100%"}},null,-1)})),Na=b(j({__name:"FavoriteDrawer",setup:function(e,n){var t=n.expose,r=a(),o=G(!1);return t({showFavoriteDrawer:function(){o.value=!0}}),ce((function(){return r.filterCondition.favoriteId}),(function(){o.value=!1})),function(e,n){var t=Ua,a=en;return H(),J("div",null,[X(a,{size:["xs","sm"].includes(Q(p)().value)?"60%":"350px",direction:["xs","sm"].includes(Q(p)().value)?"btt":"rtl",title:"收藏",modelValue:Q(o),"onUpdate:modelValue":n[0]||(n[0]=function(e){return re(o)?o.value=e:null})},{default:q((function(){return[Q(r).favoritePasswordArray.length?(H(),J("div",Ba,[Oa,$(" 点击收藏内容即可查看密码 ")])):ue("",!0),X(t)]})),_:1},8,["size","direction","modelValue"])])}}}),[["__scopeId","data-v-01ae4433"]]),ja=function(e){return oe("data-v-34171d03"),e=e(),le(),e},Ka=["onClick","onContextmenu"],Ya={key:1,style:{width:"100%"}},Ga=ja((function(){return W("span",{class:"iconfont icon-peer-directory more-item",style:{color:"rgb(22 220 109)"}},null,-1)})),Ha=ja((function(){return W("span",{class:"iconfont icon-sub-directory more-item",style:{color:"rgb(0 147 255)"}},null,-1)})),Ja=ja((function(){return W("span",{class:"iconfont icon-edit more-item",style:{color:"#FF9700","font-size":"130%"}},null,-1)})),Wa=ja((function(){return W("span",{class:"iconfont icon-delete more-item",style:{color:"rgb(255,23,23)","font-size":"130%"}},null,-1)})),Xa=b(j({__name:"LabelTree",setup:function(e,n){var t=n.expose,r=a(),o=l(),i=G({}),s={},c=G(0),d=function(e){return e.data.id!==c.value},f=function(e,n){var t=0;e&&(t="peer"===n?e.data.pid:e.data.id);var r={id:Date.now(),pid:t,name:"新标签",children:[]};c.value=r.id,e?"peer"===n?o.labelTreeRef.insertAfter(r,e.data.id):o.labelTreeRef.append(r,e.data.id):o.labelTreeRef.append(r),o.labelTreeRef.setCurrentKey(r.id,!0),setTimeout((function(){var e;null===(e=s[r.id])||void 0===e||e.focus()}),150)},p=function(e){var n=[];!function e(n,t){t.push(n.id);for(var r=0;r<n.children.length;r++)e(n.children[r],t)}(e.data,n);for(var t=!1,a=0;a<r.allPasswordArray.length;a++)for(var l=r.allPasswordArray[a],i=0;i<l.labels.length;i++)n.includes(l.labels[i])&&(l.labels.splice(i--,1),t=!0);o.labelTreeRef.remove(e.data.id);for(var u=0;u<r.filterCondition.labelArray.length;u++)n.includes(r.filterCondition.labelArray[u])&&r.filterCondition.labelArray.splice(u,1);for(var c=0;c<n.length;c++)delete s[n[c]];r.passwordManager.syncStoreData(),t&&r.passwordManager.syncStoreData()},v=function(e){e.name.trim()&&0!==c.value&&(c.value=0,r.passwordManager.syncStoreData())},m=function(){var e=o.labelTreeRef.getCheckedKeys();e.length>0&&(r.filterCondition.favoriteId=0),r.filterCondition.labelArray=e};return t({addLabel:f}),function(e,n){var t=Fe,a=Re,l=$e,g=Qe,y=Ze,h=nn,b=We;return H(),Z(b,{height:"calc(50vh - 103px)"},{default:q((function(){return[X(h,{data:Q(r).labelArray,"node-key":"id",draggable:"","show-checkbox":"",style:{"background-color":"rgba(0,0,0,0)"},onCheckChange:m,ref:function(e){return Q(o).labelTreeRef=e},"check-strictly":!0,"expand-on-click-node":!1,onNodeDrop:n[1]||(n[1]=function(e){return Q(r).passwordManager.syncStoreData()}),"default-expanded-keys":r.labelArray.map((function(e){return e.id})),"allow-drag":d},{empty:q((function(){return[Q(r).serviceStatus===Q(u).UNLOCKED?(H(),Z(t,{key:0,size:"small",type:"primary",plain:"",onClick:n[0]||(n[0]=function(e){return f(null,"sub")})},{default:q((function(){return[$(" 创建密码标签 ")]})),_:1})):ue("",!0)]})),default:q((function(e){var n=e.node,t=e.data;return[X(y,{ref:function(e){return Q(i)[t.id]=e},"hide-timeout":0,trigger:"contextmenu",disabled:0!==Q(c),style:{width:"100%"}},{dropdown:q((function(){return[X(g,null,{default:q((function(){return[X(l,{onClick:function(e){return f(n,"peer")}},{default:q((function(){return[Ga,$(" 添加同级标签 ")]})),_:2},1032,["onClick"]),X(l,{onClick:function(e){return f(n,"sub")}},{default:q((function(){return[Ha,$(" 添加子级标签 ")]})),_:2},1032,["onClick"]),X(l,{divided:"",onClick:function(e){return function(e){c.value=e.data.id,setTimeout((function(){var n;null===(n=s[e.data.id])||void 0===n||n.focus()}),150)}(n)}},{default:q((function(){return[Ja,$(" 修改标签 ")]})),_:2},1032,["onClick"]),X(l,{onClick:function(e){return function(e){je.confirm("确认删除“"+e.data.name+"”吗？","删除标签",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((function(){p(e)})).catch((function(){}))}(n)}},{default:q((function(){return[Wa,$(" 删除标签 ")]})),_:2},1032,["onClick"])]})),_:2},1024)]})),default:q((function(){return[t.id!==Q(c)?(H(),J("div",{key:0,onClick:function(e){return function(e){0===c.value&&o.labelTreeRef.setChecked(e,!e.checked)}(n)},onContextmenu:function(e){return function(e){for(var n in e.stopPropagation(),o.contextmenuRef.hideContextmenu(),i.value)i.value[n]&&i.value[n].handleClose()}(e,t.id)},class:"label-content"},ee(t.name),41,Ka)):ue("",!0),t.id===Q(c)?(H(),J("div",Ya,[X(a,{ref:function(e){return s[n.data.id]=e},size:"small",onBlur:function(e){return v(t)},onKeyup:ve((function(e){return v(t)}),["enter"]),modelValue:t.name,"onUpdate:modelValue":function(e){return t.name=e}},null,8,["onBlur","onKeyup","modelValue","onUpdate:modelValue"])])):ue("",!0)]})),_:2},1032,["disabled"])]})),_:1},8,["data","default-expanded-keys"])]})),_:1})}}}),[["__scopeId","data-v-34171d03"]]),qa=function(e){return oe("data-v-ef6771b1"),e=e(),le(),e}((function(){return W("div",{style:{"font-size":"12px",color:"#999","margin-bottom":"20px"}},[W("span",{class:"iconfont icon-info",style:{"font-size":"100%"}}),$(" 选中标签可以对密码列表进行过滤 ")],-1)})),$a=b(j({__name:"LabelDrawer",setup:function(e,n){var t=n.expose,r=G(!1);return t({showLabelDrawer:function(){r.value=!0}}),function(e,n){var t=Xa,a=en;return H(),J("div",null,[X(a,{size:["xs","sm"].includes(Q(p)().value)?"80%":"350px",direction:["xs","sm"].includes(Q(p)().value)?"btt":"rtl",title:"标签",modelValue:Q(r),"onUpdate:modelValue":n[0]||(n[0]=function(e){return re(r)?r.value=e:null})},{default:q((function(){return[qa,X(t)]})),_:1},8,["size","direction","modelValue"])])}}}),[["__scopeId","data-v-ef6771b1"]]),Qa={class:"generate-input-div"},Za={class:"generate-use-type-div"},eo={class:"generate-length-div"},no=["onClick"],to={class:"iconfont icon-check-mark",style:{"font-size":"14px"}},ro={style:{"text-align":"right"}},ao=j({__name:"PasswordForm",setup:function(e,t){var u=t.expose,s=l(),c=a(),d=i(),f=G(!1),v=G(""),m=G(!1),g=function(){return{id:0,title:"",address:"",username:"",password:"",remark:"",addTime:0,updateTime:0,deleteTime:0,favoriteTime:0,favorite:!1,customFields:{},labels:[],status:y.NORMAL,bgColor:""}},h=G(g()),b=G(JSON.parse(JSON.stringify(d.setting.generateRule))),w=ie({title:[{required:!0,message:"请输入名称",trigger:"blur"}]}),_=function(e,t){if(e){var r=c.passwordArray.filter((function(n){return n.username.startsWith(e)})).map((function(e){return{value:e.username}})).filter((function(e,n,t){return n===t.findIndex((function(n){return n.value===e.value}))}));t(n(new Set(r)))}else t([])},k=null,C=function(){m.value=!1,null!==k&&clearInterval(k),setTimeout((function(){m.value=!0,h.value.password="";var e=z(b.value);if(e){var n=0;k=setInterval((function(){h.value.password+=e[n++],n>=e.length&&(clearInterval(k),k=null)}),500/b.value.length/4)}}),1)},A=function(){var e=o(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.validate((function(e){e&&("add"===v.value?c.passwordManager.addPassword(JSON.parse(JSON.stringify(h.value))).then((function(e){e.status?(we.success("保存成功"),f.value=!1):be.error({title:"系统异常",message:e.message})})):(h.value.updateTime=Date.now(),c.passwordManager.updatePassword(JSON.parse(JSON.stringify(h.value))).then((function(e){e.status?(we.success("修改成功"),f.value=!1):be.error({title:"系统异常",message:e.message})}))))}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();u({addPasswordForm:function(e){var n;v.value="add",h.value=g(),b.value=JSON.parse(JSON.stringify(d.setting.generateRule)),f.value=!0,null===(n=s.passwordFormFormRef)||void 0===n||n.clearValidate(),d.setting.autoGeneratePassword&&C(),e&&ae((function(){h.value.title=e})),setTimeout((function(){var e;null===(e=s.passwordFormTitleRef)||void 0===e||e.focus()}),300)},editPasswordForm:function(e){var n;v.value="edit",b.value=JSON.parse(JSON.stringify(d.setting.generateRule)),h.value=JSON.parse(JSON.stringify(e)),f.value=!0,null===(n=s.passwordFormFormRef)||void 0===n||n.clearValidate()},closePasswordForm:function(){f.value=!1}});var F=function(e){d.setting.enableShortcutKey&&e.ctrlKey&&"S"===e.key.toUpperCase()&&(e.preventDefault(),A(s.passwordFormFormRef))};return K((function(){document.addEventListener("keydown",F)})),Y((function(){document.removeEventListener("keydown",F)})),function(e,n){var t=ke,r=Re,a=Oe,o=tn,l=Fe,i=_e,u=He,g=Pe,y=Te,k=Je,F=rn,V=an,R=Ne,D=en;return H(),Z(D,{modelValue:Q(f),"onUpdate:modelValue":n[14]||(n[14]=function(e){return re(f)?f.value=e:null}),"show-close":!1,size:["xs","sm"].includes(Q(p)().value)?"80%":"540px",direction:["xs","sm"].includes(Q(p)().value)?"btt":"rtl"},{header:q((function(){return[X(t,{style:{"font-size":"16px"}},{default:q((function(){return[$(ee("add"===Q(v)?"添加密码":"修改密码"),1)]})),_:1})]})),default:q((function(){return[X(R,{model:Q(h),rules:Q(w),"label-width":"60px",ref:function(e){return Q(s).passwordFormFormRef=e}},{default:q((function(){return[X(a,{label:"名称",prop:"title"},{default:q((function(){return[X(r,{ref:function(e){return Q(s).passwordFormTitleRef=e},modelValue:Q(h).title,"onUpdate:modelValue":n[0]||(n[0]=function(e){return Q(h).title=e}),autocomplete:"new-password",clearable:""},null,8,["modelValue"])]})),_:1}),X(a,{label:"地址",prop:"address"},{default:q((function(){return[X(r,{modelValue:Q(h).address,"onUpdate:modelValue":n[1]||(n[1]=function(e){return Q(h).address=e}),autocomplete:"new-password",clearable:""},null,8,["modelValue"])]})),_:1}),X(a,{label:"用户名",prop:"username"},{default:q((function(){return[X(o,{modelValue:Q(h).username,"onUpdate:modelValue":n[2]||(n[2]=function(e){return Q(h).username=e}),"fetch-suggestions":_,clearable:"",autocomplete:"new-password"},null,8,["modelValue"])]})),_:1}),X(a,{label:"密码"},{default:q((function(){return[X(F,{class:"generate-card"},{default:q((function(){return[W("div",Qa,[X(r,{autocomplete:"new-password",class:"generate-input",placeholder:"输入密码或随机生成",modelValue:Q(h).password,"onUpdate:modelValue":n[4]||(n[4]=function(e){return Q(h).password=e}),clearable:""},{append:q((function(){return[X(i,{content:"随机生成",placement:"top"},{default:q((function(){return[X(l,{ref:function(e){return Q(s).passwordFormGenerateBtnRef=e},onClick:C,tabindex:"-1",class:"refresh-password"},{default:q((function(){return[W("i",{class:me(["iconfont icon-dice",{"random-dice":Q(m)}]),onAnimationend:n[3]||(n[3]=function(e){return m.value=!1})},null,34)]})),_:1},512)]})),_:1})]})),_:1},8,["modelValue"]),X(l,{onClick:n[5]||(n[5]=function(e){return Q(x)(Q(h).password)}),tabindex:"-1",type:"success",plain:""},{default:q((function(){return[$("复制")]})),_:1})]),W("div",Za,[X(y,null,{default:q((function(){return[X(g,{xs:{span:12},sm:{span:6},style:{"text-align":"center"}},{default:q((function(){return[X(u,{size:"small",class:"generate-type-checkbox",modelValue:Q(b).uppercase,"onUpdate:modelValue":n[6]||(n[6]=function(e){return Q(b).uppercase=e}),label:"大写",tabindex:"-1",disabled:!Q(b).lowercase&&!Q(b).number&&!Q(b).symbol,onChange:C,border:""},null,8,["modelValue","disabled"])]})),_:1}),X(g,{xs:{span:12},sm:{span:6},style:{"text-align":"center"}},{default:q((function(){return[X(u,{size:"small",class:"generate-type-checkbox",modelValue:Q(b).lowercase,"onUpdate:modelValue":n[7]||(n[7]=function(e){return Q(b).lowercase=e}),label:"小写",tabindex:"-1",disabled:!Q(b).uppercase&&!Q(b).number&&!Q(b).symbol,onChange:C,border:""},null,8,["modelValue","disabled"])]})),_:1}),X(g,{xs:{span:12},sm:{span:6},style:{"text-align":"center"}},{default:q((function(){return[X(u,{size:"small",class:"generate-type-checkbox",modelValue:Q(b).number,"onUpdate:modelValue":n[8]||(n[8]=function(e){return Q(b).number=e}),label:"数字",tabindex:"-1",disabled:!Q(b).uppercase&&!Q(b).lowercase&&!Q(b).symbol,onChange:C,border:""},null,8,["modelValue","disabled"])]})),_:1}),X(g,{xs:{span:12},sm:{span:6},style:{"text-align":"center"}},{default:q((function(){return[X(u,{size:"small",class:"generate-type-checkbox",modelValue:Q(b).symbol,"onUpdate:modelValue":n[9]||(n[9]=function(e){return Q(b).symbol=e}),label:"符号",tabindex:"-1",disabled:!Q(b).uppercase&&!Q(b).lowercase&&!Q(b).number,onChange:C,border:""},null,8,["modelValue","disabled"])]})),_:1})]})),_:1})]),W("div",eo,[X(k,{size:"small",onChange:C,modelValue:Q(b).length,"onUpdate:modelValue":n[10]||(n[10]=function(e){return Q(b).length=e}),min:4,max:32,tabindex:"-1",ref:function(e){return Q(s).passwordFormGenerateRuleRef=e},"show-input":"","show-input-controls":!1},null,8,["modelValue"])])]})),_:1})]})),_:1}),X(a,{label:"标签"},{default:q((function(){return[X(V,{modelValue:Q(h).labels,"onUpdate:modelValue":n[11]||(n[11]=function(e){return Q(h).labels=e}),data:Q(c).labelArray,"node-key":"id","check-strictly":!0,props:{label:"name"},"default-expanded-keys":c.labelArray.map((function(e){return e.id})),multiple:"","show-checkbox":""},null,8,["modelValue","data","default-expanded-keys"])]})),_:1}),X(a,{label:"备注"},{default:q((function(){return[X(r,{type:"textarea",placeholder:"备注...",rows:2,autocomplete:"new-password",modelValue:Q(h).remark,"onUpdate:modelValue":n[12]||(n[12]=function(e){return Q(h).remark=e})},null,8,["modelValue"])]})),_:1}),Q(d).setting.passwordColor?(H(),Z(a,{key:0},{default:q((function(){return[(H(!0),J(ne,null,te(Q(d).setting.bgColors,(function(e){return H(),J("div",{onClick:function(n){return Q(h).bgColor===e?Q(h).bgColor="":Q(h).bgColor=e},style:ge({"background-color":Q(L)(e,Q(h).bgColor===e?"0.5":"0.3"),transform:Q(h).bgColor===e?"scale(1.5)":"scale(1)"}),class:"bg-color-item"},[ye(W("span",to,null,512),[[he,Q(h).bgColor===e]])],12,no)})),256))]})),_:1})):ue("",!0)]})),_:1},8,["model","rules"]),W("div",ro,[X(l,{onClick:n[13]||(n[13]=function(e){return A(Q(s).passwordFormFormRef)}),ref:function(e){return Q(s).passwordFormSaveBtnRef=e},type:"primary"},{default:q((function(){return[$("保存")]})),_:1},512)])]})),_:1},8,["modelValue","size","direction"])}}}),oo=b(ao,[["__scopeId","data-v-ffce58f2"]]),lo=function(e){return oe("data-v-99bcdadf"),e=e(),le(),e}((function(){return W("span",{class:"iconfont icon-risk"},null,-1)})),io=b(j({__name:"CancelAccount",setup:function(e,n){var t=n.expose,r=l(),o=a(),i=G(!1),u=function(){r.verifyPasswordRef.getAndVerify((function(e){return o.passwordManager.verifyPassword(e)})).then((function(){o.passwordManager.closeAccount().then((function(e){e.status?(be.success({title:"账户注销成功",message:"欢迎再次使用！"}),o.logout()):be.error({title:"账户注销失败",message:e.message})}))}))};return t({showCloseAccount:function(){i.value=!0}}),function(e,n){var t=ke,r=ze,a=Fe,o=Ve;return H(),Z(o,{width:["xs"].includes(Q(p)().value)?"95%":"400px",modelValue:Q(i),"onUpdate:modelValue":n[1]||(n[1]=function(e){return re(i)?i.value=e:null})},{header:q((function(){return[X(t,{size:"large",style:{"user-select":"none"}},{default:q((function(){return[lo,$(" 注销账户 ")]})),_:1})]})),footer:q((function(){return[X(a,{type:"primary",plain:"",onClick:n[0]||(n[0]=function(e){return i.value=!1})},{default:q((function(){return[$("我点错了")]})),_:1}),X(a,{type:"danger",onClick:u},{default:q((function(){return[$("确认注销")]})),_:1})]})),default:q((function(){return[X(r,{type:"error",closable:!1},{default:q((function(){return[$("注销账户将永久删除所有密码和标签且不可恢复，确认注销账户吗？")]})),_:1})]})),_:1},8,["width","modelValue"])}}}),[["__scopeId","data-v-99bcdadf"]]),uo={style:{display:"flex","justify-content":"space-between"}},so=function(e){return oe("data-v-287aa2e9"),e=e(),le(),e}((function(){return W("span",{class:"iconfont icon-collect",style:{color:"#FF9700","margin-right":"8px","font-size":"110%"}},null,-1)})),co=b(j({__name:"FavoriteCard",setup:function(e){var n=a(),t=i();return function(e,r){var a=ke,o=on,l=_e,i=Ua,u=rn;return Q(t).setting.showFavoriteCard?(H(),Z(u,{key:0,class:"favorite-card",style:ge({"background-color":Q(n).isDark?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)"})},{header:q((function(){return[W("div",uo,[W("div",null,[so,X(a,{size:"large"},{default:q((function(){return[$("收藏")]})),_:1})]),W("div",null,[0!==Q(n).filterCondition.favoriteId?(H(),Z(l,{key:0,content:"收藏过滤生效中，点击取消",placement:"left"},{default:q((function(){return[X(o,{"is-dot":"",class:"item"},{default:q((function(){return[W("span",{onClick:r[0]||(r[0]=function(e){return Q(n).filterCondition.favoriteId=0}),class:"iconfont icon-filtration filter-icon"})]})),_:1})]})),_:1})):ue("",!0)])])]})),default:q((function(){return[X(i)]})),_:1},8,["style"])):ue("",!0)}}}),[["__scopeId","data-v-287aa2e9"]]),fo={style:{display:"flex","justify-content":"space-between"}},po=function(e){return oe("data-v-0498bcba"),e=e(),le(),e}((function(){return W("span",{class:"iconfont icon-label",style:{color:"#409EFF","margin-right":"8px","font-size":"110%"}},null,-1)})),vo=b(j({__name:"LabelCard",setup:function(e){var n=a(),t=l(),r=i();return function(e,a){var o=ke,l=on,i=_e,u=Xa,s=rn;return Q(r).setting.showLabelCard?(H(),Z(s,{key:0,class:"label-card",style:ge({"background-color":Q(n).isDark?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)"}),header:"标签"},{header:q((function(){return[W("div",fo,[W("div",null,[po,X(o,{size:"large"},{default:q((function(){return[$("标签")]})),_:1})]),W("div",null,[Q(n).filterCondition.labelArray.length?(H(),Z(i,{key:0,content:"标签过滤生效中，点击取消",placement:"left"},{default:q((function(){return[X(l,{"is-dot":"",class:"item"},{default:q((function(){return[W("span",{onClick:a[0]||(a[0]=function(e){return Q(t).labelTreeRef.setCheckedNodes([])}),class:"iconfont icon-filtration filter-icon"})]})),_:1})]})),_:1})):ue("",!0)])])]})),default:q((function(){return[X(u,{ref:function(e){return Q(t).labelTreeDivRef=e}},null,512)]})),_:1},8,["style"])):ue("",!0)}}}),[["__scopeId","data-v-0498bcba"]]),mo=""+new URL("empty-Dnhuoe9-.svg",t.meta.url).href,go=function(e){return oe("data-v-64ac58fd"),e=e(),le(),e},yo={class:"empty-list-div"},ho={key:0},bo=go((function(){return W("span",{class:"iconfont icon-lock-close"},null,-1)})),wo=go((function(){return W("div",{class:"status-tip"},"已锁定",-1)})),xo={key:1},_o=go((function(){return W("img",{alt:"",src:mo},null,-1)})),ko=go((function(){return W("div",{class:"status-tip"},"这里一个密码都没有",-1)})),Co=b(j({__name:"EmptyList",setup:function(e){var n=a(),t=l();return function(e,r){var a=Fe;return H(),J("div",yo,[Q(n).serviceStatus===Q(u).LOGGED?(H(),J("div",ho,[bo,wo,X(a,{style:{"margin-top":"30px"},onClick:r[0]||(r[0]=function(e){return Q(t).verifyPasswordRef.verifyAndUnlock()}),type:"primary",plain:""},{default:q((function(){return[$("解锁")]})),_:1})])):ue("",!0),Q(n).serviceStatus===Q(u).UNLOCKED?(H(),J("div",xo,[_o,ko,0===Q(n).passwordArray.length?(H(),Z(a,{key:0,onClick:r[1]||(r[1]=function(e){return Q(t).passwordFormRef.addPasswordForm()}),type:"primary",style:{"margin-top":"30px"},plain:""},{default:q((function(){return[$(" 添加我的第一个密码 ")]})),_:1})):ue("",!0)])):ue("",!0)])}}}),[["__scopeId","data-v-64ac58fd"]]),Ao=function(e){return oe("data-v-7988a419"),e=e(),le(),e},Fo=["onClick"],Vo={class:"password-field-ul",style:{height:"100%"}},Ro={key:0,class:"empty-card"},Do={key:1},So=Ao((function(){return W("div",{class:"clear"},null,-1)})),Eo={key:2},Po={class:"card-username-div"},To=["onClick"],Mo=Ao((function(){return W("div",{class:"clear"},null,-1)})),Lo={key:3},zo={key:0,class:"card-password-span"},Io={key:1,style:{position:"relative",top:"3px"}},Uo=["onClick"],Bo=["onClick"],Oo=Ao((function(){return W("div",{class:"clear"},null,-1)})),No={key:4},jo=Ao((function(){return W("div",{class:"clear"},null,-1)})),Ko={key:5},Yo=Ao((function(){return W("div",{class:"clear"},null,-1)})),Go=Ao((function(){return W("div",{class:"clear"},null,-1)})),Ho={style:{display:"flex","justify-content":"space-between"}},Jo=Ao((function(){return W("span",{class:"iconfont icon-delete card-opt-icon"},null,-1)})),Wo=Ao((function(){return W("span",{class:"iconfont icon-edit card-opt-icon"},null,-1)})),Xo=Ao((function(){return W("span",{class:"iconfont icon-share card-opt-icon"},null,-1)})),qo=b(j({__name:"PasswordCards",setup:function(e){var n=a(),t=l(),r=i(),o=G(0),u=function(e){var t=n.isDark?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.1)";return r.setting.passwordColor?{"background-color":L(e.bgColor,"0.06"),"border-bottom":e.bgColor?"1px solid "+L(e.bgColor,"0.06"):"1px solid "+t}:{"background-color":"rgba(0,0,0,0)","border-bottom":"1px solid "+t}};return function(e,a){var l=Co,i=_e,s=ke,c=Ee,v=Ce,m=Fe,g=rn,y=We;return H(),J(ne,null,[Q(n).visPasswordArray.length?ue("",!0):(H(),Z(l,{key:0})),Q(n).visPasswordArray.length?(H(),Z(y,{key:1,height:"calc(100vh - 85px)"},{default:q((function(){return[W("div",{style:ge([{display:"grid",padding:"6px"},{"grid-template-columns":"repeat("+(["xs"].includes(p().value)?1:["sm","md"].includes(p().value)?2:["lg"].includes(p().value)?3:4)+", 1fr)"}])},[(H(!0),J(ne,null,te(Q(n).visPasswordArray,(function(e){return H(),J("div",null,[X(g,{"body-style":"height: 100%;",style:ge({"background-color":Q(n).isDark?"rgba(0,0,0,0.1)":"rgba(255,255,255,0.1)"}),class:"password-card"},{header:q((function(){return[W("div",{class:"password-header-div",style:ge(u(e))},[W("div",null,[Q(r).setting.showStrength&&e.password?(H(),Z(i,{key:0,content:Q(I)(e.password),placement:"top"},{default:q((function(){return[W("div",{class:"password-strength",style:ge({"background-color":Q(U)(e.password)})},null,4)]})),_:2},1032,["content"])):ue("",!0),X(s,{style:{"font-size":"17px"}},{default:q((function(){return[$(ee(e.title),1)]})),_:2},1024)]),W("div",null,[X(i,{content:e.favorite?"取消收藏":"收藏",placement:"top"},{default:q((function(){return[W("span",{class:me(["iconfont icon-favorited card-opt-icon",e.favorite?"icon-favorited":"icon-collect"]),style:ge([{"font-size":"115%"},{color:e.favorite?"#FF9700":"rgb(255 151 0 / 75%)"}]),onClick:function(t){return function(e){e.favorite=!e.favorite,e.favoriteTime=Date.now(),n.passwordManager.updatePassword(e)}(e)}},null,14,Fo)]})),_:2},1032,["content"])])],4)]})),footer:q((function(){return[W("div",Ho,[X(s,{type:"info",style:{"font-size":"80%"}},{default:q((function(){return[$(ee(Q(d)(e.updateTime,"YYYY-MM-DD HH:mm")),1)]})),_:2},1024),W("div",null,[X(i,{content:"删除",placement:"top"},{default:q((function(){return[X(m,{type:"danger",plain:"",size:"small",onClick:function(t){return function(e){je.confirm("确认删除“"+e.title+"”吗？","删除密码",{confirmButtonClass:"confirm-delete-btn",confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((function(){n.passwordManager.deletePassword(e.id).then((function(e){e.status||be.error({title:"系统异常",message:e.message})}))})).catch((function(){}))}(e)}},{default:q((function(){return[Jo]})),_:2},1032,["onClick"])]})),_:2},1024),X(i,{content:"修改",placement:"top"},{default:q((function(){return[X(m,{type:"primary",plain:"",size:"small",onClick:function(n){return Q(t).passwordFormRef.editPasswordForm(e)}},{default:q((function(){return[Wo]})),_:2},1032,["onClick"])]})),_:2},1024),X(i,{content:"分享",placement:"top"},{default:q((function(){return[X(m,{type:"success",plain:"",size:"small",onClick:function(n){return Q(B)(e)}},{default:q((function(){return[Xo]})),_:2},1032,["onClick"])]})),_:2},1024)])])]})),default:q((function(){return[W("ul",Vo,[e.address||e.username||e.password||e.remark||e.labels.length||e.customFields&&Object.keys(e.customFields).length>0?ue("",!0):(H(),J("li",Ro,[X(s,{style:{margin:"20px 0"}},{default:q((function(){return[$(" 空空如也！ ")]})),_:1})])),e.address?(H(),J("li",Do,[X(s,{class:"password-field-name"},{default:q((function(){return[$("地址:")]})),_:1}),X(s,{class:"password-field-value"},{default:q((function(){return[Q(O)(e.address)?(H(),Z(c,{key:0,type:"primary",href:e.address,target:"_blank"},{default:q((function(){return[$(ee(e.address),1)]})),_:2},1032,["href"])):(H(),Z(s,{key:1},{default:q((function(){return[$(ee(e.address),1)]})),_:2},1024))]})),_:2},1024),So])):ue("",!0),e.username?(H(),J("li",Eo,[X(s,{class:"password-field-name"},{default:q((function(){return[$("用户名:")]})),_:1}),X(s,{class:"password-field-value"},{default:q((function(){return[W("div",Po,[$(ee(e.username)+" ",1),X(i,{content:"复制用户名",placement:"top","show-after":300,"hide-after":0},{default:q((function(){return[W("span",{class:"iconfont icon-copy password-row-icon copy-username",onClick:function(n){return Q(x)(e.username)}},null,8,To)]})),_:2},1024)])]})),_:2},1024),Mo])):ue("",!0),e.password?(H(),J("li",Lo,[X(s,{class:"password-field-name"},{default:q((function(){return[$("密码:")]})),_:1}),X(s,{class:"password-field-value"},{default:q((function(){return[Q(o)===e.id?(H(),J("span",zo,ee(e.password),1)):(H(),J("span",Io,"**********")),Q(o)===e.id?(H(),J("span",{key:2,class:"iconfont icon-hide password-card-icon",onClick:a[0]||(a[0]=function(e){return o.value=0})})):(H(),J("span",{key:3,class:"iconfont icon-show password-card-icon",onClick:function(n){return function(e){e.password.length>40?(t.showPasswordRef.showPassword(e),o.value=0):o.value=e.id}(e)}},null,8,Uo)),W("span",{class:"iconfont icon-copy password-card-icon",style:{},onClick:function(n){return Q(x)(e.password)}},null,8,Bo)]})),_:2},1024),Oo])):ue("",!0),e.remark?(H(),J("li",No,[X(s,{class:"password-field-name"},{default:q((function(){return[$("备注:")]})),_:1}),X(s,{class:"password-field-value"},{default:q((function(){return[$(ee(e.remark),1)]})),_:2},1024),jo])):ue("",!0),e.labels.length?(H(),J("li",Ko,[X(s,{class:"password-field-name"},{default:q((function(){return[$("标签:")]})),_:1}),X(s,{class:"password-field-value"},{default:q((function(){return[(H(!0),J(ne,null,te(Q(f)(e),(function(e){return H(),Z(v,{class:"card-label"},{default:q((function(){return[$(ee(e.name),1)]})),_:2},1024)})),256))]})),_:2},1024),Yo])):ue("",!0),(H(!0),J(ne,null,te(e.customFields,(function(n){return H(),J("li",null,[X(s,{class:"password-field-name"},{default:q((function(){return[$(ee(n)+":",1)]})),_:2},1024),X(s,{class:"password-field-value"},{default:q((function(){return[$(ee(e.customFields[n]),1)]})),_:2},1024),Go])})),256))])]})),_:2},1032,["style"])])})),256))],4)]})),_:1})):ue("",!0)],64)}}}),[["__scopeId","data-v-7988a419"]]),$o=function(e){return oe("data-v-6ce79486"),e=e(),le(),e},Qo={key:1,class:"password-card-table"},Zo={key:0,class:"username-div"},el={class:"username-text"},nl=["onClick"],tl={key:0,class:"table-password-div"},rl={style:{width:"150px"}},al={key:0,class:"table-password-span"},ol={key:1,class:"table-password-symbol"},ll=["onClick"],il=["onClick"],ul={style:{display:"flex","justify-content":"space-evenly"}},sl=$o((function(){return W("span",{class:"iconfont icon-share table-opt-icon"},null,-1)})),cl=$o((function(){return W("span",{class:"iconfont icon-edit table-opt-icon"},null,-1)})),dl=$o((function(){return W("span",{class:"iconfont icon-favorited table-opt-icon",style:{color:"#FF9700"}},null,-1)})),fl=$o((function(){return W("span",{class:"iconfont icon-collect table-opt-icon",style:{color:"#FF9700"}},null,-1)})),pl=$o((function(){return W("span",{class:"iconfont icon-delete table-opt-icon"},null,-1)})),vl=b(j({__name:"PasswordTable",setup:function(e){var n=a(),t=l(),r=i(),o=G(0),u=function(e){e.favorite?e.favorite=!1:e.favorite=!0,e.favoriteTime=Date.now(),n.passwordManager.updatePassword(e)},s=function(e,n){var t=N(e.password),a=N(n.password);return t>a?r.setting.sortOrder===C.ASC?1:-1:t<a?r.setting.sortOrder===C.ASC?-1:1:0},c=function(e){return r.setting.passwordColor&&e.row.bgColor?{"background-color":L(e.row.bgColor,"0.1")}:{"background-color":"rgba(0,0,0,0)"}};return function(e,a){var l=Co,i=_e,p=xe,v=Ee,m=ke,g=Ce,y=Ae;return H(),J(ne,null,[Q(n).visPasswordArray.length?ue("",!0):(H(),Z(l,{key:0})),Q(n).visPasswordArray.length?(H(),J("div",Qo,[X(y,{data:Q(n).visPasswordArray,ref:"passwordTableRef",height:"calc(100vh - 120px)",style:{"background-color":"rgba(0,0,0,0)"},"header-row-style":{"background-color":"rgba(0,0,0,0)"},"header-cell-style":{"background-color":"rgba(0,0,0,0)"},"row-style":c,"cell-style":{"background-color":"rgba(0,0,0,0)"}},{default:q((function(){return[Q(r).setting.showStrength?(H(),Z(p,{key:0,prop:"strength",width:"30px","sort-method":s,sortable:""},{default:q((function(e){return[X(i,{content:Q(I)(e.row.password),placement:"top"},{default:q((function(){return[W("div",{class:"password-strength",style:ge({"background-color":Q(U)(e.row.password)})},null,4)]})),_:2},1032,["content"])]})),_:1})):ue("",!0),X(p,{label:"名称","min-width":"130px",sortable:"",prop:"title"}),X(p,{label:"地址","min-width":"200px",prop:"address"},{default:q((function(e){return[W("div",null,[Q(O)(e.row.address)?(H(),Z(v,{key:0,type:"primary",class:"address-link",href:e.row.address,target:"_blank"},{default:q((function(){return[$(ee(e.row.address),1)]})),_:2},1032,["href"])):(H(),Z(m,{key:1},{default:q((function(){return[$(ee(e.row.address),1)]})),_:2},1024))])]})),_:1}),X(p,{label:"用户名","min-width":"180px",sortable:"",prop:"username"},{default:q((function(e){return[e.row.username?(H(),J("div",Zo,[W("div",el,ee(e.row.username),1),W("div",null,[W("span",{class:"iconfont icon-copy password-row-icon copy-username",onClick:function(n){return Q(x)(e.row.username)}},null,8,nl)])])):ue("",!0)]})),_:1}),X(p,{label:"密码",width:"220px",prop:"password"},{default:q((function(e){return[e.row.password?(H(),J("div",tl,[W("div",rl,[Q(o)===e.row.id?(H(),J("span",al,ee(e.row.password),1)):ue("",!0),Q(o)!==e.row.id?(H(),J("span",ol,"*******")):ue("",!0)]),W("div",null,[Q(o)===e.row.id?(H(),J("span",{key:0,class:"iconfont icon-hide password-row-icon",onClick:a[0]||(a[0]=function(e){return o.value=0})})):ue("",!0),Q(o)!==e.row.id?(H(),J("span",{key:1,class:"iconfont icon-show password-row-icon",onClick:function(n){var r;(r=e.row).password.length>40?(t.showPasswordRef.showPassword(r),o.value=0):o.value=r.id}},null,8,ll)):ue("",!0),W("span",{class:"iconfont icon-copy password-row-icon",onClick:function(n){return Q(x)(e.row.password)}},null,8,il)])])):ue("",!0)]})),_:1}),"addTime"===Q(r).setting.showTimeForTable?(H(),Z(p,{key:1,label:"添加时间","min-width":"150px",sortable:"",formatter:function(e){return Q(d)(e.addTime,"YYYY-MM-DD HH:mm")},prop:"addTime"},null,8,["formatter"])):ue("",!0),"updateTime"===Q(r).setting.showTimeForTable?(H(),Z(p,{key:2,label:"修改时间","min-width":"150px",sortable:"",formatter:function(e){return Q(d)(e.updateTime,"YYYY-MM-DD HH:mm")},prop:"updateTime"},null,8,["formatter"])):ue("",!0),Q(r).setting.showLabelForTable?(H(),Z(p,{key:3,label:"标签","min-width":"110px",prop:"labels"},{default:q((function(e){return[(H(!0),J(ne,null,te(Q(f)(e.row),(function(e){return H(),Z(g,{class:"table-label"},{default:q((function(){return[$(ee(e.name),1)]})),_:2},1024)})),256))]})),_:1})):ue("",!0),X(p,{label:"备注","min-width":"130px",prop:"remark"}),X(p,{label:"操作","min-width":"145px",width:"150px"},{default:q((function(e){return[W("div",ul,[X(i,{content:"分享",placement:"top"},{default:q((function(){return[X(v,{type:"success",onClick:function(n){return Q(B)(e.row)},underline:!1},{default:q((function(){return[sl]})),_:2},1032,["onClick"])]})),_:2},1024),X(i,{content:"修改",placement:"top"},{default:q((function(){return[X(v,{type:"primary",onClick:function(n){return Q(t).passwordFormRef.editPasswordForm(e.row)},underline:!1},{default:q((function(){return[cl]})),_:2},1032,["onClick"])]})),_:2},1024),X(i,{content:e.row.favorite?"取消收藏":"收藏",placement:"top"},{default:q((function(){return[e.row.favorite?(H(),Z(v,{key:0,type:"primary",onClick:function(n){return u(e.row)},underline:!1},{default:q((function(){return[dl]})),_:2},1032,["onClick"])):ue("",!0),e.row.favorite?ue("",!0):(H(),Z(v,{key:1,type:"primary",onClick:function(n){return u(e.row)},underline:!1},{default:q((function(){return[fl]})),_:2},1032,["onClick"]))]})),_:2},1032,["content"]),X(i,{content:"删除",placement:"top"},{default:q((function(){return[X(v,{type:"danger",onClick:function(t){return r=e.row,void je.confirm("确认删除“"+r.title+"”吗？","删除密码",{confirmButtonClass:"confirm-delete-btn",confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((function(){n.passwordManager.deletePassword(r.id).then((function(e){e.status||be.error({title:"系统异常",message:e.message})}))})).catch((function(){}));var r},underline:!1},{default:q((function(){return[pl]})),_:2},1032,["onClick"])]})),_:2},1024)])]})),_:1})]})),_:1},8,["data"])])):ue("",!0)],64)}}}),[["__scopeId","data-v-6ce79486"]]),ml=j({__name:"FilteringTip",setup:function(e){var n=a(),t=l(),r=i();return function(e,a){var o=ze;return H(),J(ne,null,[!n.filterCondition.favoriteId||r.setting.showFavoriteCard&&!["xs","sm"].includes(p().value)?ue("",!0):(H(),J("div",{key:0,style:ge({"background-color":Q(n).isDark?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"})},[X(o,{"show-icon":"",center:"",type:"warning",title:"现在显示的是根据收藏筛选后的密码","close-text":"取消筛选",onClose:a[0]||(a[0]=function(e){return Q(n).filterCondition.favoriteId=0})})],4)),0===n.filterCondition.labelArray.length||r.setting.showLabelCard&&!["xs","sm"].includes(p().value)?ue("",!0):(H(),J("div",{key:1,style:ge({"background-color":Q(n).isDark?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"})},[X(o,{"show-icon":"",center:"",type:"warning",title:"现在显示的是根据标签筛选后的密码","close-text":"取消筛选",onClose:a[1]||(a[1]=function(e){return Q(t).labelTreeRef.setCheckedNodes([])})})],4))],64)}}}),gl=function(e){return oe("data-v-e8aac54b"),e=e(),le(),e},yl={class:"password-card-header"},hl=gl((function(){return W("span",null," 共 ",-1)})),bl={class:"password-count"},wl=gl((function(){return W("span",null," 个密码 ",-1)})),xl={key:1,class:"hidden-xs-only",style:{height:"32px"}},_l=[gl((function(){return W("img",{alt:"",style:{height:"32px"},src:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719379989767'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='1845'%20width='256'%20height='256'%3e%3cpath%20d='M225.28%20163.84h573.44c45.056%200%2081.92%2036.864%2081.92%2081.92v450.56c0%2045.056-36.864%2081.92-81.92%2081.92H225.28c-45.056%200-81.92-36.864-81.92-81.92V245.76c0-45.056%2036.864-81.92%2081.92-81.92z%20m430.08%20450.56c79.872%200%20143.36-63.488%20143.36-143.36s-63.488-143.36-143.36-143.36-143.36%2063.488-143.36%20143.36%2063.488%20143.36%20143.36%20143.36z%20m0-81.92c34.816%200%2061.44-26.624%2061.44-61.44s-26.624-61.44-61.44-61.44-61.44%2026.624-61.44%2061.44%2026.624%2061.44%2061.44%2061.44z'%20fill='%2349c3ff'%20p-id='1847'%3e%3c/path%3e%3cpath%20d='M296.96%20307.2c22.528%200%2040.96%2018.432%2040.96%2040.96v81.92c0%2022.528-18.432%2040.96-40.96%2040.96s-40.96-18.432-40.96-40.96v-81.92c0-22.528%2018.432-40.96%2040.96-40.96z'%20fill='%23fff'%20p-id='1848'%3e%3c/path%3e%3c/svg%3e"},null,-1)}))],kl={style:{display:"flex"}},Cl={key:0,style:{"text-align":"center","margin-left":"-20px","margin-right":"-20px"},class:"clear-history"},Al={key:1},Fl=gl((function(){return W("span",{class:"iconfont icon-search search-input-icon"},null,-1)})),Vl={style:{display:"flex"}},Rl=gl((function(){return W("span",{class:"iconfont icon-list",style:{color:"#409eff","font-size":"130%"}},null,-1)})),Dl=gl((function(){return W("span",{class:"iconfont icon-card",style:{color:"#67c23a","font-size":"130%"}},null,-1)})),Sl=gl((function(){return W("span",{class:"iconfont icon-menu",style:{"font-size":"130%"}},null,-1)})),El=gl((function(){return W("span",{class:"iconfont icon-label menu-item",style:{color:"#409EFF"}},null,-1)})),Pl=gl((function(){return W("span",{class:"iconfont icon-collect menu-item",style:{color:"#FF9700"}},null,-1)})),Tl=gl((function(){return W("span",{class:"iconfont icon-card menu-item",style:{color:"#67c23a"}},null,-1)})),Ml=gl((function(){return W("span",{class:"iconfont icon-list menu-item",style:{color:"#409eff"}},null,-1)})),Ll=gl((function(){return W("span",{class:"iconfont icon-dark-mode menu-item",style:{color:"rgb(96 0 255)"}},null,-1)})),zl=gl((function(){return W("span",{class:"iconfont icon-right-mode menu-item",style:{color:"rgb(186 255 0)"}},null,-1)})),Il=gl((function(){return W("span",{class:"iconfont icon-setting menu-item",style:{color:"#409EFF"}},null,-1)})),Ul=gl((function(){return W("span",{class:"iconfont icon-recycle-bin menu-item",style:{color:"#E6A23C"}},null,-1)})),Bl=gl((function(){return W("span",{class:"iconfont icon-exit menu-item",style:{color:"#F56C6C"}},null,-1)})),Ol=b(j({__name:"PasswordHeader",setup:function(e){var n=a(),t=l(),r=i(),o=G(""),d=G(!1),f=function(e){n.filterCondition.searchText=o.value},v=function(e,n){if(e){var t=localStorage.getItem("searchHistory");if(t){var r=JSON.parse(t);if(r&&r.length>0){var a=e?r.filter((function(n){return n.includes(e)})):r,l=(a=a.slice(0,5)).map((function(e){return{value:e}}));return l.push({value:o.value,type:"cleanHistory"}),void n(l)}}n([])}else n([])},m=function(){localStorage.removeItem("searchHistory")},g=null,y=function(){g&&clearTimeout(g),""!==o.value||d.value?g=setTimeout((function(){f()}),200):f()},h=function(){t.passwordFormRef.addPasswordForm()},b=function(){t.verifyPasswordRef.verifyAndUnlock()},w=function(){n.passwordManager.lock()},x=function(e){r.setting.passwordDisplayMode=e,n.passwordManager.syncSetting()},_=function(e){n.setTopicMode(e)},k=function(){t.recycleBinRef.openRecycleBin()};return function(e,a){var l=ke,i=Fe,g=tn,C=_e,A=$e,F=Qe,V=Ze,R=Be;return H(),J(ne,null,[W("div",yl,[W("div",null,[Q(r).setting.showPasswordStatistics?(H(),Z(l,{key:0,class:"hidden-sm-and-down password-title",style:{width:"300px"}},{default:q((function(){return[Q(n).visPasswordArray.length>0?(H(),J(ne,{key:0},[hl,W("span",bl,ee(Q(n).visPasswordArray.length),1),wl],64)):Q(n).passwordArray.length?ue("",!0):(H(),J(ne,{key:1},[$(" 没有保存的密码 ")],64))]})),_:1})):(H(),J("div",xl,_l))]),W("div",kl,[X(g,{modelValue:Q(o),"onUpdate:modelValue":a[1]||(a[1]=function(e){return re(o)?o.value=e:null}),class:"search-input",clearable:"",placeholder:"搜索..",disabled:Q(n).serviceStatus!==Q(u).UNLOCKED,"fetch-suggestions":v,debounce:10,ref:function(e){return Q(t).searchInputRef=e},onChange:a[2]||(a[2]=function(e){return f()}),onClear:a[3]||(a[3]=function(e){return f()}),onKeyup:[a[4]||(a[4]=ve((function(e){return f()}),["enter","native"])),y],onCompositionstart:a[5]||(a[5]=function(e){return d.value=!0}),onCompositionend:a[6]||(a[6]=function(e){return d.value=!1}),onBlur:a[7]||(a[7]=function(e){d.value=!1,function(){if(o.value&&o.value.trim()){var e=[],n=localStorage.getItem("searchHistory");n&&(e=JSON.parse(n));var t=e.findIndex((function(e){return e===o.value.trim()}));t>-1&&e.splice(t,1),e.unshift(o.value),e.length>100&&(e=e.splice(0,100)),localStorage.setItem("searchHistory",JSON.stringify(e))}}()})},{default:q((function(e){var n=e.item;return["cleanHistory"===n.type?(H(),J("div",Cl,[W("span",{onClick:m,class:"clear-history-text"},"清除搜索历史")])):(H(),J("div",Al,ee(n.value),1))]})),append:q((function(){return[X(i,{class:"search-btn",onClick:a[0]||(a[0]=function(e){return f()})},{default:q((function(){return[Fl]})),_:1})]})),_:1},8,["modelValue","disabled"])]),W("div",Vl,[X(i,{ref:function(e){return Q(t).createPasswordBtnRef=e},disabled:Q(n).serviceStatus!==Q(u).UNLOCKED,onClick:h,class:"add-password-btn",type:"primary",plain:""},{default:q((function(){return[$(" 创建密码 ")]})),_:1},8,["disabled"]),Q(n).serviceStatus===Q(u).UNLOCKED?(H(),Z(C,{key:0,content:"锁定"},{default:q((function(){return[X(i,{onClick:w,class:"lock-btn",plain:""},{default:q((function(){return[W("span",{class:"iconfont icon-lock",style:ge([{"font-size":"120%"},{color:Q(n).isDark?"#ccc":"#666"}])},null,4)]})),_:1})]})),_:1})):ue("",!0),Q(n).serviceStatus===Q(u).LOGGED?(H(),Z(C,{key:1,content:"解锁"},{default:q((function(){return[X(i,{onClick:b,class:"unlock-btn",plain:""},{default:q((function(){return[W("span",{class:"iconfont icon-unlock",style:ge([{"font-size":"120%"},{color:Q(n).isDark?"#ccc":"#666"}])},null,4)]})),_:1})]})),_:1})):ue("",!0),Q(r).setting.passwordDisplayMode===Q(s).CARD?(H(),Z(C,{key:2,content:"列表视图"},{default:q((function(){return[X(i,{onClick:a[8]||(a[8]=function(e){return x(Q(s).TABLE)}),ref:function(e){return Q(t).displayModeTableRef=e},class:"table-btn hidden-sm-and-down",plain:""},{default:q((function(){return[Rl]})),_:1},512)]})),_:1})):ue("",!0),Q(r).setting.passwordDisplayMode===Q(s).TABLE?(H(),Z(C,{key:3,content:"卡片视图"},{default:q((function(){return[X(i,{onClick:a[9]||(a[9]=function(e){return x(Q(s).CARD)}),ref:function(e){return Q(t).displayModeCardRef=e},class:"card-btn hidden-sm-and-down",plain:""},{default:q((function(){return[Dl]})),_:1},512)]})),_:1})):ue("",!0),X(V,{trigger:"click"},{dropdown:q((function(){return[X(F,null,{default:q((function(){var e,o,l;return[["xs","sm"].includes(Q(p)().value)||!Q(r).setting.showLabelCard?(H(),Z(A,{key:0,onClick:null===(e=Q(t).labelDrawer)||void 0===e?void 0:e.showLabelDrawer,disabled:Q(n).serviceStatus!==Q(u).UNLOCKED},{default:q((function(){return[El,$(" 标签 ")]})),_:1},8,["onClick","disabled"])):ue("",!0),["xs","sm"].includes(Q(p)().value)||!Q(r).setting.showFavoriteCard?(H(),Z(A,{key:1,onClick:null===(o=Q(t).favoriteDrawer)||void 0===o?void 0:o.showFavoriteDrawer,disabled:Q(n).serviceStatus!==Q(u).UNLOCKED},{default:q((function(){return[Pl,$(" 收藏 ")]})),_:1},8,["onClick","disabled"])):ue("",!0),Q(r).setting.passwordDisplayMode===Q(s).TABLE&&["xs","sm"].includes(Q(p)().value)?(H(),Z(A,{key:2,divided:["xs","sm"].includes(Q(p)().value)||!Q(r).setting.showFavoriteCard||!Q(r).setting.showLabelCard,onClick:a[10]||(a[10]=function(e){return Q(r).setting.passwordDisplayMode=Q(s).CARD})},{default:q((function(){return[Tl,$(" 卡片视图 ")]})),_:1},8,["divided"])):ue("",!0),Q(r).setting.passwordDisplayMode===Q(s).CARD&&["xs","sm"].includes(Q(p)().value)?(H(),Z(A,{key:3,onClick:a[11]||(a[11]=function(e){return Q(r).setting.passwordDisplayMode=Q(s).TABLE})},{default:q((function(){return[Ml,$(" 列表视图 ")]})),_:1})):ue("",!0),Q(n).isDark?ue("",!0):(H(),Z(A,{key:4,divided:["xs","sm"].includes(Q(p)().value),onClick:a[12]||(a[12]=function(e){return _(Q(c).DARK)})},{default:q((function(){return[Ll,$(" 深色主题 ")]})),_:1},8,["divided"])),Q(n).isDark?(H(),Z(A,{key:5,divided:["xs","sm"].includes(Q(p)().value),onClick:a[13]||(a[13]=function(e){return _(Q(c).LIGHT)})},{default:q((function(){return[zl,$(" 明亮主题 ")]})),_:1},8,["divided"])):ue("",!0),X(A,{divided:"",onClick:null===(l=Q(t).settingRef)||void 0===l?void 0:l.openSetting,disabled:Q(n).serviceStatus!==Q(u).UNLOCKED},{default:q((function(){return[Il,$(" 系统设置 ")]})),_:1},8,["onClick","disabled"]),X(A,{onClick:k,disabled:Q(n).serviceStatus!==Q(u).UNLOCKED},{default:q((function(){return[Ul,$(" 回收站 ")]})),_:1},8,["disabled"]),X(A,{divided:"",onClick:a[14]||(a[14]=function(e){return Q(n).logout()})},{default:q((function(){return[Bl,$(" 退出登录 ")]})),_:1})]})),_:1})]})),default:q((function(){return[X(i,{class:"menu-btn",style:ge({color:Q(n).isDark?"#ccc":"#666"}),plain:""},{default:q((function(){return[Sl]})),_:1},8,["style"])]})),_:1})])]),X(R,{class:"password-head-body-line"})],64)}}}),[["__scopeId","data-v-e8aac54b"]]),Nl=function(e){return oe("data-v-08ca74c8"),e=e(),le(),e},jl={id:"contextmenu-ul"},Kl=Nl((function(){return W("span",{class:"iconfont icon-create",style:{color:"#409EFF"}},null,-1)})),Yl=Nl((function(){return W("span",{class:"iconfont icon-lock",style:{color:"#E6A23C"}},null,-1)})),Gl=Nl((function(){return W("span",{class:"iconfont icon-unlock",style:{color:"#E6A23C"}},null,-1)})),Hl=Nl((function(){return W("span",{class:"iconfont icon-list",style:{color:"#67C23A"}},null,-1)})),Jl=Nl((function(){return W("span",{class:"iconfont icon-card",style:{color:"#67C23A"}},null,-1)})),Wl=Nl((function(){return W("span",{class:"iconfont icon-label",style:{color:"#409EFF"}},null,-1)})),Xl=Nl((function(){return W("span",{class:"iconfont icon-recycle-bin",style:{color:"#F56C6C"}},null,-1)})),ql=b(j({__name:"Contextmenu",setup:function(e,n){var t=n.expose,r=a(),o=l(),c=i(),d=G({show:!1,x:0,y:0}),f=function(e){c.setting.passwordDisplayMode=e,r.passwordManager.syncSetting(),d.value.show=!1},p=function(){if(r.serviceStatus===u.UNLOCKED)return o.passwordFormRef.addPasswordForm(),void(d.value.show=!1);o.verifyPasswordRef.verifyAndUnlock().then((function(){o.passwordFormRef.addPasswordForm(),d.value.show=!1}))},v=function(){if(r.serviceStatus===u.UNLOCKED)return o.recycleBinRef.openRecycleBin(),void(d.value.show=!1);o.verifyPasswordRef.verifyAndUnlock().then((function(){o.recycleBinRef.openRecycleBin(),d.value.show=!1}))},m=function(){if(r.serviceStatus===u.UNLOCKED)return o.labelTreeDivRef.addLabel(null,"sub"),void(d.value.show=!1);o.verifyPasswordRef.verifyAndUnlock().then((function(){o.labelTreeDivRef.addLabel(null,"sub"),d.value.show=!1}))};return t({showContextmenu:function(e){e.preventDefault(),d.value.x=e.clientX,d.value.y=e.clientY,d.value.show=!0},hideContextmenu:function(){d.value.show=!1}}),function(e,n){var t=rn;return Q(d).show?(H(),J("div",{key:0,class:"contextmenu-div",style:ge({top:Q(d).y+"px",left:Q(d).x+"px"})},[X(t,null,{default:q((function(){return[W("ul",jl,[W("li",{onClick:p},[Kl,$(" 创建密码 ")]),Q(r).serviceStatus===Q(u).LOGGED?(H(),J("li",{key:0,onClick:n[0]||(n[0]=function(e){return Q(o).verifyPasswordRef.verifyAndUnlock()})},[Yl,$(" 解锁 ")])):ue("",!0),Q(r).serviceStatus===Q(u).UNLOCKED?(H(),J("li",{key:1,onClick:n[1]||(n[1]=function(e){return Q(r).passwordManager.lock()})},[Gl,$(" 锁定 ")])):ue("",!0),Q(c).setting.passwordDisplayMode===Q(s).CARD?(H(),J("li",{key:2,onClick:n[2]||(n[2]=function(e){return f(Q(s).TABLE)})},[Hl,$(" 表格视图 ")])):ue("",!0),Q(c).setting.passwordDisplayMode===Q(s).TABLE?(H(),J("li",{key:3,onClick:n[3]||(n[3]=function(e){return f(Q(s).CARD)})},[Jl,$(" 卡片视图 ")])):ue("",!0),W("li",{onClick:m},[Wl,$(" 添加标签 ")]),W("li",{onClick:v},[Xl,$(" 回收站 ")])])]})),_:1})],4)):ue("",!0)}}}),[["__scopeId","data-v-08ca74c8"]]);e("default",b(j({__name:"IndexPage",setup:function(e){var n=a(),t=l(),r=i();return K((function(){n.serviceStatus===u.LOGGED?(t.verifyPasswordRef.verifyAndUnlock(),r.setting.autoUnlock||localStorage.removeItem("mainPassword")):n.serviceStatus===u.WAIT_INIT&&t.setPasswordRef.setMainPassword()})),["xs","sm"].includes(p().value)&&r.setting.passwordDisplayMode===s.TABLE&&(r.setting.passwordDisplayMode=s.CARD),function(e,a){var o=Ol,l=ml,i=vl,u=qo,c=rn,d=Pe,f=vo,v=co,m=Te,g=io,y=oo,h=$a,b=Na,w=Ma,x=Va,_=ya,k=va,C=Vn,A=Fn,F=_n,V=xn,R=gn;return H(),J(ne,null,[["xs","sm"].includes(Q(p)().value)?(H(),J("div",{key:1,style:ge([{"backdrop-filter":"blur(50px)",height:"100vh"},{"background-color":Q(n).isDark?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)"}])},[X(o),X(l),Q(r).setting.passwordDisplayMode===Q(s).TABLE?(H(),Z(i,{key:0})):ue("",!0),Q(r).setting.passwordDisplayMode===Q(s).CARD?(H(),Z(u,{key:1})):ue("",!0)],4)):(H(),J("div",{key:0,onClick:a[0]||(a[0]=function(e){return Q(t).contextmenuRef.hideContextmenu()}),onContextmenu:a[1]||(a[1]=pe((function(e){return Q(t).contextmenuRef.showContextmenu(e)}),["prevent"]))},[X(m,{class:"password-body-row"},{default:q((function(){return[X(d,{md:{span:Q(r).setting.showLabelCard||Q(r).setting.showFavoriteCard?18:24},lg:{span:Q(r).setting.showLabelCard||Q(r).setting.showFavoriteCard?20:24},xl:{span:Q(r).setting.showLabelCard||Q(r).setting.showFavoriteCard?21:24}},{default:q((function(){return[X(c,{class:"password-card","body-class":"password-card-body",style:ge({"background-color":Q(n).isDark?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)"})},{default:q((function(){return[X(o),X(l),Q(r).setting.passwordDisplayMode===Q(s).TABLE?(H(),Z(i,{key:0})):ue("",!0),Q(r).setting.passwordDisplayMode===Q(s).CARD?(H(),Z(u,{key:1})):ue("",!0)]})),_:1},8,["style"])]})),_:1},8,["md","lg","xl"]),Q(r).setting.showLabelCard||Q(r).setting.showFavoriteCard?(H(),Z(d,{key:0,md:{span:6},lg:{span:4},xl:{span:3}},{default:q((function(){return[X(f),X(v)]})),_:1})):ue("",!0)]})),_:1})],32)),X(g,{ref:function(e){return Q(t).cancelAccountRef=e}},null,512),X(y,{ref:function(e){return Q(t).passwordFormRef=e}},null,512),X(h,{ref:function(e){return Q(t).labelDrawer=e}},null,512),X(b,{ref:function(e){return Q(t).favoriteDrawer=e}},null,512),X(w,{ref:function(e){return Q(t).recycleBinRef=e}},null,512),X(x,{ref:function(e){return Q(t).backupAndRecoveryRef=e}},null,512),X(_,{ref:function(e){return Q(t).setPasswordRef=e}},null,512),X(k,{ref:function(e){return Q(t).settingRef=e}},null,512),X(C,{ref:function(e){return Q(t).tourRef=e}},null,512),X(A,{ref:function(e){return Q(t).showPasswordRef=e}},null,512),X(F,{ref:function(e){return Q(t).exportExcelRef=e}},null,512),X(V,{ref:function(e){return Q(t).importExcelRef=e}},null,512),X(ql,{ref:function(e){return Q(t).contextmenuRef=e}},null,512),X(R)],64)}}}),[["__scopeId","data-v-51c9399f"]]))}}}))}();
