!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return t};var n,t={},r=Object.prototype,a=r.hasOwnProperty,l=Object.defineProperty||function(e,n,t){e[n]=t.value},i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function d(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{d({},"")}catch(n){d=function(e,n,t){return e[n]=t}}function f(e,n,t,o){var r=n&&n.prototype instanceof b?n:b,a=Object.create(r.prototype),i=new T(o||[]);return l(a,"_invoke",{value:S(e,t,i)}),a}function p(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var g="suspendedStart",v="suspendedYield",m="executing",y="completed",h={};function b(){}function w(){}function x(){}var _={};d(_,u,(function(){return this}));var k=Object.getPrototypeOf,C=k&&k(k(P([])));C&&C!==r&&a.call(C,u)&&(_=C);var A=x.prototype=b.prototype=Object.create(_);function F(e){["next","throw","return"].forEach((function(n){d(e,n,(function(e){return this._invoke(n,e)}))}))}function V(n,t){function o(r,l,i,u){var s=p(n[r],n,l);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==e(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,i,u)}),(function(e){o("throw",e,i,u)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return o("throw",e,i,u)}))}u(s.arg)}var r;l(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,r){o(e,n,t,r)}))}return r=r?r.then(a,a):a()}})}function S(e,t,o){var r=g;return function(a,l){if(r===m)throw Error("Generator is already running");if(r===y){if("throw"===a)throw l;return{value:n,done:!0}}for(o.method=a,o.arg=l;;){var i=o.delegate;if(i){var u=R(i,o);if(u){if(u===h)continue;return u}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===g)throw r=y,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=m;var s=p(e,t,o);if("normal"===s.type){if(r=o.done?y:v,s.arg===h)continue;return{value:s.arg,done:o.done}}"throw"===s.type&&(r=y,o.method="throw",o.arg=s.arg)}}}function R(e,t){var o=t.method,r=e.iterator[o];if(r===n)return t.delegate=null,"throw"===o&&e.iterator.return&&(t.method="return",t.arg=n,R(e,t),"throw"===t.method)||"return"!==o&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+o+"' method")),h;var a=p(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var l=a.arg;return l?l.done?(t[e.resultName]=l.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,h):l:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function D(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function E(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function P(t){if(t||""===t){var o=t[u];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,l=function e(){for(;++r<t.length;)if(a.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return l.next=l}}throw new TypeError(e(t)+" is not iterable")}return w.prototype=x,l(A,"constructor",{value:x,configurable:!0}),l(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===w||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},F(V.prototype),d(V.prototype,s,(function(){return this})),t.AsyncIterator=V,t.async=function(e,n,o,r,a){void 0===a&&(a=Promise);var l=new V(f(e,n,o,r),a);return t.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},F(A),d(A,c,"Generator"),d(A,u,(function(){return this})),d(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var n=Object(e),t=[];for(var o in n)t.push(o);return t.reverse(),function e(){for(;t.length;){var o=t.pop();if(o in n)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(o,r){return i.type="throw",i.arg=e,t.next=o,r&&(t.method="next",t.arg=n),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],i=l.completion;if("root"===l.tryLoc)return o("end");if(l.tryLoc<=this.prev){var u=a.call(l,"catchLoc"),s=a.call(l,"finallyLoc");if(u&&s){if(this.prev<l.catchLoc)return o(l.catchLoc,!0);if(this.prev<l.finallyLoc)return o(l.finallyLoc)}else if(u){if(this.prev<l.catchLoc)return o(l.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return o(l.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=n&&n<=r.finallyLoc&&(r=null);var l=r?r.completion:{};return l.type=e,l.arg=n,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(l)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),h},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),E(t),h}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var o=t.completion;if("throw"===o.type){var r=o.arg;E(t)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:P(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=n),h}},t}function r(e,n,t,o,r,a,l){try{var i=e[a](l),u=i.value}catch(e){return void t(e)}i.done?n(u):Promise.resolve(u).then(o,r)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(o,a){var l=e.apply(n,t);function i(e){r(l,o,a,i,u,"next",e)}function u(e){r(l,o,a,i,u,"throw",e)}i(void 0)}))}}System.register(["./index-legacy-D-XPm-0f.js","./@vue-legacy-DKT3hqtJ.js","./element-plus-legacy-h_V_eBA9.js","./exceljs-legacy-B2gk0yct.js","./vendor-legacy-JkP7VFYq.js","./local-legacy-Dk5dE0OK.js","./cos-js-sdk-v5-legacy-BMAW7OD5.js","./ali-oss-legacy-DIPzk0O8.js","./@element-plus-legacy-bi5OEa8d.js"],(function(e,t){"use strict";var r,l,i,u,s,c,d,f,p,g,v,m,y,h,b,w,x,_,k,C,A,F,V,S,R,D,E,T,P,M,L,z,I,U,B,O,N,j,K,Y,G,H,J,W,q,X,$,Q,Z,ee,ne,te,oe,re,ae,le,ie,ue,se,ce,de,fe,pe,ge,ve,me,ye,he,be,we,xe,_e,ke,Ce,Ae,Fe,Ve,Se,Re,De,Ee,Te,Pe,Me,Le,ze,Ie,Ue,Be,Oe,Ne,je,Ke,Ye,Ge,He,Je,We,qe,Xe,$e,Qe,Ze,en,nn,tn,on,rn,an,ln,un,sn,cn,dn,fn,pn,gn;return{setters:[function(e){r=e.u,l=e.a,i=e.b,u=e.S,s=e.P,c=e.T,d=e.f,f=e.g,p=e.d,g=e.p,v=e.c,m=e.i,y=e.e,h=e.h,b=e._,w=e.j,x=e.k,_=e.l,k=e.m,C=e.n,A=e.o,F=e.q,V=e.M,S=e.r,R=e.s,D=e.t,E=e.v,T=e.w,P=e.x,M=e.y,L=e.z,z=e.A,I=e.B,U=e.C,B=e.D,O=e.E,N=e.F},function(e){j=e.d,K=e.p,Y=e.r,G=e.t,H=e.o,J=e.c,W=e.a,q=e.O,X=e.F,$=e.K,Q=e.u,Z=e.E,ee=e.L,ne=e.M,te=e.a5,oe=e.v,re=e.W,ae=e.at,le=e.au,ie=e.S,ue=e.J,se=e.av,ce=e.n,de=e.ab,fe=e.a7,pe=e._,ge=e.a6,ve=e.H,me=e.X,ye=e.G,he=e.P},function(e){be=e.E,we=e.b,xe=e.k,_e=e.l,ke=e.c,Ce=e.m,Ae=e.n,Fe=e.e,Ve=e.f,Se=e.d,Re=e.o,De=e.p,Ee=e.i,Te=e.q,Pe=e.r,Me=e.s,Le=e.t,ze=e.u,Ie=e.w,Ue=e.x,Be=e.y,Oe=e.g,Ne=e.h,je=e.a,Ke=e.A,Ye=e.B,Ge=e.C,He=e.D,Je=e.F,We=e.G,qe=e.H,Xe=e.I,$e=e.J,Qe=e.K,Ze=e.L,en=e.M,nn=e.N,tn=e.O,on=e.P,rn=e.Q,an=e.R},function(e){ln=e.E},function(e){un=e.M,sn=e.W,cn=e.X},function(e){dn=e._,fn=e.a,pn=e.b,gn=e.c},null,null,null],execute:function(){var vn=document.createElement("style");vn.textContent=".table-label[data-v-3f214471]{margin:3px;cursor:default}.password-length-tip[data-v-0a425e2f]{position:absolute;bottom:0;left:0;margin:10px}.support-ul[data-v-6224ddc6]{padding-left:18px}.support-ul li[data-v-6224ddc6]{list-style:none;line-height:25px}.support-icon[data-v-6224ddc6]{margin-right:5px;font-size:110%}.login-info .copy-btn[data-v-38d79d64]:hover{color:#409eff!important}.login-type-image[data-v-38d79d64]{position:relative;top:4px;margin-right:13px}[data-v-8280f6d4] .el-tabs__item{padding:0 15px 0 5px}.icon-setting[data-v-8280f6d4]{font-size:110%;color:#409eff;margin-right:5px}.el-alert[data-v-8280f6d4]{padding:2px 10px;margin-top:10px}.function-div[data-v-8280f6d4]{padding:0 15px 0 5px;margin-bottom:25px}.function-header[data-v-8280f6d4]{display:flex;justify-content:space-between}.function-line[data-v-8280f6d4]{margin-top:3px;margin-bottom:3px}.password-strength[data-v-8280f6d4]{width:14px;height:14px;border-radius:50%;display:inline-block;margin:0 2px;position:relative;top:2px}.action-icon[data-v-8280f6d4]{margin-right:5px}.icon-verify[data-v-9b8fe49a],.icon-recovery[data-v-9482f0e7]{font-size:110%;color:#409eff;margin-right:5px}.recovery-type[data-v-9482f0e7]{height:300px;width:100%;border-radius:5px;text-align:center}.icon-div[data-v-9482f0e7]{padding-top:20px;margin-bottom:20px}.recovery-merge[data-v-9482f0e7]{background-color:#c6e2ff;cursor:pointer}.recovery-merge[data-v-9482f0e7]:hover{background-color:#a5d2ff}.recovery-cover[data-v-9482f0e7]{background-color:#fcd3d3;cursor:pointer}.recovery-cover[data-v-9482f0e7]:hover{background-color:#ffbfbf}.icon-merge[data-v-9482f0e7]{color:#409eff;font-size:130px}.icon-cover[data-v-9482f0e7]{color:#f56c6c;font-size:130px}.recovery-col[data-v-9482f0e7]{padding:15px}.recovery-text[data-v-9482f0e7]{font-size:25px}.icon-recycle-bin[data-v-5a99a1a1]{font-size:110%;color:#e6a23c;margin-right:5px}.not-enabled-recycle-bin-icon[data-v-5a99a1a1]{font-size:130px;color:#ccc}.recycle-bin[data-v-5a99a1a1]{min-height:400px}.favorite-tag[data-v-d2daeb2c]{margin:5px;cursor:pointer;user-select:none}.empty-favorite[data-v-d2daeb2c]{color:#999;text-align:center;font-size:14px}.cancel-favorite[data-v-d2daeb2c]{color:#0093ff;margin-right:5px;font-size:130%}[data-v-01ae4433] .el-drawer__header{margin-bottom:0}.label-content[data-v-34171d03]{width:100%}.more-item[data-v-34171d03]{margin-right:10px}[data-v-ef6771b1] .el-drawer__header{margin-bottom:0}.refresh-password[data-v-ffce58f2]:hover{color:red!important}.random-dice[data-v-ffce58f2]{animation:rotate-ffce58f2 .7s}@keyframes rotate-ffce58f2{0%{transform:rotate(0) scale(1.5);color:red}20%{color:#af0}40%{color:#00ff9d}60%{color:#0048ff}80%{color:#d0f}to{transform:rotate(360deg) scale(1);color:red}}.icon-dice[data-v-ffce58f2]{font-size:120%}.generate-card[data-v-ffce58f2]{width:100%}.generate-use-type-div[data-v-ffce58f2],.generate-length-div[data-v-ffce58f2]{margin-top:15px}.generate-input-div[data-v-ffce58f2]{display:flex}.generate-input[data-v-ffce58f2]{margin-right:15px}.generate-type-checkbox[data-v-ffce58f2]{margin:5px;flex-wrap:wrap;flex:1}.bg-color-item[data-v-ffce58f2]{width:25px;height:25px;border-radius:15%;margin:5px 10px;transition:all .2s;color:#fff;text-align:center;line-height:25px}.icon-risk[data-v-99bcdadf]{color:#f56c6c;margin-right:5px;font-size:110%}.favorite-card[data-v-287aa2e9]{margin:10px 10px 10px 0;backdrop-filter:blur(50px)}.filter-icon[data-v-287aa2e9]{margin-left:5px;font-size:115%;color:#409eff;cursor:pointer}[data-v-287aa2e9] .el-card__body{padding:14px 16px}.label-card[data-v-0498bcba]{margin:10px 10px 10px 0;backdrop-filter:blur(50px)}.filter-icon[data-v-0498bcba]{margin-left:5px;font-size:115%;color:#409eff;cursor:pointer}[data-v-0498bcba] .el-card__body{padding:14px 16px}.empty-list-div[data-v-64ac58fd]{display:flex;width:100%;justify-content:center;height:80vh;align-items:center;text-align:center}.status-tip[data-v-64ac58fd]{color:#888;margin-top:30px}.icon-lock-close[data-v-64ac58fd]{font-size:200px;color:#dcdfe6}.password-card[data-v-7988a419]{margin:6px;display:flex;flex-direction:column;height:calc(100% - 12px);background-color:rgba(255,255,255,.6)}.password-strength[data-v-7988a419]{border-radius:50%;width:14px;height:14px;float:left;margin-right:10px;position:relative;top:6px}.card-opt-icon[data-v-7988a419]{font-size:140%}.card-label[data-v-7988a419]{margin:0 10px 5px 0}.password-field-ul[data-v-7988a419]{padding:0;margin:0}.password-field-ul li[data-v-7988a419]{list-style:none;margin-bottom:10px}.password-field-ul li[data-v-7988a419]:last-child{margin-bottom:0}.password-field-name[data-v-7988a419]{width:55px;text-align:right;float:left;font-size:15px;color:#909399}.password-field-value[data-v-7988a419]{float:left;margin-left:15px;font-size:15px;word-break:break-all}.copy-username[data-v-7988a419]{margin-left:10px}.card-password-span[data-v-7988a419]{word-wrap:break-word;word-break:normal}.password-card-icon[data-v-7988a419],.copy-username[data-v-7988a419]{cursor:pointer;padding:5px;border-radius:5px;font-size:16px}.password-card-icon[data-v-7988a419]:hover,.copy-username[data-v-7988a419]:hover{background-color:rgba(200,200,200,.3);color:#409eff}.password-header-div[data-v-7988a419]{display:flex;justify-content:space-between;padding:12px 16px}.clear[data-v-7988a419]{clear:both}.password-card-icon.icon-hide[data-v-7988a419]{font-size:118%;margin-left:5px}.password-card-icon.icon-show[data-v-7988a419]{font-size:120%;margin-left:5px}.card-opt-icon.icon-delete[data-v-7988a419]{font-size:150%}.empty-card[data-v-7988a419]{display:flex;height:100%;justify-content:center}[data-v-7988a419] .password-card .el-card__body,[data-v-7988a419] .password-card .el-card__footer{padding:14px 16px}[data-v-7988a419] .password-card .el-card__header{padding:0;border-bottom:0}.password-card-table[data-v-6ce79486]{padding:13px}.password-row-icon[data-v-6ce79486]{margin-left:3px;cursor:pointer;padding:5px;border-radius:5px;font-size:16px;line-height:34px;height:34px}.password-row-icon[data-v-6ce79486]:hover{background-color:rgba(200,200,200,.3);color:#409eff}.icon-hide[data-v-6ce79486],.icon-show[data-v-6ce79486]{font-size:20px;position:relative;top:2px}.password-strength[data-v-6ce79486]{border-radius:50%;width:13px;height:13px}.copy-username[data-v-6ce79486]{margin-left:10px}.username-div[data-v-6ce79486],.table-password-div[data-v-6ce79486]{display:flex;justify-content:space-between}.username-text[data-v-6ce79486]{width:130px}.table-password-span[data-v-6ce79486]{line-height:36px;word-wrap:break-word;word-break:normal}.table-password-symbol[data-v-6ce79486]{line-height:36px}.table-opt-icon[data-v-6ce79486]{font-size:130%}.table-label[data-v-6ce79486]{margin:3px;cursor:default}.address-link[data-v-6ce79486]{max-width:100%}[data-v-6ce79486] .address-link .el-link__inner{min-width:0;display:block}.password-count[data-v-e8aac54b]{font-weight:700}.search-input[data-v-e8aac54b]{height:32px}.search-btn[data-v-e8aac54b]:hover{color:#fff!important;border-radius:0 4px 4px 0!important;background-color:#6eb5ff!important}.search-btn[data-v-e8aac54b]:active{color:#fff!important;border-radius:0 4px 4px 0!important;background-color:#409eff!important}[data-v-e8aac54b] .search-input{max-width:360px;min-width:150px;width:22vw}.clear-history[data-v-e8aac54b]:hover{color:#f56c6c;padding:0}.clear-history-text[data-v-e8aac54b]{font-size:90%}.password-card-header[data-v-e8aac54b]{display:flex;padding:13px;justify-content:space-between}.password-title[data-v-e8aac54b]{font-size:17px;line-height:34px}.menu-item[data-v-e8aac54b]{margin-right:10px}.search-input-icon[data-v-e8aac54b]{font-size:120%}.add-password-btn[data-v-e8aac54b]{margin-left:10px}.lock-btn[data-v-e8aac54b],.unlock-btn[data-v-e8aac54b],.table-btn[data-v-e8aac54b],.card-btn[data-v-e8aac54b]{margin-left:10px;color:#666}.menu-btn[data-v-e8aac54b]{margin-left:10px}.password-head-body-line[data-v-e8aac54b]{margin-top:0;margin-bottom:0}.contextmenu-div[data-v-08ca74c8]{position:absolute;z-index:999;width:150px}#contextmenu-ul[data-v-08ca74c8]{padding:0;margin:0}#contextmenu-ul li[data-v-08ca74c8]{list-style:none;padding:10px 15px;cursor:pointer;color:#606266;font-size:14px;margin:0}#contextmenu-ul li .iconfont[data-v-08ca74c8]{margin-right:6px}#contextmenu-ul li[data-v-08ca74c8]:hover{background-color:#ecf5ff;color:#409eff}[data-v-08ca74c8] .el-card__body{padding:0!important}.password-card-body{padding:0}.password-body-row[data-v-51c9399f]{margin-top:0}.password-card[data-v-51c9399f]{margin:10px;height:calc(100vh - 24px);background-color:rgba(255,255,255,.4);backdrop-filter:blur(50px)}\n",document.head.appendChild(vn);var mn=j({__name:"ShortcutKey",setup:function(e){var n=r(),t=l(),o=i(),a=function(e){var r;o.setting.enableShortcutKey&&(e.ctrlKey&&"F"===e.key.toUpperCase()?(console.log("使用快捷键 Ctrl + F"),e.preventDefault(),null===(r=t.searchInputRef)||void 0===r||r.focus()):e.altKey&&"N"===e.key.toUpperCase()?(console.log("使用快捷键 Alt + N"),e.preventDefault(),t.passwordFormRef.addPasswordForm()):e.altKey&&"L"===e.key.toUpperCase()?(console.log("使用快捷键 Alt + L"),e.preventDefault(),n.serviceStatus===u.LOGGED?t.verifyPasswordRef.verifyAndUnlock():n.passwordManager.lock()):e.altKey&&"V"===e.key.toUpperCase()?(console.log("使用快捷键 Alt + V"),e.preventDefault(),o.setting.passwordDisplayMode===s.CARD?d(s.TABLE):d(s.CARD)):e.altKey&&"T"===e.key.toUpperCase()&&(console.log("使用快捷键 Alt + T"),e.preventDefault(),n.isDark?f(c.LIGHT):f(c.DARK)))},d=function(e){o.setting.passwordDisplayMode=e,n.passwordManager.syncSetting()},f=function(e){n.setTopicMode(e)};return K((function(){document.addEventListener("keydown",a)})),Y((function(){document.removeEventListener("keydown",a)})),function(e,n){return null}}}),yn=function(e){return ae("data-v-3f214471"),e=e(),le(),e},hn=yn((function(){return W("span",{class:"iconfont icon-info",style:{color:"#409EFF","font-size":"16px"}},null,-1)})),bn=yn((function(){return W("span",{class:"iconfont icon-info",style:{color:"#ff9600","font-size":"16px"}},null,-1)})),wn=j({__name:"ImportExcel",setup:function(e,n){var t=n.expose,i=r(),u=l(),s=G(),c=G(),b=G(!1),w=G([]),x=G([]),_=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("进入导入excel"),w.value=[],x.value=[],s.value.value="",s.value.click();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=a(o().mark((function e(n){var t,r,a,l,i,u,s,d,f,p,h,_,k,F,V,S,R,D,E,T,P;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("导入excel 解析excel"),t=new ln.Workbook,e.next=4,t.xlsx.load(n);case 4:if(r=t.getWorksheet(1)){e.next=9;break}return console.log("导入excel 导入失败，没有找到Sheet页"),be.error("导入失败，没有找到Sheet页"),e.abrupt("return");case 9:if(a=r.getRow(1)){e.next=14;break}return console.log("导入excel 导入失败，文件中未找到密码数据"),be.error("导入失败，文件中未找到密码数据"),e.abrupt("return");case 14:if(l=a.values,console.log("first row values:",l),l&&!(r.rowCount<2)){e.next=20;break}return console.log("导入excel 导入失败，文件中未找到密码数据"),be.error("导入失败，文件中未找到密码数据"),e.abrupt("return");case 20:if((i={id:l.indexOf("id"),title:l.indexOf("名称"),address:l.indexOf("地址"),username:l.indexOf("用户名"),password:l.indexOf("密码"),remark:l.indexOf("备注"),addTime:l.indexOf("创建时间"),favorite:l.indexOf("收藏"),labels:l.indexOf("标签")}).title){e.next=25;break}return console.log("导入excel 导入失败，未找到密码名称列"),be.error("导入失败，未找到密码名称列"),e.abrupt("return");case 25:console.log("导入excel 开始处理数据：",r.rowCount),u=2;case 27:if(!(u<=r.rowCount)){e.next=50;break}if(s=r.getRow(u),d=s.getCell(i.title)){e.next=33;break}return console.log("导入excel 密码标题不存在 第"+u+"行"),e.abrupt("continue",47);case 33:f=-1!==i.id?s.getCell(i.id):null,p=-1!==i.address?s.getCell(i.address):null,h=-1!==i.username?s.getCell(i.username):null,_=-1!==i.password?s.getCell(i.password):null,k=-1!==i.remark?s.getCell(i.remark):null,F=-1!==i.addTime?s.getCell(i.addTime):null,V=-1!==i.labels?s.getCell(i.labels):null,S=-1!==i.favorite?s.getCell(i.favorite):null,R=S&&"是"===S.value,D=[],V&&V.value&&(console.log("导入excel 开始解析标签树"),E=g(V.value),console.log("导入excel 开始合并标签树"),A(x.value,E),console.log("导入excel 设置密码标签ids"),C(E,D)),T=F&&F.value?v(F.value,"YYYY-MM-DD HH:mm:ss"):new Date,P={id:f?f.value:m(),title:d?d.value:"",address:p?p.value:"",username:h?h.value:"",password:_?_.value:"",remark:k?k.value:"",addTime:T.getTime(),updateTime:Date.now(),deleteTime:0,favoriteTime:R?Date.now():0,favorite:R,customFields:{},labels:D,status:y.NORMAL,bgColor:""},w.value.push(P);case 47:u++,e.next=27;break;case 50:if(console.log("导入excel 导入的数量,密码：",w.value.length," 标签",x.value.length),!w.value.length&&!x.value.length){e.next=57;break}return b.value=!0,e.next=55,re((function(){console.log("导入excel 全选密码列表"),c.value.toggleAllSelection()}));case 55:e.next=58;break;case 57:be.warning("没有可导入的密码");case 58:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),C=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.forEach((function(n){n.children&&0!==n.children.length?e(n.children,t):t.push(n.id)})),t},A=function e(n,t){for(var o=function(){var o=t[r],a=n.find((function(e){return e.name===o.name}));if(!a)return n.push(o),1;o.id=a.id,e(a.children,o.children)},r=0;r<t.length;r++)o()},F=function(){if(console.log("导入excel 确认导入已选中密码与标签"),!c.value.getSelectionRows().length)return console.log("导入excel 未选择密码"),void we.warning("请选择要导入的密码");console.log("导入excel 验证身份"),u.verifyPasswordRef.getAndVerify((function(e){return i.passwordManager.verifyPassword(e)})).then((function(){console.log("导入excel 确认开始导入"),V()}))},V=function(){try{i.loading("正在导入...");var e=c.value.getSelectionRows().map((function(e){return e.id})),n=w.value.filter((function(n){return e.includes(n.id)}));console.log("要导入的密码：",n),console.log("要导入的标签：",x.value),S(i.allPasswordArray,n),R(i.labelArray,x.value),i.passwordManager.syncStoreData(),b.value=!1,w.value=[],x.value=[],i.unloading(),be.success("导入成功")}catch(t){console.error(t),i.unloading(),be.error("导入失败")}},S=function(e,n){n.forEach((function(n){var t=e.find((function(e){return h(e,n)}));if(t){if(t.status=y.NORMAL,n.labels){var o=new Set(t.labels);n.labels.forEach((function(e){o.has(e)||t.labels.push(e)}))}}else e.push(n)}))},R=function e(n,t){var o=new Map(n.map((function(e){return[e.name,e]})));t.forEach((function(t){var r=o.get(t.name);r?(D(i.allPasswordArray,t.id,r.id),e(r.children,t.children)):(n.push(t),o.set(t.name,t))}))},D=function(e,n,t){e.forEach((function(e){e.labels=e.labels.map((function(e){return e===n?t:e}))}))},E=function(e){return!i.passwordArray.find((function(n){return h(n,e)}))},T=function(){return!c.value||!c.value.getSelectionRows().length};return t({importExcel:_}),function(e,n){var t=xe,o=_e,r=ke,a=Ce,l=Ae,i=Fe,u=Ve;return H(),J(ne,null,[W("input",{type:"file",style:{display:"none"},ref_key:"fileInput",ref:s,onChange:n[0]||(n[0]=function(e){return function(){var e=s.value.files;if(console.log("导入excel,文件选择器选择了文件：",e.length),e.length){var n=new FileReader;n.onload=function(){console.log("导入excel,文件读取完成");var e=un.Buffer.from(n.result);try{k(e)}catch(t){console.error("导入excel 导入错误",t),be.error("密码导入失败")}},n.onerror=function(e){console.error("导入excel 读取错误",e),be.error("读取文件失败")},n.readAsArrayBuffer(e[0])}}()}),accept:".xlsx"},null,544),q(u,{top:"10vh",width:["xs","sm","md"].includes(Q(p)().value)?"95%":"80%",title:"导入信息确认",modelValue:Q(b),"onUpdate:modelValue":n[1]||(n[1]=function(e){return oe(b)?b.value=e:null})},{footer:X((function(){return[q(o,{content:"请选择要导入的密码",placement:"top",disabled:!T()},{default:X((function(){return[q(i,{type:"primary",onClick:F,disabled:T()},{default:X((function(){return[$("确认导入")]})),_:1},8,["disabled"])]})),_:1},8,["disabled"])]})),default:X((function(){return[q(l,{ref_key:"passwordTableRef",ref:c,data:Q(w),height:"65vh"},{default:X((function(){return[q(t,{type:"selection",selectable:E,width:"55"}),q(t,{width:"55"},{default:X((function(e){return[E(e.row)?(H(),Z(o,{key:0,content:"可导入",placement:"top"},{default:X((function(){return[hn]})),_:1})):(H(),Z(o,{key:1,content:"已存在密码不可导入",placement:"top"},{default:X((function(){return[bn]})),_:1}))]})),_:1}),q(t,{label:"名称","min-width":"100px",prop:"title"}),q(t,{label:"地址","min-width":"150px",prop:"address"}),q(t,{label:"用户名","min-width":"100px",prop:"username"}),q(t,{label:"密码",width:"180px",prop:"password"},{default:X((function(e){return[q(r,{truncated:"","line-clamp":"3"},{default:X((function(){return[$(ee(e.row.password),1)]})),_:2},1024)]})),_:1}),q(t,{label:"创建时间","min-width":"150px",formatter:function(e){return Q(d)(e.addTime,"YYYY-MM-DD HH:mm")},prop:"addTime"},null,8,["formatter"]),q(t,{label:"备注","min-width":"100px",prop:"remark"}),q(t,{label:"标签","min-width":"150px",prop:"labels"},{default:X((function(e){return[(H(!0),J(ne,null,te(Q(f)(e.row,Q(x)),(function(e){return H(),Z(a,{class:"table-label"},{default:X((function(){return[$(ee(e.name),1)]})),_:2},1024)})),256))]})),_:1})]})),_:1},8,["data"])]})),_:1},8,["width","modelValue"])],64)}}}),xn=b(wn,[["__scopeId","data-v-3f214471"]]),_n=j({__name:"ExportExcel",setup:function(e,n){var t=n.expose,i=r(),u=l(),s=["名称","地址","用户名","密码","标签","备注","创建时间","收藏"],c=function(){var e=a(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("导出密码 downloadTemplate:",n),!n){e.next=5;break}return e.next=4,f(n);case 4:return e.abrupt("return");case 5:u.verifyPasswordRef.getAndVerify((function(e){return i.passwordManager.verifyPassword(e)})).then((function(){console.log("导出密码 验证通过"),f(n)}));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=a(o().mark((function e(n){var t,r,a,l,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("导出密码，开始导出"),t=new ln.Workbook,(r=t.addWorksheet("Sheet1")).addRow(s),n||(a=i.allPasswordArray.map((function(e){var n="";e.labels&&e.labels.length&&(n=w(e.labels));var t=d(e.addTime,"YYYY-MM-DD HH:mm:ss");return[e.title,e.address,e.username,e.password,n,e.remark,t,e.favorite?"是":"否"]})),console.log("导出密码，导出数据：",a.length),a.forEach((function(e){r.addRow(e)}))),r.getRow(1).eachCell((function(e,n){switch(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"00B0F0"}},e.font={bold:!0,color:{argb:"FFFFFF"}},n){case 1:case 3:case 4:case 5:case 6:case 7:r.getColumn(n).width=20;break;case 2:r.getColumn(n).width=30;break;case 8:r.getColumn(n).width=10}})),console.log("导出密码，将工作簿写入缓冲区"),e.next=9,t.xlsx.writeBuffer();case 9:l=e.sent,u=new Blob([l],{type:"application/octet-stream"}),c=n?"密码导入模板.xlsx":"密码导出_"+d(Date.now(),"YYYY-MM-DD HH:mm:ss")+".xlsx",console.log("导出密码，保存"),sn.saveAs(u,c),n||(console.log("导出密码，密码导出成功"),be.success({title:"密码导出成功",message:"请注意密码安全"}));case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return t({exportExcel:c}),function(e,n){return null}}}),kn=function(e){return ae("data-v-0a425e2f"),e=e(),le(),e},Cn=kn((function(){return W("span",{class:"iconfont icon-show-password"},null,-1)})),An=kn((function(){return W("span",{class:"iconfont icon-info"},null,-1)})),Fn=b(j({__name:"ShowPassword",setup:function(e,n){var t=n.expose,o=ie({alertVisible:!1,content:"",title:""});return t({showPassword:function(e){console.log("查看密码弹窗"),o.content=e.password,o.title=e.title,o.alertVisible=!0}}),function(e,n){var t=ke,r=Se,a=Fe,l=Ve;return H(),Z(l,{"append-to-body":"",modelValue:Q(o).alertVisible,"onUpdate:modelValue":n[2]||(n[2]=function(e){return Q(o).alertVisible=e}),width:["xs","sm"].includes(Q(p)().value)?"95%":"40%"},{header:X((function(){return[q(t,{size:"large",style:{"user-select":"none"}},{default:X((function(){return[Cn,$(" "+ee(Q(o).title),1)]})),_:1})]})),footer:X((function(){return[q(t,{type:"info",class:"password-length-tip"},{default:X((function(){return[An,$(" 密码长度大于40会以弹框形式展示密码 ")]})),_:1}),q(a,{plain:"",type:"success",onClick:n[1]||(n[1]=function(e){Q(x)(Q(o).content),Q(o).alertVisible=!1})},{default:X((function(){return[$("一键复制")]})),_:1})]})),default:X((function(){return[q(r,{type:"textarea",rows:10,modelValue:Q(o).content,"onUpdate:modelValue":n[0]||(n[0]=function(e){return Q(o).content=e}),readonly:""},null,8,["modelValue"])]})),_:1},8,["modelValue","width"])}}}),[["__scopeId","data-v-0a425e2f"]]),Vn=j({__name:"NoviceGuide",setup:function(e,n){var t=n.expose,o=l(),r=i(),a=G(!1),u=G(!1),c=G(!1),d=function(){console.log("新手引导，添加密码"),o.passwordFormRef.addPasswordForm("示例密码"),setTimeout((function(){u.value=!0,o.passwordFormFormRef.clearValidate(),setTimeout((function(){o.passwordFormTitleRef.focus()}),100)}),350)},f=function(){console.log("新手引导，保存密码"),o.passwordFormRef.closePasswordForm(),setTimeout((function(){c.value=!0}),350)};return t({startTour:function(){console.log("进入新手引导"),a.value=!0}}),function(e,n){var t=ke,l=Re,i=De;return H(),J(ne,null,[q(i,{modelValue:Q(a),"onUpdate:modelValue":n[0]||(n[0]=function(e){return oe(a)?a.value=e:null})},{indicators:X((function(){return[]})),default:X((function(){var e;return[q(l,{target:null===(e=Q(o).createPasswordBtnRef)||void 0===e?void 0:e.$el,"next-button-props":{onClick:d,children:"下一步"},title:"欢迎使用 password-XL"},{default:X((function(){return[q(t,null,{default:X((function(){return[$("您可以点击这里创建密码")]})),_:1})]})),_:1},8,["target","next-button-props"])]})),_:1},8,["modelValue"]),q(i,{modelValue:Q(u),"onUpdate:modelValue":n[1]||(n[1]=function(e){return oe(u)?u.value=e:null}),"z-index":9e3,"target-area-clickable":!1},{indicators:X((function(e){var n=e.current,o=e.total;return[q(t,null,{default:X((function(){return[$(ee(n+1)+" / "+ee(o),1)]})),_:2},1024)]})),default:X((function(){var e,n,r,a;return[q(l,{target:null===(e=Q(o).passwordFormTitleRef)||void 0===e?void 0:e.$el,"next-button-props":{children:"下一步"},title:"密码名称"},{default:X((function(){return[q(t,null,{default:X((function(){return[$("在这里输入密码名称")]})),_:1})]})),_:1},8,["target"]),q(l,{target:null===(n=Q(o).passwordFormGenerateBtnRef)||void 0===n?void 0:n.$el,"next-button-props":{children:"下一步"},title:"随机密码"},{default:X((function(){return[q(t,null,{default:X((function(){return[$("点击这里可以随机生成密码，当然您也可以在输入框直接粘贴您已有的密码")]})),_:1})]})),_:1},8,["target"]),q(l,{target:null===(r=Q(o).passwordFormGenerateRuleRef)||void 0===r?void 0:r.$el,"next-button-props":{children:"下一步"},title:"控制生成规则"},{default:X((function(){return[q(t,null,{default:X((function(){return[$("拖动这里控制随机密码的长度")]})),_:1})]})),_:1},8,["target"]),q(l,{target:null===(a=Q(o).passwordFormSaveBtnRef)||void 0===a?void 0:a.$el,"next-button-props":{children:"好的",onClick:f},title:"保存"},{default:X((function(){return[q(t,null,{default:X((function(){return[$("最后，点击这里即可保存密码")]})),_:1})]})),_:1},8,["target","next-button-props"])]})),_:1},8,["modelValue"]),q(i,{modelValue:Q(c),"onUpdate:modelValue":n[2]||(n[2]=function(e){return oe(c)?c.value=e:null}),"z-index":9e3},{indicators:X((function(){return[]})),default:X((function(){var e,n;return[Q(r).setting.passwordDisplayMode===Q(s).TABLE?(H(),Z(l,{key:0,target:null===(e=Q(o).displayModeCardRef)||void 0===e?void 0:e.$el,"next-button-props":{children:"好的"},title:"密码视图"},{default:X((function(){return[q(t,null,{default:X((function(){return[$("点击这里可以切换卡片视图")]})),_:1})]})),_:1},8,["target"])):ue("",!0),Q(r).setting.passwordDisplayMode===Q(s).CARD?(H(),Z(l,{key:1,target:null===(n=Q(o).displayModeTableRef)||void 0===n?void 0:n.$el,"next-button-props":{children:"好的"},title:"密码视图"},{default:X((function(){return[q(t,null,{default:X((function(){return[$("点击这里可以切换表格视图")]})),_:1})]})),_:1},8,["target"])):ue("",!0)]})),_:1},8,["modelValue"])],64)}}}),Sn={},Rn=se('<h2>版权声明（Copyright Notice）</h2><p>版权所有 © [2024] [黄艳鹏]</p><p>本开源项目由 [黄艳鹏] 开发，现以MPL-2.0许可协议发布。</p><h3>许可协议（License）</h3><p style="text-indent:20px;">本项目的源代码可以在MPL-2.0许可协议下使用。主要条款如下：</p><ol><li>个人或组织可以免费使用、复制和修改本项目的源代码。</li><li>禁止将本项目的源代码或修改后的代码用于任何形式的商业用途，包括但不限于售卖、租赁或其他形式的盈利活动。</li><li>禁止分发本项目的源代码或修改后的代码给第三方。</li></ol><h3>免责声明（Disclaimer）</h3><p style="text-indent:20px;">本项目的源代码按“现状”提供，使用者需自行承担使用风险。在任何情况下，原作者或版权持有者对因使用本项目源代码而产生的任何直接、间接、附带、特殊、惩罚性或后果性的损害不承担责任。</p>',8);var Dn=b(Sn,[["render",function(e,n){return Rn}]]),En=""+new URL("donate-BWYZILYa.png",t.meta.url).href,Tn={name:"password-xl",private:!0,version:"1.2.5",type:"module",main:"electron/main.mjs",author:{name:"黄艳鹏",email:"hyp0105@qq.com"},contributors:[{name:"黄艳鹏",email:"hyp0105@qq.com",weChat:"huangyanpeng1864"}],description:"开源免费的密码管理项目",homepage:"https://password-xl.cn",repository:{type:"git",url:"https://github.com/peng0105/password-xl"},scripts:{start:"vite",preview:"vite preview",build:"vue-tsc -b && vite build","dist-to-windows":"vue-tsc -b && vite build && electron-builder build --win --config electron/electron-builder.json5","dist-to-mac":"vue-tsc -b && vite build && electron-builder build --mac --config electron/electron-builder.json5","dist-to-linux":"vue-tsc -b && vite build && electron-builder build --linux --config electron/electron-builder.json5","start-exe":"electron ."},dependencies:{"ali-oss":"^6.20.0",axios:"^1.7.2",buffer:"^6.0.3","cos-js-sdk-v5":"^1.8.1","crypto-js":"^4.2.0","element-plus":"^2.7.6",exceljs:"^4.4.0","file-saver":"^2.0.5",pinia:"^2.1.7",vue:"^3.4.29","vue-router":"^4.4.0"},devDependencies:{"@types/ali-oss":"^6.16.11","@types/crypto-js":"^4.2.2","@types/file-saver":"^2.0.7","@types/node":"^20.14.8","@vitejs/plugin-legacy":"^5.4.1","@vitejs/plugin-vue":"^5.0.5",electron:"^31.2.1","electron-builder":"^24.13.3",terser:"^5.31.1",typescript:"^5.2.2","unplugin-auto-import":"^0.18.2","unplugin-icons":"^0.19.0","unplugin-vue-components":"^0.27.1",vite:"^5.3.1","vue-tsc":"^2.0.21"}},Pn=function(e){return ae("data-v-6224ddc6"),e=e(),le(),e},Mn=Pn((function(){return W("h2",{style:{"margin-top":"0"}},"支持我们",-1)})),Ln={class:"support-ul"},zn=Pn((function(){return W("span",{class:"iconfont icon-praise support-icon",style:{color:"#E6A23C"}},null,-1)})),In=Pn((function(){return W("span",{class:"iconfont icon-report support-icon",style:{color:"#F56C6C"}},null,-1)})),Un=Pn((function(){return W("span",{class:"iconfont icon-idea support-icon",style:{color:"#67C23A"}},null,-1)})),Bn=Pn((function(){return W("span",{class:"iconfont icon-company support-icon",style:{color:"#E6A23C"}},null,-1)})),On={style:{float:"left"}},Nn=Pn((function(){return W("span",{class:"iconfont icon-money support-icon",style:{color:"#F56C6C"}},null,-1)})),jn={style:{float:"left",width:"calc(100% - 40px)","padding-left":"5px"}},Kn=Pn((function(){return W("div",{style:{clear:"both"}},null,-1)})),Yn=Pn((function(){return W("div",{style:{"text-align":"center",position:"relative",left:"-10px"}},[W("h3",{style:{"margin-top":"4px"}},"微信赞赏码"),W("div",{style:{padding:"5px 20px","text-align":"center"}},[W("img",{alt:"",style:{width:"80%","border-radius":"50%"},src:En})])],-1)})),Gn=Pn((function(){return W("h3",{style:{"margin-top":"4px"}},"捐赠者列表",-1)})),Hn=j({__name:"SupportMe",setup:function(e){var n=[{name:"Ching",money:10,time:"2024-07-13"},{name:"李春雨",money:5,time:"2024-07-12"},{name:"张博文",money:50,time:"2024-07-12"}];return function(e,t){var o=ke,r=Ee,a=Te,l=xe,i=Ae,u=Pe;return H(),J(ne,null,[Mn,q(o,{tag:"p",size:"large",style:{"text-indent":"20px"}},{default:X((function(){return[$(" 为了帮助您更安全、便捷地管理密码，我们打造了一个开源免费的密码管理工具。在开发和维护过程中，我们面临着诸多困难和挑战。您的支持对项目的发展至关重要，您可以通过以下方式支持此项目： ")]})),_:1}),W("ul",Ln,[W("li",null,[q(o,{size:"large"},{default:X((function(){return[zn,$(" 在项目 "),q(r,{href:Q(Tn).repository.url,style:{"font-size":"16px",position:"relative",top:"-2px"},underline:!1,target:"_blank",type:"primary"},{default:X((function(){return[$("开源地址 ")]})),_:1},8,["href"]),$(" 中为项目点赞，增加项目的曝光度。 ")]})),_:1})]),W("li",null,[q(o,{size:"large"},{default:X((function(){return[In,$(" 在Github上 "),q(r,{href:Q(Tn).repository.url+"/issues",style:{"font-size":"16px",position:"relative",top:"-2px"},underline:!1,target:"_blank",type:"primary"},{default:X((function(){return[$("报告您遇到的错误 ")]})),_:1},8,["href"]),$(" ，帮助我们持续改进。 ")]})),_:1})]),W("li",null,[q(o,{size:"large"},{default:X((function(){return[Un,$(" 提出您的 "),q(r,{href:Q(Tn).repository.url+"/issues",style:{"font-size":"16px",position:"relative",top:"-2px"},underline:!1,target:"_blank",type:"primary"},{default:X((function(){return[$("建议和想法 ")]})),_:1},8,["href"]),$(" ，帮助我们更好地满足用户需求。 ")]})),_:1})]),W("li",null,[q(o,{size:"large"},{default:X((function(){return[Bn,$(" 将此工具分享给您的朋友和家人，让更多人受益。 ")]})),_:1})]),W("li",null,[W("div",On,[q(o,{size:"large"},{default:X((function(){return[Nn]})),_:1})]),W("div",jn,[q(o,{size:"large"},{default:X((function(){return[$(" 如果您认可我们的努力，请考虑给予一些经济上的支持，以帮助我们为您提供更加优质的密码管理体验。 ")]})),_:1})]),Kn])]),q(u,null,{default:X((function(){return[q(a,{xs:{span:24},sm:{span:24},md:{span:9}},{default:X((function(){return[Yn]})),_:1}),q(a,{xs:{span:24},sm:{span:24},md:{span:15},style:{"text-align":"center"}},{default:X((function(){return[Gn,q(i,{data:n,border:"",stripe:""},{default:X((function(){return[q(l,{label:"名称",prop:"name"}),q(l,{label:"时间","min-width":"120px",prop:"time"}),q(l,{label:"金额","min-width":"80px",prop:"money"})]})),_:1})]})),_:1})]})),_:1})],64)}}}),Jn=b(Hn,[["__scopeId","data-v-6224ddc6"]]),Wn=W("div",null,[W("h2",{style:{"margin-top":"0"}},"关于项目")],-1),qn={style:{padding:"10px"}},Xn=j({__name:"About",setup:function(e){return function(e,n){var t=Me,o=Ee,r=Le;return H(),J(ne,null,[Wn,W("div",qn,[q(r,{column:1},{default:X((function(){return[q(t,{label:"项目名称:"},{default:X((function(){return[$(ee(Q(Tn).name),1)]})),_:1}),q(t,{label:"当前版本:"},{default:X((function(){return[$(ee(Q(Tn).version),1)]})),_:1}),q(t,{label:"官方网站:"},{default:X((function(){return[q(o,{type:"primary",target:"_blank",href:Q(Tn).homepage},{default:X((function(){return[$(ee(Q(Tn).homepage),1)]})),_:1},8,["href"])]})),_:1}),q(t,{label:"开源地址:"},{default:X((function(){return[q(o,{type:"primary",target:"_blank",href:Q(Tn).repository.url},{default:X((function(){return[$(ee(Q(Tn).repository.url),1)]})),_:1},8,["href"])]})),_:1}),q(t,{label:"作者邮箱:"},{default:X((function(){return[$(ee(Q(Tn).contributors[0].email),1)]})),_:1}),q(t,{label:"作者微信:"},{default:X((function(){return[$(ee(Q(Tn).contributors[0].weChat),1)]})),_:1})]})),_:1})])],64)}}}),$n=W("br",null,null,-1),Qn={style:{"text-indent":"15px"}},Zn={style:{"text-indent":"15px"}},et={style:{"text-indent":"15px"}},nt={style:{"padding-left":"15px"}},tt=W("br",null,null,-1),ot=W("br",null,null,-1),rt=W("br",null,null,-1),at=W("br",null,null,-1),lt=W("br",null,null,-1),it=W("br",null,null,-1),ut={style:{"padding-left":"15px"}},st=W("br",null,null,-1),ct=W("br",null,null,-1),dt=W("br",null,null,-1),ft={style:{"padding-left":"15px"}},pt=W("br",null,null,-1),gt=W("br",null,null,-1),vt=W("br",null,null,-1),mt={style:{"padding-left":"15px"}},yt=j({__name:"CommonProblem",setup:function(e){return function(e,n){var t=ke,o=ze,r=Ie,a=Ee,l=Ce,i=Ue;return H(),Z(i,null,{default:X((function(){return[q(r,{title:"1、主密码忘记了怎么办？"},{default:X((function(){return[q(t,{style:{"text-indent":"15px",display:"inline-block"}},{default:X((function(){return[$(" 很抱歉，由于密码安全机制，主密码一旦忘记没有任何办法查看密码数据。如您需要注销账号可以登录密码存储位置删除密码文件"),$n,W("div",Qn,[q(t,{tag:"b"},{default:X((function(){return[$("oss：")]})),_:1}),$(" 请登录阿里云控制台->对象存储，删除password-xl文件夹 ")]),W("div",Zn,[q(t,{tag:"b"},{default:X((function(){return[$("cos：")]})),_:1}),$(" 请登录腾讯云控制台->对象存储，删除password-xl文件夹 ")]),W("div",et,[q(t,{tag:"b"},{default:X((function(){return[$("私有服务：")]})),_:1}),$(" 请到服务端密码数据存储目录删除您的用户名文件夹 ")]),W("div",nt,[q(t,{tag:"b"},{default:X((function(){return[$("本地存储：")]})),_:1}),$(" 请到 C:\\Users\\您的用户名\\AppData\\Roaming\\password-xl目录下删除setting.json和store.json两个文件。"),tt,q(t,{type:"info",size:"small"},{default:X((function(){return[q(o,{type:"info"},{default:X((function(){return[$(" AppData是系统隐藏目录，可以通过地址栏输入C:\\Users\\您的用户名\\AppData\\Roaming\\password-xl直接进入文件夹 ")]})),_:1})]})),_:1})])]})),_:1})]})),_:1}),q(r,{title:"2、如何私有部署password-XL？"},{default:X((function(){return[q(t,null,{default:X((function(){return[q(t,{size:"large"},{default:X((function(){return[$("项目分为前端和后端两个服务，您可以根据需要选择部署：")]})),_:1}),ot,q(t,{tag:"b",style:{"text-indent":"15px",display:"inline-block"}},{default:X((function(){return[$("仅部署前端服务：")]})),_:1}),$(" 可以使用阿里云OSS、腾讯云COS、和本地存储功能"),rt,q(t,{tag:"b",style:{"text-indent":"15px",display:"inline-block"}},{default:X((function(){return[$("仅部署后端服务：")]})),_:1}),$(" 可以使用官网提供的页面或安装程序将密码文件存储在您的私有服务中"),at,q(t,{tag:"b",style:{"text-indent":"15px",display:"inline-block"}},{default:X((function(){return[$("两个服务都部署：")]})),_:1}),$(" 可以使用部署的前端页面将密码文件存储在私有服务中"),lt]})),_:1}),it,q(t,null,{default:X((function(){return[q(t,{size:"large"},{default:X((function(){return[$("部署文档：")]})),_:1}),W("div",ut,[q(a,{type:"primary",target:"_blank",href:Q(Tn).repository.url+"/wiki/%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3%E2%80%90docker"},{default:X((function(){return[$(" 后端-docker部署 ")]})),_:1},8,["href"]),st,q(a,{type:"primary",target:"_blank",href:Q(Tn).repository.url+"/wiki/%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3%E2%80%90jar"},{default:X((function(){return[$(" 后端-jar包部署 ")]})),_:1},8,["href"]),ct,q(a,{type:"primary",target:"_blank",href:Q(Tn).repository.url+"/wiki/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3%E2%80%90docker"},{default:X((function(){return[$(" 前端-docker部署 ")]})),_:1},8,["href"]),dt,q(a,{type:"primary",target:"_blank",href:Q(Tn).repository.url+"/wiki/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3%E2%80%90nginx"},{default:X((function(){return[$(" 前端-nginx部署 ")]})),_:1},8,["href"])])]})),_:1})]})),_:1}),q(r,{title:"3、每次输入主密码很麻烦，可以自动解锁吗？"},{default:X((function(){return[q(t,{style:{"text-indent":"15px",display:"inline-block"}},{default:X((function(){return[$("      您可以在设置-> 密码安全模块中开启自动解锁功能。 ")]})),_:1})]})),_:1}),q(r,{title:"4、忘记登录信息如何找回？"},{default:X((function(){return[W("div",ft,[q(t,null,{default:X((function(){return[q(t,{tag:"b",style:{"text-indent":"15px",display:"inline-block"}},{default:X((function(){return[$("阿里云OSS：")]})),_:1}),$(" 您可以参考 "),q(a,{type:"primary",target:"_blank",style:{position:"relative",top:"-2px"},href:Q(Tn).repository.url+"/wiki/%E9%98%BF%E9%87%8C%E4%BA%91OSS%E6%B3%A8%E5%86%8C%E6%8C%87%E5%BC%95"},{default:X((function(){return[$(" 阿里云OSS注册指引 ")]})),_:1},8,["href"]),$(" ，登录阿里云控制台重新创建子账户并在存储桶位置为账号分配权限，密码数据不会丢失"),pt,q(t,{tag:"b",style:{"text-indent":"15px",display:"inline-block"}},{default:X((function(){return[$("腾讯云COS：")]})),_:1}),$(" 您可以参考 "),q(a,{type:"primary",target:"_blank",style:{position:"relative",top:"-2px"},href:Q(Tn).repository.url+"/wiki/%E8%85%BE%E8%AE%AF%E4%BA%91COS%E6%B3%A8%E5%86%8C%E6%8C%87%E5%BC%95"},{default:X((function(){return[$(" 腾讯云COS注册指引 ")]})),_:1},8,["href"]),$(" ，登录腾讯云控制台重新创建子账户并在存储桶位置为账号分配权限，密码数据不会丢失"),gt,q(t,{tag:"b",style:{"text-indent":"15px",display:"inline-block"}},{default:X((function(){return[$("私有服务：")]})),_:1}),$(" 您可在服务端项目部署路径下用户配置文件中查看您的登录密码。如果不是您部署项目请联系管理员"),vt]})),_:1})])]})),_:1}),q(r,{title:"5、如何迁移密码数据？"},{default:X((function(){return[W("div",mt,[q(t,{style:{"text-indent":"15px",display:"inline-block"}},{default:X((function(){return[$(" 您可以通过 "),q(l,null,{default:X((function(){return[$("设置->备份恢复")]})),_:1}),$(" 菜单下的备份恢复功能迁移密码数据。 ")]})),_:1})])]})),_:1})]})),_:1})}}}),ht=function(e){return ae("data-v-38d79d64"),e=e(),le(),e},bt={style:{"text-align":"center","margin-bottom":"5px",width:"100%"}},wt=ht((function(){return W("img",{alt:"",class:"login-type-image",style:{height:"28px"},src:dn},null,-1)})),xt=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),_t=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),kt=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),Ct=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),At=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),Ft={style:{"text-align":"center","margin-bottom":"5px",width:"100%"}},Vt=ht((function(){return W("img",{alt:"",class:"login-type-image",style:{height:"28px"},src:fn},null,-1)})),St=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),Rt=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),Dt=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),Et=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),Tt=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),Pt={style:{"text-align":"center","margin-bottom":"15px",width:"100%"}},Mt=ht((function(){return W("img",{alt:"",class:"login-type-image",style:{height:"28px"},src:pn},null,-1)})),Lt=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),zt=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),It=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),Ut=ht((function(){return W("span",{class:"iconfont icon-copy"},null,-1)})),Bt={style:{"text-align":"center","margin-top":"50px",width:"100%"}},Ot=ht((function(){return W("img",{alt:"",class:"login-type-image",style:{height:"130px"},src:gn},null,-1)})),Nt={style:{"margin-top":"25px"}},jt={style:{padding:"0 50px 0 20px"}},Kt={style:{"text-align":"center","margin-top":"30px",width:"100%"}},Yt=j({__name:"LoginInfo",setup:function(e){var n=_(),t=function(){return!!window.electronAPI},o=function(){return!!window.androidAPI};return function(e,r){var a=ke,l=Be,i=Fe,u=Se,s=Oe,c=Ne;return H(),Z(c,{"label-width":"80px"},{default:X((function(){return["oss"===Q(n).loginType?(H(),J(ne,{key:0},[W("div",bt,[wt,q(a,{style:{"font-size":"24px"}},{default:X((function(){return[$("阿里云OSS")]})),_:1})]),q(l),W("div",null,[q(s,{label:"region"},{default:X((function(){return[q(u,{"model-value":Q(n).loginForm.region,readonly:!0},{append:X((function(){return[q(i,{onClick:r[0]||(r[0]=function(e){return Q(x)(Q(n).loginForm.region)}),class:"copy-btn"},{default:X((function(){return[xt]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),q(s,{label:"accessKeyId"},{default:X((function(){return[q(u,{"model-value":Q(n).loginForm.accessKeyId,readonly:!0},{append:X((function(){return[q(i,{onClick:r[1]||(r[1]=function(e){return Q(x)(Q(n).loginForm.accessKeyId)}),class:"copy-btn"},{default:X((function(){return[_t]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),q(s,{label:"accessKeySecret"},{default:X((function(){return[q(u,{"model-value":Q(n).loginForm.accessKeySecret,readonly:!0},{append:X((function(){return[q(i,{onClick:r[2]||(r[2]=function(e){return Q(x)(Q(n).loginForm.accessKeySecret)}),class:"copy-btn"},{default:X((function(){return[kt]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),q(s,{label:"bucket"},{default:X((function(){return[q(u,{"model-value":Q(n).loginForm.bucket,readonly:!0},{append:X((function(){return[q(i,{onClick:r[3]||(r[3]=function(e){return Q(x)(Q(n).loginForm.bucket)}),class:"copy-btn"},{default:X((function(){return[Ct]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),t()||o()?ue("",!0):(H(),Z(s,{key:0,label:"快速登录链接"},{default:X((function(){return[q(u,{"model-value":Q(k)(Q(n).loginForm),readonly:!0},{append:X((function(){return[q(i,{onClick:r[4]||(r[4]=function(e){return Q(x)(Q(k)(Q(n).loginForm))}),class:"copy-btn"},{default:X((function(){return[At]})),_:1})]})),_:1},8,["model-value"])]})),_:1}))])],64)):"cos"===Q(n).loginType?(H(),J(ne,{key:1},[W("div",Ft,[Vt,q(a,{style:{"font-size":"24px"}},{default:X((function(){return[$("腾讯云COS")]})),_:1})]),q(l),W("div",null,[q(s,{label:"region"},{default:X((function(){return[q(u,{"model-value":Q(n).loginForm.region,readonly:!0},{append:X((function(){return[q(i,{onClick:r[5]||(r[5]=function(e){return Q(x)(Q(n).loginForm.region)}),class:"copy-btn"},{default:X((function(){return[St]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),q(s,{label:"secretId"},{default:X((function(){return[q(u,{"model-value":Q(n).loginForm.secretId,readonly:!0},{append:X((function(){return[q(i,{onClick:r[6]||(r[6]=function(e){return Q(x)(Q(n).loginForm.secretId)}),class:"copy-btn"},{default:X((function(){return[Rt]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),q(s,{label:"secretKey"},{default:X((function(){return[q(u,{"model-value":Q(n).loginForm.secretKey,readonly:!0},{append:X((function(){return[q(i,{onClick:r[7]||(r[7]=function(e){return Q(x)(Q(n).loginForm.secretKey)}),class:"copy-btn"},{default:X((function(){return[Dt]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),q(s,{label:"bucket"},{default:X((function(){return[q(u,{"model-value":Q(n).loginForm.bucket,readonly:!0},{append:X((function(){return[q(i,{onClick:r[8]||(r[8]=function(e){return Q(x)(Q(n).loginForm.bucket)}),class:"copy-btn"},{default:X((function(){return[Et]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),t()||o()?ue("",!0):(H(),Z(s,{key:0,label:"快速登录链接"},{default:X((function(){return[q(u,{"model-value":Q(k)(Q(n).loginForm),readonly:!0},{append:X((function(){return[q(i,{onClick:r[9]||(r[9]=function(e){return Q(x)(Q(k)(Q(n).loginForm))}),class:"copy-btn"},{default:X((function(){return[Tt]})),_:1})]})),_:1},8,["model-value"])]})),_:1}))])],64)):"private"===Q(n).loginType?(H(),J(ne,{key:2},[W("div",Pt,[Mt,q(a,{style:{"font-size":"24px"}},{default:X((function(){return[$("私有服务")]})),_:1})]),q(l),W("div",null,[q(s,{label:"服务地址"},{default:X((function(){return[q(u,{"model-value":Q(n).loginForm.serverUrl,readonly:!0},{append:X((function(){return[q(i,{onClick:r[10]||(r[10]=function(e){return Q(x)(Q(n).loginForm.serverUrl)}),class:"copy-btn"},{default:X((function(){return[Lt]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),q(s,{label:"用户名"},{default:X((function(){return[q(u,{"model-value":Q(n).loginForm.username,readonly:!0},{append:X((function(){return[q(i,{onClick:r[11]||(r[11]=function(e){return Q(x)(Q(n).loginForm.username)}),class:"copy-btn"},{default:X((function(){return[zt]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),q(s,{label:"密码"},{default:X((function(){return[q(u,{"model-value":Q(n).loginForm.password,readonly:!0},{append:X((function(){return[q(i,{onClick:r[12]||(r[12]=function(e){return Q(x)(Q(n).loginForm.password)}),class:"copy-btn"},{default:X((function(){return[It]})),_:1})]})),_:1},8,["model-value"])]})),_:1}),t()||o()?ue("",!0):(H(),Z(s,{key:0,label:"快速登录链接"},{default:X((function(){return[q(u,{"model-value":Q(k)(Q(n).loginForm),readonly:!0},{append:X((function(){return[q(i,{onClick:r[13]||(r[13]=function(e){return Q(x)(Q(k)(Q(n).loginForm))}),class:"copy-btn"},{default:X((function(){return[Ut]})),_:1})]})),_:1},8,["model-value"])]})),_:1}))])],64)):(H(),J(ne,{key:3},[W("div",Bt,[Ot,W("div",Nt,[q(a,{style:{"font-size":"22px"}},{default:X((function(){return[$("您正在使用本地文件存储")]})),_:1})])]),W("div",jt,[W("div",Kt,[q(a,{type:"info"},{default:X((function(){return[$("没有更多信息")]})),_:1})])])],64))]})),_:1})}}}),Gt=b(Yt,[["__scopeId","data-v-38d79d64"]]),Ht=function(e){return ae("data-v-8280f6d4"),e=e(),le(),e},Jt=Ht((function(){return W("span",{class:"iconfont icon-setting"},null,-1)})),Wt=Ht((function(){return W("span",{class:"iconfont icon-personalization action-icon",style:{color:"#FF5733"}},null,-1)})),qt=Ht((function(){return W("span",{style:{"letter-spacing":"3px"}}," 个性化",-1)})),Xt={class:"function-div"},$t={class:"function-header",style:{"margin-bottom":"5px"}},Qt={class:"function-div"},Zt={class:"function-header",style:{"margin-bottom":"5px"}},eo={class:"function-div"},no={class:"function-header"},to={class:"function-div"},oo={class:"function-header"},ro={class:"function-div"},ao={class:"function-header"},lo={style:{"margin-top":"10px"}},io=Ht((function(){return W("span",null,"密码长度",-1)})),uo=Ht((function(){return W("span",{class:"iconfont icon-function action-icon",style:{color:"#FF33FF"}},null,-1)})),so={class:"function-div"},co={class:"function-header"},fo={class:"function-div"},po={class:"function-header"},go={class:"function-div"},vo={class:"function-header"},mo={class:"function-div"},yo={class:"function-header"},ho=Ht((function(){return W("span",{class:"iconfont icon-display action-icon",style:{color:"#00e329"}},null,-1)})),bo={class:"function-div"},wo={class:"function-header",style:{"margin-bottom":"5px"}},xo={class:"function-div"},_o={class:"function-header"},ko={class:"function-div"},Co={class:"function-header",style:{"margin-bottom":"5px"}},Ao={class:"function-div"},Fo={class:"function-header"},Vo=Ht((function(){return W("div",{class:"password-strength",style:{"background-color":"#F56C6C"}},null,-1)})),So=Ht((function(){return W("div",{class:"password-strength",style:{"background-color":"#FF9700"}},null,-1)})),Ro=Ht((function(){return W("div",{class:"password-strength",style:{"background-color":"#67C23A"}},null,-1)})),Do={class:"function-div"},Eo={class:"function-header"},To=Ht((function(){return W("span",{class:"iconfont icon-verify action-icon",style:{color:"#33CFFF"}},null,-1)})),Po={class:"function-div"},Mo={class:"function-header",style:{"margin-bottom":"5px"}},Lo={key:0,class:"function-div"},zo={class:"function-header"},Io={class:"function-div"},Uo={class:"function-header"},Bo={class:"function-div"},Oo={class:"function-header"},No={class:"function-div",style:{display:"flex","justify-content":"space-evenly"}},jo=Ht((function(){return W("span",{class:"iconfont icon-info action-icon",style:{color:"#409EFF"}},null,-1)})),Ko={class:"login-info"},Yo=Ht((function(){return W("span",{class:"iconfont icon-recovery action-icon",style:{color:"#ffc400"}},null,-1)})),Go={class:"function-div"},Ho={class:"function-header",style:{"margin-bottom":"5px"}},Jo={class:"function-div"},Wo={class:"function-header",style:{"margin-bottom":"5px"}},qo={class:"function-div"},Xo={class:"function-header",style:{"margin-bottom":"5px"}},$o={class:"function-div"},Qo={class:"function-header",style:{"margin-bottom":"5px"}},Zo={class:"function-div"},er={class:"function-header",style:{"margin-bottom":"5px"}},nr=Ht((function(){return W("span",{class:"iconfont icon-problem action-icon",style:{color:"#FF69B4"}},null,-1)})),tr={class:"function-div"},or={class:"function-header"},rr={style:{"margin-top":"10px"}},ar={class:"function-div",style:{"margin-top":"30px"}},lr={class:"function-header"},ir={style:{"margin-top":"5px"}},ur=Ht((function(){return W("span",{class:"iconfont icon-about action-icon",style:{color:"#FF4500"}},null,-1)})),sr={style:{padding:"0"}},cr=Ht((function(){return W("span",{class:"iconfont icon-coffee action-icon",style:{color:"#FF5858FF"}},null,-1)})),dr={style:{padding:"0"}},fr=Ht((function(){return W("span",{class:"iconfont icon-copyright action-icon",style:{color:"#FF8C00"}},null,-1)})),pr={style:{padding:"0 15px"}},gr=j({__name:"Setting",setup:function(e,n){var t=n.expose,u=r(),s=i(),d=_(),f=l(),g=G(!1),v=G(!1),m=G(c.AUTO),y=function(){return["xs","sm"].includes(p().value)?"calc(100vh - 120px)":"500px"},h=function(){if(console.log("设置，自动登录状态改变前钩子"),s.setting.autoUnlock)return Promise.resolve(!0);return new Promise(function(){var e=a(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("设置，显示重要安全提示"),je({title:"重要安全提示",message:de("div",{class:"el-alert el-alert--error is-light",style:"text-indent: 20px;"},"为了您的账号安全，建议您不要开启记住主密码功能。开启后任何人打开您设备的password-XL时，都可以直接访问解锁后的密码列表，极大地增加了密码泄露的风险。\n如您仍需开启此功能，请务必妥善保存并牢记您的主密码。当您更换设备或浏览器指纹发生变更时，仍需您手动登录并使用主密码解锁。"),showConfirmButton:!0,confirmButtonText:"确认开启",confirmButtonClass:"el-button--danger"}).then((function(){console.log("设置，显示重要安全提示，验证身份"),f.verifyPasswordRef.getAndVerify((function(e){return u.passwordManager.verifyPassword(e)})).then((function(e){n(!0),console.log("设置，保存自动解锁主密码"),localStorage.setItem("mainPassword",A(F(),e))}))})).catch((function(){return n(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())},b=function(){if(console.log("设置，回收站状态改变前钩子"),!s.setting.enableRecycleBin||!u.deletedArray.length)return Promise.resolve(!0);return new Promise(function(){var e=a(o().mark((function e(n,t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je({message:"关闭回收站将立即清空回收站中所有密码",showConfirmButton:!0,confirmButtonText:"清空",type:"warning",showCancelButton:!0,cancelButtonText:"取消",confirmButtonClass:"el-button--danger"}).then((function(){console.log("设置，回收站状态改变前钩子，确认"),n(!0)})).catch((function(){console.log("设置，回收站状态改变前钩子，取消"),t()}));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())},w=function(e){return console.log("设置，切换标签之前的钩子函数 activeName：",e," loginStore.loginType：",d.loginType),v.value||"loginInfo"!==e||["local","electron"].includes(d.loginType)?Promise.resolve(!0):(console.log("设置，切换登录信息，验证密码"),new Promise((function(e,n){f.verifyPasswordRef.getAndVerify((function(e){return u.passwordManager.verifyPassword(e)})).then((function(){e(!0),console.log("设置，切换登录信息，验证密码通过"),v.value=!0})).catch((function(e){console.error("设置，切换登录信息，验证密码异常",e),n()}))})))};t({openSetting:function(){console.log("打开设置");var e=localStorage.getItem("topicMode");m.value=e||c.AUTO,g.value=!0,v.value=!1},closeSetting:function(){console.log("关闭设置"),g.value=!1}}),ce((function(){return s.setting.showLabelCard}),(function(e){g.value&&(console.log("显示标签卡片设置变更:",e),u.passwordManager.syncSetting().then((function(e){var n;e.status&&(null===(n=f.labelTreeRef)||void 0===n||n.setCheckedNodes([]))})))})),ce((function(){return s.setting.dynamicBackground}),(function(e){g.value&&(console.log("动态背景图设置变更:",e),u.passwordManager.syncSetting())})),ce((function(){return s.setting.showFavoriteCard}),(function(e){g.value&&(console.log("显示收藏卡片设置变更:",e),u.passwordManager.syncSetting().then((function(e){e.status&&(u.filterCondition.favoriteId=0)})))})),ce((function(){return s.setting.enableRecycleBin}),(function(e,n){g.value&&(console.log("密码回收站设置变更:",e,n),u.passwordManager.syncSetting().then((function(n){n.status&&(e||u.passwordManager.emptyRecycle())})))})),ce((function(){return s.setting.enableShortcutKey}),(function(e){g.value&&(console.log("快捷键设置变更:",e),u.passwordManager.syncSetting())})),ce((function(){return s.setting.sortField}),(function(e){g.value&&(console.log("排序字段设置变更:",e),u.passwordManager.syncSetting())})),ce((function(){return s.setting.sortOrder}),(function(e){g.value&&(console.log("排序顺序设置变更:",e),u.passwordManager.syncSetting())})),ce((function(){return s.setting.showLabelForTable}),(function(e){g.value&&(console.log("密码列表中显示标签设置变更:",e),u.passwordManager.syncSetting())})),ce((function(){return s.setting.showTimeForTable}),(function(e){g.value&&(console.log("密码列表中显示时间设置变更:",e),u.passwordManager.syncSetting())})),ce((function(){return s.setting.showStrength}),(function(e){g.value&&(console.log("显示密码强度设置变更:",e),u.passwordManager.syncSetting())})),ce((function(){return s.setting.timeoutLock}),(function(e){g.value&&(console.log("超时锁定设置变更:",e),u.passwordManager.syncSetting())})),ce((function(){return s.setting.autoLogin}),(function(e){g.value&&(console.log("自动登录设置变更:",e),u.passwordManager.syncSetting().then((function(n){n.status&&(e?be.success({title:"已开启自动登录",message:"在您下次登录时将系统将记住登录信息！"}):(console.log("自动登录设置变更 同步后"),sessionStorage.removeItem("loginInfo"),localStorage.removeItem("loginInfo"),be.success({title:"已关闭自动登录",message:"自动登录信息已清除！"}),s.setting.autoUnlock=!1))})))})),ce((function(){return s.setting.autoUnlock}),(function(e){g.value&&(console.log("自动解锁设置变更:",e),u.passwordManager.syncSetting().then((function(n){n.status&&(e?(s.setting.autoLogin=!0,we.success("已开启自动解锁"),s.setting.timeoutLock=0):(localStorage.removeItem("mainPassword"),we.success("已清除主密码信息")))})))})),ce((function(){return s.setting.verifyShowGesture}),(function(e){g.value&&(console.log("验证密码显示手势设置变更:",e),u.passwordManager.syncSetting(),localStorage.setItem("showGesture",e+""))})),ce((function(){return m.value}),(function(e){g.value&&(console.log("主题设置变更:",e),u.setTopicMode(e))}));var x=null;ce((function(){return s.setting.easyConfuseChat}),(function(e){g.value&&(x&&clearTimeout(x),x=setTimeout((function(){console.log("易混淆字符设置变更:",e),u.passwordManager.syncSetting()}),300))})),ce((function(){return s.setting.autoGeneratePassword}),(function(e){g.value&&(console.log("自动生成密码设置变更:",e),u.passwordManager.syncSetting())})),ce((function(){return s.setting.passwordColor}),(function(e){g.value&&(console.log("显示密码颜色设置变更:",e),u.passwordManager.syncSetting())}));var k=null;ce((function(){return s.setting.generateRule}),(function(e){g.value&&(k&&clearTimeout(k),k=setTimeout((function(){console.log("默认密码生成规则设置变更:",e),u.passwordManager.syncSetting()}),300))}),{deep:!0});return function(e,n){var t=ke,o=Ke,r=Ye,a=Be,l=Ge,i=Se,u=He,v=Te,x=Je,_=Pe,k=We,A=qe,F=Ce,V=ze,S=Fe,R=Gt,D=Ee,E=yt,T=Xn,P=Jn,M=Dn,L=Xe,z=Ne,I=Ve;return H(),Z(I,{fullscreen:["xs","sm"].includes(Q(p)().value),modelValue:Q(g),"onUpdate:modelValue":n[27]||(n[27]=function(e){return oe(g)?g.value=e:null}),width:"750px",draggable:""},{header:X((function(){return[q(t,{size:"large",style:{"user-select":"none"}},{default:X((function(){return[Jt,$(" 设置 ")]})),_:1})]})),default:X((function(){return[q(z,{modelValue:Q(s),"onUpdate:modelValue":n[26]||(n[26]=function(e){return oe(s)?s.value=e:null}),"label-width":"140px","label-position":"right"},{default:X((function(){return[q(L,{"tab-position":"left",style:{"margin-top":"10px"},"before-leave":w},{default:X((function(){return[q(A,null,{label:X((function(){return[q(t,null,{default:X((function(){return[Wt,qt]})),_:1})]})),default:X((function(){return[q(k,{height:y()},{default:X((function(){return[W("div",Xt,[W("div",$t,[q(t,{tag:"b"},{default:X((function(){return[$("主题")]})),_:1}),q(r,{modelValue:Q(m),"onUpdate:modelValue":n[0]||(n[0]=function(e){return oe(m)?m.value=e:null}),size:"small",style:{width:"100px"}},{default:X((function(){return[q(o,{value:Q(c).AUTO,label:"跟随系统"},null,8,["value"]),q(o,{value:Q(c).LIGHT,label:"明亮主题"},null,8,["value"]),q(o,{value:Q(c).DARK,label:"深色主题"},null,8,["value"])]})),_:1},8,["modelValue"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 您可以根据个人喜好选择明亮或深色主题，也可以设置为跟随系统 ")]})),_:1})]),W("div",Qt,[W("div",Zt,[q(t,{tag:"b"},{default:X((function(){return[$("显示背景图")]})),_:1}),q(l,{modelValue:Q(s).setting.dynamicBackground,"onUpdate:modelValue":n[1]||(n[1]=function(e){return Q(s).setting.dynamicBackground=e})},null,8,["modelValue"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 用于控制是否显示首页动态背景图，若浏览器卡顿您可以关闭动态背景图 ")]})),_:1})]),W("div",eo,[W("div",no,[q(t,{tag:"b"},{default:X((function(){return[$("易混淆字符")]})),_:1}),q(i,{style:{width:"100px"},size:"small",modelValue:Q(s).setting.easyConfuseChat,"onUpdate:modelValue":n[2]||(n[2]=function(e){return Q(s).setting.easyConfuseChat=e})},null,8,["modelValue"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 随机生成密码时将不会使用配置的易混淆字符 ")]})),_:1})]),W("div",to,[W("div",oo,[q(t,{tag:"b"},{default:X((function(){return[$("自动生成密码")]})),_:1}),q(l,{modelValue:Q(s).setting.autoGeneratePassword,"onUpdate:modelValue":n[3]||(n[3]=function(e){return Q(s).setting.autoGeneratePassword=e})},null,8,["modelValue"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 当您添加密码时是否希望系统使用默认规则自动生成一个密码 ")]})),_:1})]),W("div",ro,[W("div",ao,[q(t,{tag:"b"},{default:X((function(){return[$("随机密码生成规则")]})),_:1})]),q(a,{class:"function-line"}),W("div",lo,[W("div",null,[q(_,null,{default:X((function(){return[q(v,{sm:{span:24},md:{span:10},style:{"margin-bottom":"10px","text-align":"center"}},{default:X((function(){return[q(u,{size:"small",style:{margin:"5px 15px"},border:"",label:"大写",modelValue:Q(s).setting.generateRule.uppercase,"onUpdate:modelValue":n[4]||(n[4]=function(e){return Q(s).setting.generateRule.uppercase=e})},null,8,["modelValue"]),q(u,{size:"small",style:{margin:"5px 15px"},border:"",label:"小写",modelValue:Q(s).setting.generateRule.lowercase,"onUpdate:modelValue":n[5]||(n[5]=function(e){return Q(s).setting.generateRule.lowercase=e})},null,8,["modelValue"]),q(u,{size:"small",style:{margin:"5px 15px"},border:"",label:"数字",modelValue:Q(s).setting.generateRule.number,"onUpdate:modelValue":n[6]||(n[6]=function(e){return Q(s).setting.generateRule.number=e})},null,8,["modelValue"]),q(u,{size:"small",style:{margin:"5px 15px"},border:"",label:"符号",modelValue:Q(s).setting.generateRule.symbol,"onUpdate:modelValue":n[7]||(n[7]=function(e){return Q(s).setting.generateRule.symbol=e})},null,8,["modelValue"])]})),_:1}),q(v,{sm:{span:24},md:{span:10},style:{"text-align":"center"}},{default:X((function(){return[io,q(x,{style:{"margin-top":"10px"},size:"small",modelValue:Q(s).setting.generateRule.length,"onUpdate:modelValue":n[8]||(n[8]=function(e){return Q(s).setting.generateRule.length=e}),min:4,max:32},null,8,["modelValue"])]})),_:1})]})),_:1})])])])]})),_:1},8,["height"])]})),_:1}),q(A,null,{label:X((function(){return[q(t,null,{default:X((function(){return[uo,$(" 功能管理 ")]})),_:1})]})),default:X((function(){return[q(k,{height:y()},{default:X((function(){return[W("div",so,[W("div",co,[q(t,{tag:"b"},{default:X((function(){return[$("显示标签卡片")]})),_:1}),q(l,{modelValue:Q(s).setting.showLabelCard,"onUpdate:modelValue":n[9]||(n[9]=function(e){return Q(s).setting.showLabelCard=e})},null,8,["modelValue"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 显示标签卡片后，您可以在首页方便地管理所有标签，并使用标签功能筛选密码列表。 ")]})),_:1})]),W("div",fo,[W("div",po,[q(t,{tag:"b"},{default:X((function(){return[$("显示收藏卡片")]})),_:1}),q(l,{modelValue:Q(s).setting.showFavoriteCard,"onUpdate:modelValue":n[10]||(n[10]=function(e){return Q(s).setting.showFavoriteCard=e})},null,8,["modelValue"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 显示收藏卡片后，您可以在首页查看所有已收藏的密码，点击密码名称即可在密码列表中显示。 ")]})),_:1})]),W("div",go,[W("div",vo,[q(t,{tag:"b"},{default:X((function(){return[$("密码回收站")]})),_:1}),q(l,{"before-change":b,modelValue:Q(s).setting.enableRecycleBin,"onUpdate:modelValue":n[11]||(n[11]=function(e){return Q(s).setting.enableRecycleBin=e})},null,8,["modelValue"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 开启密码回收站后，已删除的密码将会被保存至回收站，您可以选择永久删除或恢复。 ")]})),_:1})]),W("div",mo,[W("div",yo,[q(t,{tag:"b"},{default:X((function(){return[$("快捷键")]})),_:1}),q(l,{modelValue:Q(s).setting.enableShortcutKey,"onUpdate:modelValue":n[12]||(n[12]=function(e){return Q(s).setting.enableShortcutKey=e})},null,8,["modelValue"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 锁定/解锁： "),q(F,{type:"primary",style:{"text-indent":"0","margin-right":"10px"},size:"small"},{default:X((function(){return[$("Alt + L")]})),_:1}),$(" 搜索： "),q(F,{type:"primary",style:{"text-indent":"0","margin-right":"10px"},size:"small"},{default:X((function(){return[$("Ctrl + F")]})),_:1}),$(" 创建： "),q(F,{type:"primary",style:{"text-indent":"0","margin-right":"10px"},size:"small"},{default:X((function(){return[$("Alt + N")]})),_:1}),$(" 保存： "),q(F,{type:"primary",style:{"text-indent":"0","margin-right":"10px"},size:"small"},{default:X((function(){return[$("Ctrl + S")]})),_:1})]})),_:1})]),q(V,{"show-icon":"",closable:!1,type:"info",title:"若您需要更多密码显示空间，可以选择关闭标签和收藏卡片并在更多功能中使用。"})]})),_:1},8,["height"])]})),_:1}),q(A,null,{label:X((function(){return[q(t,null,{default:X((function(){return[ho,$(" 密码显示 ")]})),_:1})]})),default:X((function(){return[q(k,{height:y()},{default:X((function(){return[W("div",bo,[W("div",wo,[q(t,{tag:"b"},{default:X((function(){return[$("密码排序")]})),_:1}),W("div",null,[q(r,{modelValue:Q(s).setting.sortField,"onUpdate:modelValue":n[13]||(n[13]=function(e){return Q(s).setting.sortField=e}),size:"small",style:{width:"90px"}},{default:X((function(){return[q(o,{value:"addTime",label:"添加时间"}),q(o,{value:"updateTime",label:"修改时间"}),q(o,{value:"strength",label:"密码强度"}),q(o,{value:"title",label:"密码名称"}),q(o,{value:"username",label:"登录名"}),q(o,{value:"favorite",label:"收藏"})]})),_:1},8,["modelValue"]),q(r,{modelValue:Q(s).setting.sortOrder,"onUpdate:modelValue":n[14]||(n[14]=function(e){return Q(s).setting.sortOrder=e}),size:"small",style:{width:"65px","margin-left":"5px"}},{default:X((function(){return[q(o,{value:Q(C).ASC,label:"正序"},null,8,["value"]),q(o,{value:Q(C).DESC,label:"倒序"},null,8,["value"])]})),_:1},8,["modelValue"])])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 此选项用于设置密码默认排序规则。您也可以通过点击密码列表中的小箭头进行临时排序，临时排序会在页面刷新后重置。 ")]})),_:1})]),W("div",xo,[W("div",_o,[q(t,{tag:"b"},{default:X((function(){return[$("在密码列表中显示标签")]})),_:1}),q(l,{modelValue:Q(s).setting.showLabelForTable,"onUpdate:modelValue":n[15]||(n[15]=function(e){return Q(s).setting.showLabelForTable=e})},null,8,["modelValue"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 此选项用于设置是否在密码列表中显示标签列，显示标签将会占用更多空间，您可根据需要开启。 ")]})),_:1})]),W("div",ko,[W("div",Co,[q(t,{tag:"b"},{default:X((function(){return[$("在密码列表中显示时间")]})),_:1}),q(r,{modelValue:Q(s).setting.showTimeForTable,"onUpdate:modelValue":n[16]||(n[16]=function(e){return Q(s).setting.showTimeForTable=e}),size:"small",style:{width:"100px"}},{default:X((function(){return[q(o,{value:"no",label:"不显示时间"}),q(o,{value:"addTime",label:"显示添加时间"}),q(o,{value:"updateTime",label:"显示修改时间"})]})),_:1},8,["modelValue"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 此选项用于设置是否在密码列表中显示时间，显示时间将会占用更多空间，您可根据需要开启。 ")]})),_:1})]),W("div",Ao,[W("div",Fo,[q(t,{tag:"b"},{default:X((function(){return[$("显示密码强度")]})),_:1}),q(l,{modelValue:Q(s).setting.showStrength,"onUpdate:modelValue":n[17]||(n[17]=function(e){return Q(s).setting.showStrength=e})},null,8,["modelValue"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 我们根据密码组成将密码分为弱、中、强3个等级，分别用颜色 "),Vo,So,Ro,$(" 表示，若您不喜欢此功能可在此关闭。 ")]})),_:1})]),W("div",Do,[W("div",Eo,[q(t,{tag:"b"},{default:X((function(){return[$("密码颜色")]})),_:1}),q(l,{modelValue:Q(s).setting.passwordColor,"onUpdate:modelValue":n[18]||(n[18]=function(e){return Q(s).setting.passwordColor=e})},null,8,["modelValue"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 开启此功能后您可以在创建密码时选择密码颜色，并在卡片或表格中显示 ")]})),_:1})])]})),_:1},8,["height"])]})),_:1}),q(A,null,{label:X((function(){return[q(t,null,{default:X((function(){return[To,$(" 密码安全 ")]})),_:1})]})),default:X((function(){return[q(k,{height:y()},{default:X((function(){return[W("div",Po,[W("div",Mo,[q(t,{tag:"b"},{default:X((function(){return[$("超时锁定")]})),_:1}),q(r,{disabled:Q(s).setting.autoUnlock,title:Q(s).setting.autoUnlock?"已开启自动解锁无法设置自动锁定":"",modelValue:Q(s).setting.timeoutLock,"onUpdate:modelValue":n[19]||(n[19]=function(e){return Q(s).setting.timeoutLock=e}),size:"small",style:{width:"100px"}},{default:X((function(){return[q(o,{value:0,label:"永不超时"}),q(o,{value:30,label:"30秒"}),q(o,{value:60,label:"1分钟"}),q(o,{value:300,label:"5分钟"}),q(o,{value:600,label:"10分钟"}),q(o,{value:1800,label:"30分钟"}),q(o,{value:3600,label:"1小时"}),q(o,{value:14400,label:"4小时"}),q(o,{value:28800,label:"8小时"}),q(o,{value:43200,label:"12小时"})]})),_:1},8,["disabled","title","modelValue"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 系统将在此时间后自动锁定密码列表。 ")]})),_:1})]),"local"!==Q(d).loginType?(H(),J("div",Lo,[W("div",zo,[q(t,{tag:"b"},{default:X((function(){return[$("自动登录")]})),_:1}),q(l,{modelValue:Q(s).setting.autoLogin,"onUpdate:modelValue":n[20]||(n[20]=function(e){return Q(s).setting.autoLogin=e})},null,8,["modelValue"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 开启自动登录功能后，系统会将您的登录信息通过浏览器指纹加密后存储在浏览器中。当您再次打开password-XL并成功验证主密码时，系统会自动登录。 ")]})),_:1})])):ue("",!0),W("div",Io,[W("div",Uo,[q(t,{tag:"b"},{default:X((function(){return[$("自动解锁")]})),_:1}),q(l,{"before-change":h,modelValue:Q(s).setting.autoUnlock,"onUpdate:modelValue":n[21]||(n[21]=function(e){return Q(s).setting.autoUnlock=e})},null,8,["modelValue"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 开启自动解锁功能后，系统会将您的主密码通过浏览器指纹加密后存储在浏览器中。当您再次打开password-XL时，系统会自动登录并使用主密码解锁。 ")]})),_:1})]),W("div",Bo,[W("div",Oo,[q(t,{tag:"b"},{default:X((function(){return[$("验证密码时显示手势")]})),_:1}),q(l,{modelValue:Q(s).setting.verifyShowGesture,"onUpdate:modelValue":n[22]||(n[22]=function(e){return Q(s).setting.verifyShowGesture=e})},null,8,["modelValue"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 当您使用手势密码时可以在此配置是否显示手势滑动轨迹。 ")]})),_:1})]),W("div",No,[q(S,{plain:"",type:"primary",onClick:Q(f).setPasswordRef.setMainPassword},{default:X((function(){return[$("修改主密码")]})),_:1},8,["onClick"]),q(S,{type:"danger",onClick:Q(f).cancelAccountRef.showCloseAccount},{default:X((function(){return[$("注销账户")]})),_:1},8,["onClick"])])]})),_:1},8,["height"])]})),_:1}),q(A,{name:"loginInfo"},{label:X((function(){return[q(t,null,{default:X((function(){return[jo,$(" 登录信息 ")]})),_:1})]})),default:X((function(){return[q(k,{height:y()},{default:X((function(){return[W("div",Ko,[q(R)])]})),_:1},8,["height"])]})),_:1}),window.androidAPI?ue("",!0):(H(),Z(A,{key:0},{label:X((function(){return[q(t,null,{default:X((function(){return[Yo,$(" 备份恢复 ")]})),_:1})]})),default:X((function(){return[q(k,{height:y()},{default:X((function(){return[W("div",Go,[W("div",Ho,[q(t,{tag:"b"},{default:X((function(){return[$("备份密码")]})),_:1}),q(S,{plain:"",type:"primary",onClick:n[23]||(n[23]=function(e){return Q(f).backupAndRecoveryRef.backup(!1)}),size:"small"},{default:X((function(){return[$("备份 ")]})),_:1})]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 密码备份功能可以安全的将加密后的密码文件导出，在需要时通过 "),q(t,null,{default:X((function(){return[$("恢复备份密码")]})),_:1}),$(" 功能还原。 ")]})),_:1})]),W("div",Jo,[W("div",Wo,[q(t,{tag:"b"},{default:X((function(){return[$("恢复备份密码")]})),_:1}),q(S,{plain:"",type:"primary",onClick:Q(f).backupAndRecoveryRef.recovery,size:"small"},{default:X((function(){return[$("恢复 ")]})),_:1},8,["onClick"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 此功能可以将备份文件中的密码恢复到密码列表。在验证备份文件的主密码后，您可以选择合并或覆盖方式恢复密码。 ")]})),_:1})]),W("div",qo,[W("div",Xo,[q(t,{tag:"b"},{default:X((function(){return[$("导出密码")]})),_:1}),q(S,{plain:"",type:"primary",onClick:n[24]||(n[24]=function(e){return Q(f).exportExcelRef.exportExcel(!1)}),size:"small"},{default:X((function(){return[$("导出 ")]})),_:1})]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 导出密码会将敏感信息明文存储在excel表格中，请注意密码安全。若您仅需要迁移账号或备份密码建议使用密码备份与恢复功能更加高效安全。 ")]})),_:1})]),W("div",$o,[W("div",Qo,[q(t,{tag:"b"},{default:X((function(){return[$("导入密码")]})),_:1}),q(S,{plain:"",type:"primary",onClick:Q(f).importExcelRef.importExcel,size:"small"},{default:X((function(){return[$("导入 ")]})),_:1},8,["onClick"])]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 密码导入功能支持按照密码模板导入excel文件中的密码，您可以通过下载模板功能获取密码模板。 ")]})),_:1})]),W("div",Zo,[W("div",er,[q(t,{tag:"b"},{default:X((function(){return[$("下载导入模板")]})),_:1}),q(S,{plain:"",type:"primary",onClick:n[25]||(n[25]=function(e){return Q(f).exportExcelRef.exportExcel(!0)}),size:"small"},{default:X((function(){return[$("下载 ")]})),_:1})]),q(a,{class:"function-line"}),q(t,{type:"info",tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 您可在下载的Excel模板中按照要求填写您的密码列表（ "),q(t,{type:"danger"},{default:X((function(){return[$("密码名称为必填")]})),_:1}),$(" ），然后使用密码导入功能导入您的密码。 ")]})),_:1})])]})),_:1},8,["height"])]})),_:1})),q(A,null,{label:X((function(){return[q(t,null,{default:X((function(){return[nr,$(" 问题反馈 ")]})),_:1})]})),default:X((function(){return[q(k,{height:y()},{default:X((function(){return[W("div",tr,[W("div",or,[q(t,{tag:"b"},{default:X((function(){return[$("建议反馈")]})),_:1})]),q(a,{class:"function-line"}),W("div",rr,[q(t,{tag:"p",style:{"text-indent":"10px"}},{default:X((function(){return[$(" 您的建议是我们不断进步的动力，您可以在此项目 "),q(D,{type:"primary",style:{position:"relative",top:"-2px"},target:"_blank",href:Q(Tn).repository.url+"/issues"},{default:X((function(){return[$("开源地址 ")]})),_:1},8,["href"]),$(" 中留下您遇到的问题或提出宝贵的建议。 ")]})),_:1})])]),W("div",ar,[W("div",lr,[q(t,{tag:"b"},{default:X((function(){return[$("常见问题")]})),_:1})]),W("div",ir,[q(E)])])]})),_:1},8,["height"])]})),_:1}),q(A,null,{label:X((function(){return[q(t,null,{default:X((function(){return[ur,$(" 关于项目 ")]})),_:1})]})),default:X((function(){return[q(k,{height:y()},{default:X((function(){return[W("div",sr,[q(T)])]})),_:1},8,["height"])]})),_:1}),q(A,null,{label:X((function(){return[q(t,null,{default:X((function(){return[cr,$(" 支持我们 ")]})),_:1})]})),default:X((function(){return[q(k,{height:y()},{default:X((function(){return[W("div",dr,[q(P)])]})),_:1},8,["height"])]})),_:1}),q(A,null,{label:X((function(){return[q(t,null,{default:X((function(){return[fr,$(" 版权声明 ")]})),_:1})]})),default:X((function(){return[q(k,{height:y()},{default:X((function(){return[W("div",pr,[q(M)])]})),_:1},8,["height"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["fullscreen","modelValue"])}}}),vr=b(gr,[["__scopeId","data-v-8280f6d4"]]),mr=function(e){return ae("data-v-9b8fe49a"),e=e(),le(),e}((function(){return W("span",{class:"iconfont icon-verify"},null,-1)})),yr={key:0,style:{"margin-top":"10px","text-align":"center"}},hr=b(j({__name:"SetPassword",setup:function(e,n){var t=n.expose,o=r(),a=_(),i=l(),s=G(),c=G(),d=G(),f=G(!1),g=G(JSON.parse(JSON.stringify(o.mainPasswordType))),v=G(""),m=G(""),y=ie({firstMainPassword:"",secondMainPassword:""}),h=ie({firstMainPassword:[{required:!0,message:"请输入主密码",trigger:"blur"}],secondMainPassword:[{required:!0,message:"请再次输入主密码",trigger:"blur"}]}),b=function(e){console.log("设置密码，标准主密码 确认"),e.validate((function(e){if(e)return y.firstMainPassword!==y.secondMainPassword?(console.log("设置密码，标准主密码 两次输入的密码不一致"),void we.error("两次输入的密码不一致")):y.firstMainPassword===v.value?(console.log("设置密码，标准主密码 新密码与原密码一致"),void we.error("新密码与原密码一致")):void(o.serviceStatus===u.WAIT_INIT?x(y.firstMainPassword):k(y.firstMainPassword))}))},w=function(e){return console.log("设置密码，手势主密码 绘制完成事件"),m.value?e.length<5?void 0:m.value!==e?(m.value="",void we.warning("两次绘制的密码不一致")):m.value===v.value?(m.value="",console.log("设置密码，手势主密码 新密码与原密码一致"),void we.error("新密码与原密码一致")):void(o.serviceStatus===u.WAIT_INIT?x(m.value):k(m.value)):(console.log("设置密码，手势主密码 第一次绘制"),void(m.value=e))},x=function(e){console.log("设置密码，输入完成 初始化主密码"),o.loading(),o.passwordManager.initMainPassword(g.value,e).then((function(n){n.status?(f.value=!1,console.log("设置密码，设置成功"),we.success("设置成功"),a.setAutoLoginInfo(e)):(console.log("设置密码，设置失败 ",n.message),we.error(n.message)),o.unloading()})).catch((function(){o.unloading()}))},k=function(e){console.log("设置密码，输入完成 修改主密码"),o.passwordManager.updateMainPassword(v.value,g.value,e).then((function(n){n.status?(f.value=!1,a.setAutoLoginInfo(e),console.log("设置密码，修改成功"),we.success("修改成功")):(console.log("设置密码，修改失败：",n.message),we.error(n.message)),o.unloading()})).catch((function(){o.unloading()}))};return ce(g,(function(){var e;null===(e=s.value)||void 0===e||e.clearValidate()})),t({setMainPassword:function(){console.log("进入设置密码"),y.firstMainPassword="",y.secondMainPassword="",m.value="",o.serviceStatus===u.WAIT_INIT?(console.log("设置密码，初始化主密码"),f.value=!0):(console.log("设置密码，先验证当前密码是否正确"),i.verifyPasswordRef.getAndVerify((function(e){return o.passwordManager.verifyPassword(e)})).then((function(e){v.value=e,f.value=!0,console.log("设置密码，验证当前密码是否正确 通过")})))}}),function(e,n){var t=ke,r=ze,a=Se,l=Oe,i=Ne,v=qe,x=S,_=Xe,k=Fe,C=Ve;return H(),Z(C,{width:["xs"].includes(Q(p)().value)?"95%":"550px",modelValue:Q(f),"onUpdate:modelValue":n[7]||(n[7]=function(e){return oe(f)?f.value=e:null}),"close-on-click-modal":!1,"close-on-press-escape":Q(o).serviceStatus!==Q(u).WAIT_INIT,"show-close":Q(o).serviceStatus!==Q(u).WAIT_INIT,onOpen:n[8]||(n[8]=function(e){var n;return null===(n=Q(s))||void 0===n?void 0:n.resetFields()}),onOpened:n[9]||(n[9]=function(e){var n;return null===(n=Q(c))||void 0===n?void 0:n.focus()})},fe({header:X((function(){return[q(t,{size:"large",style:{"user-select":"none"}},{default:X((function(){return[mr,$(" 设置主密码 ")]})),_:1})]})),default:X((function(){return[q(r,{type:"warning","show-icon":"",closable:!1,style:{"margin-top":"10px"},title:"主密码一旦遗忘，所有密码均无法找回！请慎重设置您的主密码。"}),q(_,{type:"card",modelValue:Q(g),"onUpdate:modelValue":n[5]||(n[5]=function(e){return oe(g)?g.value=e:null}),style:{"margin-top":"15px"}},{default:X((function(){return[q(v,{label:"标准密码",name:Q(V).STANDARD},{default:X((function(){return[q(i,{ref_key:"setPasswordFormRef",ref:s,onSubmit:n[4]||(n[4]=pe((function(){}),["prevent"])),model:Q(y),"label-width":"80px",style:{width:"300px",margin:"20px auto"},rules:Q(h)},{default:X((function(){return[q(l,{prop:"firstMainPassword",label:"主密码"},{default:X((function(){return[q(a,{ref_key:"firstPasswordInputRef",ref:c,type:"password","show-password":"",autocomplete:"new-password",onKeyup:n[0]||(n[0]=ge((function(e){return Q(d).focus()}),["enter","native"])),modelValue:Q(y).firstMainPassword,"onUpdate:modelValue":n[1]||(n[1]=function(e){return Q(y).firstMainPassword=e}),placeholder:"请输入主密码"},null,8,["modelValue"])]})),_:1}),q(l,{style:{"padding-top":"10px"},prop:"secondMainPassword",label:"确认密码"},{default:X((function(){return[q(a,{ref_key:"secondMainPasswordRef",ref:d,type:"password","show-password":"",autocomplete:"new-password",onKeyup:n[2]||(n[2]=ge((function(e){return b(Q(s))}),["enter","native"])),modelValue:Q(y).secondMainPassword,"onUpdate:modelValue":n[3]||(n[3]=function(e){return Q(y).secondMainPassword=e}),placeholder:"请再次输入主密码"},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["name"]),q(v,{disabled:Q(o).globalLoading.vis,label:"手势密码",name:Q(V).GESTURE},{default:X((function(){return[Q(g)===Q(V).GESTURE?(H(),J("div",yr,[Q(m)?(H(),Z(t,{key:1},{default:X((function(){return[$("请再次绘制手势密码")]})),_:1})):(H(),Z(t,{key:0},{default:X((function(){return[$("请绘制手势密码")]})),_:1})),q(x,{style:{width:"350px",margin:"0 auto"},onComplete:w})])):ue("",!0)]})),_:1},8,["disabled","name"])]})),_:1},8,["modelValue"])]})),_:2},[Q(g)===Q(V).STANDARD?{name:"footer",fn:X((function(){return[q(k,{type:"primary",disabled:Q(o).globalLoading.vis,onClick:n[6]||(n[6]=function(e){return b(Q(s))})},{default:X((function(){return[$("确定")]})),_:1},8,["disabled"])]})),key:"0"}:void 0]),1032,["width","modelValue","close-on-press-escape","show-close"])}}}),[["__scopeId","data-v-9b8fe49a"]]),br=function(e){return ae("data-v-9482f0e7"),e=e(),le(),e},wr=br((function(){return W("span",{class:"iconfont icon-recovery"},null,-1)})),xr=br((function(){return W("span",{style:{"font-weight":"bold"}},"·",-1)})),_r={style:{position:"absolute",padding:"7px"}},kr=br((function(){return W("div",{class:"icon-div"},[W("span",{class:"iconfont icon-merge"})],-1)})),Cr={style:{"margin-top":"20px",padding:"10px"}},Ar=br((function(){return W("div",{class:"icon-div"},[W("span",{class:"iconfont icon-cover"})],-1)})),Fr={style:{"margin-top":"20px",padding:"10px"}},Vr=j({__name:"BackupAndRecovery",setup:function(e,n){var t=n.expose,i=r(),u=l(),s=G(!1),c=G(),f=G([]),g=G([]),v=function(e){console.log("密码备份 auto:",e);var n=i.passwordManager.getStoreData();if(!n)return console.error("系统异常 备份文件不存在"),void be.error({title:"系统异常",message:"备份文件不存在"});var t=e?"您与“".concat(d(Date.now(),"YYYY-MM-DD HH:mm"),"” 进行密码恢复时系统自动备份了该文件，"):"您于“".concat(d(Date.now(),"YYYY-MM-DD HH:mm"),"” 手动备份了该文件，"),o=i.allPasswordArray.length,r=R(),a={explain:"此文件为password-XL 密码备份文件，".concat(t,"此文件包含：").concat(o," 个密码、").concat(r," 个标签。 password-XL 官网服务地址为：https://password-xl.cn"),storeData:n,backupTime:Date.now()},l="密码备份 "+d(Date.now(),"YYYY-MM-DD HH:mm:ss")+".json",u=new Blob([JSON.stringify(a)],{type:"text/plain;charset=utf-8"});console.log("密码备份 导出文件:",l),cn.saveAs(u,l)},m=function(){var e=a(o().mark((function e(n){var t,r,a,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("密码备份,开始恢复密码"),a=D(i.mainPassword,n.storeData.passwordData),console.log("密码备份, 检查当前主密码是否可以解锁备份文件:",a),!a){e.next=8;break}t=E(i.mainPassword,n.storeData.passwordData),r=E(i.mainPassword,n.storeData.labelData),e.next=13;break;case 8:return e.next=10,u.verifyPasswordRef.getAndVerify((function(e){return D(e,n.storeData.passwordData)}),n.storeData.mainPasswordType);case 10:l=e.sent,console.log("密码备份, 需要用户输入备份文件的主密码 mainPassword:",l),l&&(t=E(l,n.storeData.passwordData),r=E(l,n.storeData.labelData));case 13:if(t&&r){e.next=17;break}return console.log("密码恢复失败, 请检查备份文件及主密码是否正确"),be.error({title:"恢复失败",message:"请检查备份文件及主密码是否正确"}),e.abrupt("return",!1);case 17:f.value=T(JSON.parse(t)),g.value=JSON.parse(r),console.log("密码恢复, 解压缩密码列表: ",f.value.length,g.value),i.allPasswordArray.length||i.labelArray.length?s.value=!0:(console.log("密码恢复, 当前列表没有密码直接恢复"),y());case 21:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(){console.log("密码恢复, 覆盖方式恢复 验证密码"),u.verifyPasswordRef.getAndVerify((function(e){return i.passwordManager.verifyPassword(e)})).then((function(){h()}))},h=function(){console.log("密码恢复, 覆盖方式恢复"),(i.allPasswordArray.length||i.labelArray.length)&&(console.log("密码恢复, 恢复前先备份当前数据"),v(!0),we.success("已为您自动备份现有密码")),console.log("密码恢复, 覆盖 数据确认：",i.allPasswordArray.length,f.value.length,i.labelArray.length,g.value.length),i.allPasswordArray=f.value,i.labelArray=g.value,x()},b=function(){console.log("密码恢复, 合并方式恢复 验证密码"),u.verifyPasswordRef.getAndVerify((function(e){return i.passwordManager.verifyPassword(e)})).then((function(){w()}))},w=function(){console.log("密码恢复, 合并方式恢复"),(i.allPasswordArray.length||i.labelArray.length)&&(console.log("密码恢复, 恢复前先备份当前数据"),v(!0),we.success("已为您自动备份现有密码")),P(i.allPasswordArray,f.value),M(i.labelArray,g.value),x()},x=function(){var e=a(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("密码恢复, 同步密码与标签文件"),e.next=3,i.passwordManager.syncStoreData().catch((function(e){return e}));case 3:n=e.sent,console.log("密码恢复, 同步密码与标签文件 结果：",n),n.status?(we.success("密码恢复成功"),s.value=!1):be.error({title:"系统异常",message:n.message});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t({backup:v,recovery:function(){console.log("密码恢复"),c.value.click()}}),function(e,n){var t=ke,o=Ce,r=Te,a=Pe,l=Ve;return H(),J(ne,null,[W("input",{type:"file",style:{display:"none"},ref_key:"fileInput",ref:c,onChange:n[0]||(n[0]=function(e){return function(){if(0!==c.value.files.length){console.log("密码备份,文件选择器选择了文件：",c.value.files.length);var e=c.value.files[0],n=new FileReader;n.onload=function(){if(n.result)try{var e=JSON.parse(n.result);c.value.value="",m(e)}catch(t){console.error(t),be.error({title:"恢复失败",message:"请检查备份文件是否正确"})}},n.readAsText(e)}}()}),accept:"application/json"},null,544),q(l,{fullscreen:["xs","sm"].includes(Q(p)().value),modelValue:Q(s),"onUpdate:modelValue":n[1]||(n[1]=function(e){return oe(s)?s.value=e:null}),width:"600px",draggable:""},{header:X((function(){return[q(t,{size:"large",style:{"user-select":"none"}},{default:X((function(){return[wr,$(" 恢复密码 "),xr,$(" 请选择恢复方式 ")]})),_:1})]})),default:X((function(){return[q(a,null,{default:X((function(){return[q(r,{sm:{span:24},md:{span:12},class:"recovery-col"},{default:X((function(){return[W("div",{class:"recovery-type recovery-merge",onClick:b},[W("div",_r,[q(o,{type:"success",effect:"dark"},{default:X((function(){return[$("推荐")]})),_:1})]),kr,q(t,{class:"recovery-text"},{default:X((function(){return[$(" 合并恢复 ")]})),_:1}),W("div",Cr,[q(t,null,{default:X((function(){return[$("将现有密码与备份文件中的密码合并（修改过的密码会添加备注说明）")]})),_:1})])])]})),_:1}),q(r,{sm:{span:24},md:{span:12},class:"recovery-col"},{default:X((function(){return[W("div",{class:"recovery-type recovery-cover",onClick:y},[Ar,q(t,{class:"recovery-text"},{default:X((function(){return[$(" 覆盖恢复 ")]})),_:1}),W("div",Fr,[q(t,null,{default:X((function(){return[$("使用备份文件覆盖密码列表，现有的密码和标签都将被删除")]})),_:1})])])]})),_:1})]})),_:1})]})),_:1},8,["fullscreen","modelValue"])],64)}}}),Sr=b(Vr,[["__scopeId","data-v-9482f0e7"]]),Rr=function(e){return ae("data-v-5a99a1a1"),e=e(),le(),e},Dr=Rr((function(){return W("span",{class:"iconfont icon-recycle-bin"},null,-1)})),Er={key:1,style:{"text-align":"center"}},Tr=Rr((function(){return W("div",{style:{"margin-top":"20px"}},[W("span",{class:"iconfont icon-recycle-bin not-enabled-recycle-bin-icon"})],-1)})),Pr={style:{margin:"20px"}},Mr={style:{margin:"40px"}},Lr=b(j({__name:"RecycleBin",setup:function(e,n){var t=n.expose,o=r(),a=i(),l=G(!1),u=function(){console.log("启用回收站功能"),a.setting.enableRecycleBin=!0,o.passwordManager.syncSetting().then((function(e){e&&e.status&&we.success("已开启密码回收站")}))};return t({openRecycleBin:function(){console.log("打开回收站"),l.value=!0}}),function(e,n){var t=ke,r=xe,i=Ee,s=Ae,c=Fe,d=Ve;return H(),Z(d,{fullscreen:["xs"].includes(Q(p)().value),modelValue:Q(l),"onUpdate:modelValue":n[0]||(n[0]=function(e){return oe(l)?l.value=e:null}),width:"600px",draggable:"",class:"recycle-bin"},{header:X((function(){return[q(t,{size:"large",style:{"user-select":"none"}},{default:X((function(){return[Dr,$(" 回收站 ")]})),_:1})]})),default:X((function(){return[Q(a).setting.enableRecycleBin?(H(),Z(s,{key:0,height:"380px","header-cell-style":{padding:0},data:Q(o).deletedArray},{empty:X((function(){return[q(t,{type:"info"},{default:X((function(){return[$("这里空空如也")]})),_:1})]})),default:X((function(){return[q(r,{prop:"title"}),q(r,{width:"150px"},{default:X((function(e){return[q(i,{type:"primary",onClick:function(n){return t=e.row,console.log("还原密码：",t.id),void o.passwordManager.cancelDeletePassword(t.id);var t},underline:!1},{default:X((function(){return[$("还原")]})),_:2},1032,["onClick"]),q(i,{type:"danger",style:{"margin-left":"15px"},onClick:function(n){return t=e.row,console.log("彻底删除密码：",t.id),void o.passwordManager.completelyDeletePassword(t.id).then((function(e){e.status&&we.success("删除成功")}));var t},underline:!1},{default:X((function(){return[$("彻底删除")]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])):(H(),J("div",Er,[Tr,W("div",Pr,[q(t,{type:"info"},{default:X((function(){return[$("当前未开启密码回收站功能")]})),_:1})]),W("div",Mr,[q(c,{onClick:u,type:"primary",plain:""},{default:X((function(){return[$("开启回收站")]})),_:1})])]))]})),_:1},8,["fullscreen","modelValue"])}}}),[["__scopeId","data-v-5a99a1a1"]]),zr={key:0,class:"empty-favorite"},Ir={key:1},Ur=function(e){return ae("data-v-d2daeb2c"),e=e(),le(),e}((function(){return W("span",{class:"iconfont icon-edit cancel-favorite"},null,-1)})),Br=b(j({__name:"Favorite",setup:function(e){var n=r(),t=l(),o=G(0),a=function(e){return n.filterCondition.favoriteId===e.id?"dark":o.value===e.id?"light":"plain"};return function(e,r){var l=Ce,i=$e,u=Qe,s=Ze,c=We;return H(),Z(c,{height:"calc(50vh - 103px)"},{default:X((function(){return[Q(n).favoritePasswordArray.length?ue("",!0):(H(),J("div",zr," 暂无收藏 ")),Q(n).favoritePasswordArray.length?(H(),J("div",Ir,[(H(!0),J(ne,null,te(Q(n).favoritePasswordArray,(function(e){return H(),Z(s,{trigger:"contextmenu"},{dropdown:X((function(){return[q(u,null,{default:X((function(){return[q(i,{onClick:function(t){return function(e){console.log("取消收藏：",e.id),e.favorite=!1,o.value=0,n.filterCondition.favoriteId=0,n.passwordManager.updatePassword(e)}(e)}},{default:X((function(){return[Ur,$(" 取消收藏 ")]})),_:2},1032,["onClick"])]})),_:2},1024)]})),default:X((function(){return[q(l,{effect:a(e),type:"warning",onMouseenter:function(n){return o.value=e.id},onMouseleave:r[0]||(r[0]=function(e){return o.value=0}),class:"favorite-tag",size:"large",onClick:function(o){return r=e.id,console.log("收藏夹过滤密码：",r,n.filterCondition.favoriteId),void(n.filterCondition.favoriteId===r?n.filterCondition.favoriteId=0:(n.filterCondition.favoriteId=r,console.log("收藏夹密码过滤，清除标签密码过滤：",n.filterCondition.favoriteId),t.labelTreeRef?t.labelTreeRef.setCheckedNodes([]):n.filterCondition.labelArray=[]));var r}},{default:X((function(){return[$(ee(e.title),1)]})),_:2},1032,["effect","onMouseenter","onClick"])]})),_:2},1024)})),256))])):ue("",!0)]})),_:1})}}}),[["__scopeId","data-v-d2daeb2c"]]),Or={key:0,style:{"font-size":"12px",color:"#999","margin-bottom":"20px"}},Nr=function(e){return ae("data-v-01ae4433"),e=e(),le(),e}((function(){return W("span",{class:"iconfont icon-info",style:{"font-size":"100%"}},null,-1)})),jr=b(j({__name:"FavoriteDrawer",setup:function(e,n){var t=n.expose,o=r(),a=G(!1);return t({showFavoriteDrawer:function(){a.value=!0}}),ce((function(){return o.filterCondition.favoriteId}),(function(){a.value=!1})),function(e,n){var t=Br,r=en;return H(),J("div",null,[q(r,{size:["xs","sm"].includes(Q(p)().value)?"60%":"350px",direction:["xs","sm"].includes(Q(p)().value)?"btt":"rtl",title:"收藏",modelValue:Q(a),"onUpdate:modelValue":n[0]||(n[0]=function(e){return oe(a)?a.value=e:null})},{default:X((function(){return[Q(o).favoritePasswordArray.length?(H(),J("div",Or,[Nr,$(" 点击收藏内容即可查看密码 ")])):ue("",!0),q(t)]})),_:1},8,["size","direction","modelValue"])])}}}),[["__scopeId","data-v-01ae4433"]]),Kr=function(e){return ae("data-v-34171d03"),e=e(),le(),e},Yr=["onClick","onContextmenu"],Gr={key:1,style:{width:"100%"}},Hr=Kr((function(){return W("span",{class:"iconfont icon-peer-directory more-item",style:{color:"rgb(22 220 109)"}},null,-1)})),Jr=Kr((function(){return W("span",{class:"iconfont icon-sub-directory more-item",style:{color:"rgb(0 147 255)"}},null,-1)})),Wr=Kr((function(){return W("span",{class:"iconfont icon-edit more-item",style:{color:"#FF9700","font-size":"130%"}},null,-1)})),qr=Kr((function(){return W("span",{class:"iconfont icon-delete more-item",style:{color:"rgb(255,23,23)","font-size":"130%"}},null,-1)})),Xr=b(j({__name:"LabelTree",setup:function(e,n){var t=n.expose,o=r(),a=l(),i=G({}),s={},c=G(0),d=function(e){return e.data.id!==c.value},f=function(e,n){console.log("标签，添加标签");var t=0;e&&(t="peer"===n?e.data.pid:e.data.id);var o={id:Date.now(),pid:t,name:"新标签",children:[]};c.value=o.id,e?"peer"===n?a.labelTreeRef.insertAfter(o,e.data.id):a.labelTreeRef.append(o,e.data.id):a.labelTreeRef.append(o),a.labelTreeRef.setCurrentKey(o.id,!0),setTimeout((function(){var e;console.log("标签，设置输入焦点"),null===(e=s[o.id])||void 0===e||e.focus()}),150)},p=function(e){console.log("标签，确认删除标签: ",e.data);var n=[];!function e(n,t){t.push(n.id);for(var o=0;o<n.children.length;o++)e(n.children[o],t)}(e.data,n);for(var t=!1,r=0;r<o.allPasswordArray.length;r++)for(var l=o.allPasswordArray[r],i=0;i<l.labels.length;i++)n.includes(l.labels[i])&&(l.labels.splice(i--,1),t=!0);a.labelTreeRef.remove(e.data.id);for(var u=0;u<o.filterCondition.labelArray.length;u++)n.includes(o.filterCondition.labelArray[u])&&o.filterCondition.labelArray.splice(u,1);for(var c=0;c<n.length;c++)delete s[n[c]];o.passwordManager.syncStoreData(),t&&o.passwordManager.syncStoreData()},g=function(e){console.log("标签，保存标签:",e),e.name.trim()&&0!==c.value&&(c.value=0,o.passwordManager.syncStoreData())},v=function(){var e=a.labelTreeRef.getCheckedKeys();console.log("标签密码过滤：",e),e.length>0&&(console.log("标签密码过滤，清除收藏密码过滤：",o.filterCondition.favoriteId),o.filterCondition.favoriteId=0),o.filterCondition.labelArray=e};return t({addLabel:f}),function(e,n){var t=Fe,r=Se,l=$e,m=Qe,y=Ze,h=nn,b=We;return H(),Z(b,{height:"calc(50vh - 103px)"},{default:X((function(){return[q(h,{data:Q(o).labelArray,"node-key":"id",draggable:"","show-checkbox":"",style:{"background-color":"rgba(0,0,0,0)"},onCheckChange:v,ref:function(e){return Q(a).labelTreeRef=e},"check-strictly":!0,"expand-on-click-node":!1,onNodeDrop:n[1]||(n[1]=function(e){return Q(o).passwordManager.syncStoreData()}),"default-expanded-keys":o.labelArray.map((function(e){return e.id})),"allow-drag":d},{empty:X((function(){return[Q(o).serviceStatus===Q(u).UNLOCKED?(H(),Z(t,{key:0,size:"small",type:"primary",plain:"",onClick:n[0]||(n[0]=function(e){return f(null,"sub")})},{default:X((function(){return[$(" 创建密码标签 ")]})),_:1})):ue("",!0)]})),default:X((function(e){var n=e.node,t=e.data;return[q(y,{ref:function(e){return Q(i)[t.id]=e},"hide-timeout":0,trigger:"contextmenu",disabled:0!==Q(c),style:{width:"100%"}},{dropdown:X((function(){return[q(m,null,{default:X((function(){return[q(l,{onClick:function(e){return f(n,"peer")}},{default:X((function(){return[Hr,$(" 添加同级标签 ")]})),_:2},1032,["onClick"]),q(l,{onClick:function(e){return f(n,"sub")}},{default:X((function(){return[Jr,$(" 添加子级标签 ")]})),_:2},1032,["onClick"]),q(l,{divided:"",onClick:function(e){return function(e){console.log("标签，编辑标签: ",e.data),c.value=e.data.id,setTimeout((function(){var n;null===(n=s[e.data.id])||void 0===n||n.focus()}),150)}(n)}},{default:X((function(){return[Wr,$(" 修改标签 ")]})),_:2},1032,["onClick"]),q(l,{onClick:function(e){return function(e){console.log("标签，删除标签: ",e.data),je.confirm("确认删除“"+e.data.name+"”吗？","删除标签",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((function(){p(e)})).catch((function(){}))}(n)}},{default:X((function(){return[qr,$(" 删除标签 ")]})),_:2},1032,["onClick"])]})),_:2},1024)]})),default:X((function(){return[t.id!==Q(c)?(H(),J("div",{key:0,onClick:function(e){return function(e){0===c.value&&a.labelTreeRef.setChecked(e,!e.checked)}(n)},onContextmenu:function(e){return function(e){for(var n in console.log("标签 右键菜单"),e.stopPropagation(),a.contextmenuRef.hideContextmenu(),i.value)i.value[n]&&i.value[n].handleClose()}(e,t.id)},class:"label-content"},ee(t.name),41,Yr)):ue("",!0),t.id===Q(c)?(H(),J("div",Gr,[q(r,{ref:function(e){return s[n.data.id]=e},size:"small",onBlur:function(e){return g(t)},onKeyup:ge((function(e){return g(t)}),["enter"]),modelValue:t.name,"onUpdate:modelValue":function(e){return t.name=e}},null,8,["onBlur","onKeyup","modelValue","onUpdate:modelValue"])])):ue("",!0)]})),_:2},1032,["disabled"])]})),_:1},8,["data","default-expanded-keys"])]})),_:1})}}}),[["__scopeId","data-v-34171d03"]]),$r=function(e){return ae("data-v-ef6771b1"),e=e(),le(),e}((function(){return W("div",{style:{"font-size":"12px",color:"#999","margin-bottom":"20px"}},[W("span",{class:"iconfont icon-info",style:{"font-size":"100%"}}),$(" 选中标签可以对密码列表进行过滤 ")],-1)})),Qr=b(j({__name:"LabelDrawer",setup:function(e,n){var t=n.expose,o=G(!1);return t({showLabelDrawer:function(){o.value=!0}}),function(e,n){var t=Xr,r=en;return H(),J("div",null,[q(r,{size:["xs","sm"].includes(Q(p)().value)?"80%":"350px",direction:["xs","sm"].includes(Q(p)().value)?"btt":"rtl",title:"标签",modelValue:Q(o),"onUpdate:modelValue":n[0]||(n[0]=function(e){return oe(o)?o.value=e:null})},{default:X((function(){return[$r,q(t)]})),_:1},8,["size","direction","modelValue"])])}}}),[["__scopeId","data-v-ef6771b1"]]),Zr={class:"generate-input-div"},ea={class:"generate-use-type-div"},na={class:"generate-length-div"},ta=["onClick"],oa={class:"iconfont icon-check-mark",style:{"font-size":"14px"}},ra={style:{"text-align":"right"}},aa=j({__name:"PasswordForm",setup:function(e,t){var u=t.expose,s=l(),c=r(),d=i(),f=G(!1),g=G(""),v=G(!1),m=function(){return{id:0,title:"",address:"",username:"",password:"",remark:"",addTime:0,updateTime:0,deleteTime:0,favoriteTime:0,favorite:!1,customFields:{},labels:[],status:y.NORMAL,bgColor:""}},h=G(m()),b=G(JSON.parse(JSON.stringify(d.setting.generateRule))),w=ie({title:[{required:!0,message:"请输入名称",trigger:"blur"}]}),_=function(e,t){if(console.log("用户名自动预测 queryString:",e),e){var o=c.passwordArray.filter((function(n){return n.username.startsWith(e)})).map((function(e){return{value:e.username}})).filter((function(e,n,t){return n===t.findIndex((function(n){return n.value===e.value}))}));t(n(new Set(o)))}else t([])},k=null,C=function(){console.log("随机生成密码"),v.value=!1,null!==k&&clearInterval(k),setTimeout((function(){v.value=!0,h.value.password="";var e=z(b.value);if(e){var n=0;k=setInterval((function(){h.value.password+=e[n++],n>=e.length&&(clearInterval(k),k=null)}),500/b.value.length/4)}}),1)},A=function(){var e=a(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("保存密码"),e.next=3,n.validate((function(e){e&&(console.log("保存密码 校验通过"),"add"===g.value?(console.log("新增密码保存"),c.passwordManager.addPassword(JSON.parse(JSON.stringify(h.value))).then((function(e){e.status?(we.success("保存成功"),f.value=!1):be.error({title:"系统异常",message:e.message})}))):(console.log("修改密码保存"),h.value.updateTime=Date.now(),c.passwordManager.updatePassword(JSON.parse(JSON.stringify(h.value))).then((function(e){e.status?(we.success("修改成功"),f.value=!1):be.error({title:"系统异常",message:e.message})}))))}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();u({addPasswordForm:function(e){var n;console.log("显示添加密码表单 title：",e),g.value="add",h.value=m(),b.value=JSON.parse(JSON.stringify(d.setting.generateRule)),f.value=!0,null===(n=s.passwordFormFormRef)||void 0===n||n.clearValidate(),d.setting.autoGeneratePassword&&(console.log("显示添加密码表单 settingStore"),C()),e&&re((function(){h.value.title=e})),setTimeout((function(){var e;console.log("显示添加密码表单 设置焦点"),null===(e=s.passwordFormTitleRef)||void 0===e||e.focus()}),300)},editPasswordForm:function(e){var n;console.log("显示修改密码表单：",e.id),g.value="edit",b.value=JSON.parse(JSON.stringify(d.setting.generateRule)),h.value=JSON.parse(JSON.stringify(e)),f.value=!0,null===(n=s.passwordFormFormRef)||void 0===n||n.clearValidate()},closePasswordForm:function(){console.log("关闭密码表单"),f.value=!1}});var F=function(e){d.setting.enableShortcutKey&&e.ctrlKey&&"S"===e.key.toUpperCase()&&(console.log("使用快捷键 Ctrl + S"),e.preventDefault(),A(s.passwordFormFormRef))};return K((function(){document.addEventListener("keydown",F)})),Y((function(){document.removeEventListener("keydown",F)})),function(e,n){var t=ke,o=Se,r=Oe,a=tn,l=Fe,i=_e,u=He,m=Te,y=Pe,k=Je,F=on,V=rn,S=Ne,R=en;return H(),Z(R,{modelValue:Q(f),"onUpdate:modelValue":n[14]||(n[14]=function(e){return oe(f)?f.value=e:null}),"show-close":!1,size:["xs","sm"].includes(Q(p)().value)?"80%":"540px",direction:["xs","sm"].includes(Q(p)().value)?"btt":"rtl"},{header:X((function(){return[q(t,{style:{"font-size":"16px"}},{default:X((function(){return[$(ee("add"===Q(g)?"添加密码":"修改密码"),1)]})),_:1})]})),default:X((function(){return[q(S,{model:Q(h),rules:Q(w),"label-width":"60px",ref:function(e){return Q(s).passwordFormFormRef=e}},{default:X((function(){return[q(r,{label:"名称",prop:"title"},{default:X((function(){return[q(o,{ref:function(e){return Q(s).passwordFormTitleRef=e},modelValue:Q(h).title,"onUpdate:modelValue":n[0]||(n[0]=function(e){return Q(h).title=e}),autocomplete:"new-password",clearable:""},null,8,["modelValue"])]})),_:1}),q(r,{label:"地址",prop:"address"},{default:X((function(){return[q(o,{modelValue:Q(h).address,"onUpdate:modelValue":n[1]||(n[1]=function(e){return Q(h).address=e}),autocomplete:"new-password",clearable:""},null,8,["modelValue"])]})),_:1}),q(r,{label:"用户名",prop:"username"},{default:X((function(){return[q(a,{modelValue:Q(h).username,"onUpdate:modelValue":n[2]||(n[2]=function(e){return Q(h).username=e}),"fetch-suggestions":_,clearable:"",autocomplete:"new-password"},null,8,["modelValue"])]})),_:1}),q(r,{label:"密码"},{default:X((function(){return[q(F,{class:"generate-card"},{default:X((function(){return[W("div",Zr,[q(o,{autocomplete:"new-password",class:"generate-input",placeholder:"输入密码或随机生成",modelValue:Q(h).password,"onUpdate:modelValue":n[4]||(n[4]=function(e){return Q(h).password=e}),clearable:""},{append:X((function(){return[q(i,{content:"随机生成",placement:"top"},{default:X((function(){return[q(l,{ref:function(e){return Q(s).passwordFormGenerateBtnRef=e},onClick:C,tabindex:"-1",class:"refresh-password"},{default:X((function(){return[W("i",{class:ve(["iconfont icon-dice",{"random-dice":Q(v)}]),onAnimationend:n[3]||(n[3]=function(e){return v.value=!1})},null,34)]})),_:1},512)]})),_:1})]})),_:1},8,["modelValue"]),q(l,{onClick:n[5]||(n[5]=function(e){return Q(x)(Q(h).password)}),tabindex:"-1",type:"success",plain:""},{default:X((function(){return[$("复制")]})),_:1})]),W("div",ea,[q(y,null,{default:X((function(){return[q(m,{xs:{span:12},sm:{span:6},style:{"text-align":"center"}},{default:X((function(){return[q(u,{size:"small",class:"generate-type-checkbox",modelValue:Q(b).uppercase,"onUpdate:modelValue":n[6]||(n[6]=function(e){return Q(b).uppercase=e}),label:"大写",tabindex:"-1",disabled:!Q(b).lowercase&&!Q(b).number&&!Q(b).symbol,onChange:C,border:""},null,8,["modelValue","disabled"])]})),_:1}),q(m,{xs:{span:12},sm:{span:6},style:{"text-align":"center"}},{default:X((function(){return[q(u,{size:"small",class:"generate-type-checkbox",modelValue:Q(b).lowercase,"onUpdate:modelValue":n[7]||(n[7]=function(e){return Q(b).lowercase=e}),label:"小写",tabindex:"-1",disabled:!Q(b).uppercase&&!Q(b).number&&!Q(b).symbol,onChange:C,border:""},null,8,["modelValue","disabled"])]})),_:1}),q(m,{xs:{span:12},sm:{span:6},style:{"text-align":"center"}},{default:X((function(){return[q(u,{size:"small",class:"generate-type-checkbox",modelValue:Q(b).number,"onUpdate:modelValue":n[8]||(n[8]=function(e){return Q(b).number=e}),label:"数字",tabindex:"-1",disabled:!Q(b).uppercase&&!Q(b).lowercase&&!Q(b).symbol,onChange:C,border:""},null,8,["modelValue","disabled"])]})),_:1}),q(m,{xs:{span:12},sm:{span:6},style:{"text-align":"center"}},{default:X((function(){return[q(u,{size:"small",class:"generate-type-checkbox",modelValue:Q(b).symbol,"onUpdate:modelValue":n[9]||(n[9]=function(e){return Q(b).symbol=e}),label:"符号",tabindex:"-1",disabled:!Q(b).uppercase&&!Q(b).lowercase&&!Q(b).number,onChange:C,border:""},null,8,["modelValue","disabled"])]})),_:1})]})),_:1})]),W("div",na,[q(k,{size:"small",onChange:C,modelValue:Q(b).length,"onUpdate:modelValue":n[10]||(n[10]=function(e){return Q(b).length=e}),min:4,max:32,tabindex:"-1",ref:function(e){return Q(s).passwordFormGenerateRuleRef=e},"show-input":"","show-input-controls":!1},null,8,["modelValue"])])]})),_:1})]})),_:1}),q(r,{label:"标签"},{default:X((function(){return[q(V,{modelValue:Q(h).labels,"onUpdate:modelValue":n[11]||(n[11]=function(e){return Q(h).labels=e}),data:Q(c).labelArray,"node-key":"id","check-strictly":!0,props:{label:"name"},"default-expanded-keys":c.labelArray.map((function(e){return e.id})),multiple:"","show-checkbox":""},null,8,["modelValue","data","default-expanded-keys"])]})),_:1}),q(r,{label:"备注"},{default:X((function(){return[q(o,{type:"textarea",placeholder:"备注...",rows:2,autocomplete:"new-password",modelValue:Q(h).remark,"onUpdate:modelValue":n[12]||(n[12]=function(e){return Q(h).remark=e})},null,8,["modelValue"])]})),_:1}),Q(d).setting.passwordColor?(H(),Z(r,{key:0},{default:X((function(){return[(H(!0),J(ne,null,te(Q(d).setting.bgColors,(function(e){return H(),J("div",{onClick:function(n){return Q(h).bgColor===e?Q(h).bgColor="":Q(h).bgColor=e},style:me({"background-color":Q(L)(e,Q(h).bgColor===e?"0.5":"0.3"),transform:Q(h).bgColor===e?"scale(1.5)":"scale(1)"}),class:"bg-color-item"},[ye(W("span",oa,null,512),[[he,Q(h).bgColor===e]])],12,ta)})),256))]})),_:1})):ue("",!0)]})),_:1},8,["model","rules"]),W("div",ra,[q(l,{onClick:n[13]||(n[13]=function(e){return A(Q(s).passwordFormFormRef)}),ref:function(e){return Q(s).passwordFormSaveBtnRef=e},type:"primary"},{default:X((function(){return[$("保存")]})),_:1},512)])]})),_:1},8,["modelValue","size","direction"])}}}),la=b(aa,[["__scopeId","data-v-ffce58f2"]]),ia=function(e){return ae("data-v-99bcdadf"),e=e(),le(),e}((function(){return W("span",{class:"iconfont icon-risk"},null,-1)})),ua=b(j({__name:"CancelAccount",setup:function(e,n){var t=n.expose,o=l(),a=r(),i=G(!1),u=function(){console.log("准备注销账户 验证密码"),o.verifyPasswordRef.getAndVerify((function(e){return a.passwordManager.verifyPassword(e)})).then((function(){console.log("准备注销账户 发起注销"),a.passwordManager.closeAccount().then((function(e){console.log("准备注销账户 结果：",e.status),e.status?(be.success({title:"账户注销成功",message:"欢迎再次使用！"}),console.log("准备注销账户 退出登录"),a.logout()):be.error({title:"账户注销失败",message:e.message})}))}))};return t({showCloseAccount:function(){console.log("准备注销账户"),i.value=!0}}),function(e,n){var t=ke,o=ze,r=Fe,a=Ve;return H(),Z(a,{width:["xs"].includes(Q(p)().value)?"95%":"400px",modelValue:Q(i),"onUpdate:modelValue":n[1]||(n[1]=function(e){return oe(i)?i.value=e:null})},{header:X((function(){return[q(t,{size:"large",style:{"user-select":"none"}},{default:X((function(){return[ia,$(" 注销账户 ")]})),_:1})]})),footer:X((function(){return[q(r,{type:"primary",plain:"",onClick:n[0]||(n[0]=function(e){return i.value=!1})},{default:X((function(){return[$("我点错了")]})),_:1}),q(r,{type:"danger",onClick:u},{default:X((function(){return[$("确认注销")]})),_:1})]})),default:X((function(){return[q(o,{type:"error",closable:!1},{default:X((function(){return[$("注销账户将永久删除所有密码和标签且不可恢复，确认注销账户吗？")]})),_:1})]})),_:1},8,["width","modelValue"])}}}),[["__scopeId","data-v-99bcdadf"]]),sa={style:{display:"flex","justify-content":"space-between"}},ca=function(e){return ae("data-v-287aa2e9"),e=e(),le(),e}((function(){return W("span",{class:"iconfont icon-collect",style:{color:"#FF9700","margin-right":"8px","font-size":"110%"}},null,-1)})),da=b(j({__name:"FavoriteCard",setup:function(e){var n=r(),t=i();return function(e,o){var r=ke,a=an,l=_e,i=Br,u=on;return Q(t).setting.showFavoriteCard?(H(),Z(u,{key:0,class:"favorite-card",style:me({"background-color":Q(n).isDark?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)"})},{header:X((function(){return[W("div",sa,[W("div",null,[ca,q(r,{size:"large"},{default:X((function(){return[$("收藏")]})),_:1})]),W("div",null,[0!==Q(n).filterCondition.favoriteId?(H(),Z(l,{key:0,content:"收藏过滤生效中，点击取消",placement:"left"},{default:X((function(){return[q(a,{"is-dot":"",class:"item"},{default:X((function(){return[W("span",{onClick:o[0]||(o[0]=function(e){return Q(n).filterCondition.favoriteId=0}),class:"iconfont icon-filtration filter-icon"})]})),_:1})]})),_:1})):ue("",!0)])])]})),default:X((function(){return[q(i)]})),_:1},8,["style"])):ue("",!0)}}}),[["__scopeId","data-v-287aa2e9"]]),fa={style:{display:"flex","justify-content":"space-between"}},pa=function(e){return ae("data-v-0498bcba"),e=e(),le(),e}((function(){return W("span",{class:"iconfont icon-label",style:{color:"#409EFF","margin-right":"8px","font-size":"110%"}},null,-1)})),ga=b(j({__name:"LabelCard",setup:function(e){var n=r(),t=l(),o=i();return function(e,r){var a=ke,l=an,i=_e,u=Xr,s=on;return Q(o).setting.showLabelCard?(H(),Z(s,{key:0,class:"label-card",style:me({"background-color":Q(n).isDark?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)"}),header:"标签"},{header:X((function(){return[W("div",fa,[W("div",null,[pa,q(a,{size:"large"},{default:X((function(){return[$("标签")]})),_:1})]),W("div",null,[Q(n).filterCondition.labelArray.length?(H(),Z(i,{key:0,content:"标签过滤生效中，点击取消",placement:"left"},{default:X((function(){return[q(l,{"is-dot":"",class:"item"},{default:X((function(){return[W("span",{onClick:r[0]||(r[0]=function(e){return Q(t).labelTreeRef.setCheckedNodes([])}),class:"iconfont icon-filtration filter-icon"})]})),_:1})]})),_:1})):ue("",!0)])])]})),default:X((function(){return[q(u,{ref:function(e){return Q(t).labelTreeDivRef=e}},null,512)]})),_:1},8,["style"])):ue("",!0)}}}),[["__scopeId","data-v-0498bcba"]]),va=""+new URL("empty-Dnhuoe9-.svg",t.meta.url).href,ma=function(e){return ae("data-v-64ac58fd"),e=e(),le(),e},ya={class:"empty-list-div"},ha={key:0},ba=ma((function(){return W("span",{class:"iconfont icon-lock-close"},null,-1)})),wa=ma((function(){return W("div",{class:"status-tip"},"已锁定",-1)})),xa={key:1},_a=ma((function(){return W("img",{alt:"",src:va},null,-1)})),ka=ma((function(){return W("div",{class:"status-tip"},"这里一个密码都没有",-1)})),Ca=b(j({__name:"EmptyList",setup:function(e){var n=r(),t=l();return function(e,o){var r=Fe;return H(),J("div",ya,[Q(n).serviceStatus===Q(u).LOGGED?(H(),J("div",ha,[ba,wa,q(r,{style:{"margin-top":"30px"},onClick:o[0]||(o[0]=function(e){return Q(t).verifyPasswordRef.verifyAndUnlock()}),type:"primary",plain:""},{default:X((function(){return[$("解锁")]})),_:1})])):ue("",!0),Q(n).serviceStatus===Q(u).UNLOCKED?(H(),J("div",xa,[_a,ka,0===Q(n).passwordArray.length?(H(),Z(r,{key:0,onClick:o[1]||(o[1]=function(e){return Q(t).passwordFormRef.addPasswordForm()}),type:"primary",style:{"margin-top":"30px"},plain:""},{default:X((function(){return[$(" 添加我的第一个密码 ")]})),_:1})):ue("",!0)])):ue("",!0)])}}}),[["__scopeId","data-v-64ac58fd"]]),Aa=function(e){return ae("data-v-7988a419"),e=e(),le(),e},Fa=["onClick"],Va={class:"password-field-ul",style:{height:"100%"}},Sa={key:0,class:"empty-card"},Ra={key:1},Da=Aa((function(){return W("div",{class:"clear"},null,-1)})),Ea={key:2},Ta={class:"card-username-div"},Pa=["onClick"],Ma=Aa((function(){return W("div",{class:"clear"},null,-1)})),La={key:3},za={key:0,class:"card-password-span"},Ia={key:1,style:{position:"relative",top:"3px"}},Ua=["onClick"],Ba=["onClick"],Oa=Aa((function(){return W("div",{class:"clear"},null,-1)})),Na={key:4},ja=Aa((function(){return W("div",{class:"clear"},null,-1)})),Ka={key:5},Ya=Aa((function(){return W("div",{class:"clear"},null,-1)})),Ga=Aa((function(){return W("div",{class:"clear"},null,-1)})),Ha={style:{display:"flex","justify-content":"space-between"}},Ja=Aa((function(){return W("span",{class:"iconfont icon-delete card-opt-icon"},null,-1)})),Wa=Aa((function(){return W("span",{class:"iconfont icon-edit card-opt-icon"},null,-1)})),qa=Aa((function(){return W("span",{class:"iconfont icon-share card-opt-icon"},null,-1)})),Xa=b(j({__name:"PasswordCards",setup:function(e){var n=r(),t=l(),o=i(),a=G(0),u=function(e){var t=n.isDark?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.1)";return o.setting.passwordColor?{"background-color":L(e.bgColor,"0.06"),"border-bottom":e.bgColor?"1px solid "+L(e.bgColor,"0.06"):"1px solid "+t}:{"background-color":"rgba(0,0,0,0)","border-bottom":"1px solid "+t}};return function(e,r){var l=Ca,i=_e,s=ke,c=Ee,g=Ce,v=Fe,m=on,y=We;return H(),J(ne,null,[Q(n).visPasswordArray.length?ue("",!0):(H(),Z(l,{key:0})),Q(n).visPasswordArray.length?(H(),Z(y,{key:1,height:"calc(100vh - 85px)"},{default:X((function(){return[W("div",{style:me([{display:"grid",padding:"6px"},{"grid-template-columns":"repeat("+(["xs"].includes(p().value)?1:["sm","md"].includes(p().value)?2:["lg"].includes(p().value)?3:4)+", 1fr)"}])},[(H(!0),J(ne,null,te(Q(n).visPasswordArray,(function(e){return H(),J("div",null,[q(m,{"body-style":"height: 100%;",style:me({"background-color":Q(n).isDark?"rgba(0,0,0,0.1)":"rgba(255,255,255,0.1)"}),class:"password-card"},{header:X((function(){return[W("div",{class:"password-header-div",style:me(u(e))},[W("div",null,[Q(o).setting.showStrength&&e.password?(H(),Z(i,{key:0,content:Q(I)(e.password),placement:"top"},{default:X((function(){return[W("div",{class:"password-strength",style:me({"background-color":Q(U)(e.password)})},null,4)]})),_:2},1032,["content"])):ue("",!0),q(s,{style:{"font-size":"17px"}},{default:X((function(){return[$(ee(e.title),1)]})),_:2},1024)]),W("div",null,[q(i,{content:e.favorite?"取消收藏":"收藏",placement:"top"},{default:X((function(){return[W("span",{class:ve(["iconfont icon-favorited card-opt-icon",e.favorite?"icon-favorited":"icon-collect"]),style:me([{"font-size":"115%"},{color:e.favorite?"#FF9700":"rgb(255 151 0 / 75%)"}]),onClick:function(t){return function(e){console.log("收藏密码：",e.id),e.favorite=!e.favorite,e.favoriteTime=Date.now(),n.passwordManager.updatePassword(e)}(e)}},null,14,Fa)]})),_:2},1032,["content"])])],4)]})),footer:X((function(){return[W("div",Ha,[q(s,{type:"info",style:{"font-size":"80%"}},{default:X((function(){return[$(ee(Q(d)(e.updateTime,"YYYY-MM-DD HH:mm")),1)]})),_:2},1024),W("div",null,[q(i,{content:"删除",placement:"top"},{default:X((function(){return[q(v,{type:"danger",plain:"",size:"small",onClick:function(t){return function(e){console.log("card 删除密码：",e.id),je.confirm("确认删除“"+e.title+"”吗？","删除密码",{confirmButtonClass:"confirm-delete-btn",confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((function(){console.log("card 确认删除：",e.id),n.passwordManager.deletePassword(e.id).then((function(e){e.status||(console.log("card 删除密码异常：",e.message),be.error({title:"系统异常",message:e.message}))}))})).catch((function(){}))}(e)}},{default:X((function(){return[Ja]})),_:2},1032,["onClick"])]})),_:2},1024),q(i,{content:"修改",placement:"top"},{default:X((function(){return[q(v,{type:"primary",plain:"",size:"small",onClick:function(n){return Q(t).passwordFormRef.editPasswordForm(e)}},{default:X((function(){return[Wa]})),_:2},1032,["onClick"])]})),_:2},1024),q(i,{content:"分享",placement:"top"},{default:X((function(){return[q(v,{type:"success",plain:"",size:"small",onClick:function(n){return Q(B)(e)}},{default:X((function(){return[qa]})),_:2},1032,["onClick"])]})),_:2},1024)])])]})),default:X((function(){return[W("ul",Va,[e.address||e.username||e.password||e.remark||e.labels.length||e.customFields&&Object.keys(e.customFields).length>0?ue("",!0):(H(),J("li",Sa,[q(s,{style:{margin:"20px 0"}},{default:X((function(){return[$(" 空空如也！ ")]})),_:1})])),e.address?(H(),J("li",Ra,[q(s,{class:"password-field-name"},{default:X((function(){return[$("地址:")]})),_:1}),q(s,{class:"password-field-value"},{default:X((function(){return[Q(O)(e.address)?(H(),Z(c,{key:0,type:"primary",href:e.address,target:"_blank"},{default:X((function(){return[$(ee(e.address),1)]})),_:2},1032,["href"])):(H(),Z(s,{key:1},{default:X((function(){return[$(ee(e.address),1)]})),_:2},1024))]})),_:2},1024),Da])):ue("",!0),e.username?(H(),J("li",Ea,[q(s,{class:"password-field-name"},{default:X((function(){return[$("用户名:")]})),_:1}),q(s,{class:"password-field-value"},{default:X((function(){return[W("div",Ta,[$(ee(e.username)+" ",1),q(i,{content:"复制用户名",placement:"top","show-after":300,"hide-after":0},{default:X((function(){return[W("span",{class:"iconfont icon-copy password-row-icon copy-username",onClick:function(n){return Q(x)(e.username)}},null,8,Pa)]})),_:2},1024)])]})),_:2},1024),Ma])):ue("",!0),e.password?(H(),J("li",La,[q(s,{class:"password-field-name"},{default:X((function(){return[$("密码:")]})),_:1}),q(s,{class:"password-field-value"},{default:X((function(){return[Q(a)===e.id?(H(),J("span",za,ee(e.password),1)):(H(),J("span",Ia,"**********")),Q(a)===e.id?(H(),J("span",{key:2,class:"iconfont icon-hide password-card-icon",onClick:r[0]||(r[0]=function(e){return a.value=0})})):(H(),J("span",{key:3,class:"iconfont icon-show password-card-icon",onClick:function(n){return function(e){console.log("card 查看密码：",e.id),e.password.length>40?(console.log("card 查看密码 长度大于40"),t.showPasswordRef.showPassword(e),a.value=0):a.value=e.id}(e)}},null,8,Ua)),W("span",{class:"iconfont icon-copy password-card-icon",style:{},onClick:function(n){return Q(x)(e.password)}},null,8,Ba)]})),_:2},1024),Oa])):ue("",!0),e.remark?(H(),J("li",Na,[q(s,{class:"password-field-name"},{default:X((function(){return[$("备注:")]})),_:1}),q(s,{class:"password-field-value"},{default:X((function(){return[$(ee(e.remark),1)]})),_:2},1024),ja])):ue("",!0),e.labels.length?(H(),J("li",Ka,[q(s,{class:"password-field-name"},{default:X((function(){return[$("标签:")]})),_:1}),q(s,{class:"password-field-value"},{default:X((function(){return[(H(!0),J(ne,null,te(Q(f)(e),(function(e){return H(),Z(g,{class:"card-label"},{default:X((function(){return[$(ee(e.name),1)]})),_:2},1024)})),256))]})),_:2},1024),Ya])):ue("",!0),(H(!0),J(ne,null,te(e.customFields,(function(n){return H(),J("li",null,[q(s,{class:"password-field-name"},{default:X((function(){return[$(ee(n)+":",1)]})),_:2},1024),q(s,{class:"password-field-value"},{default:X((function(){return[$(ee(e.customFields[n]),1)]})),_:2},1024),Ga])})),256))])]})),_:2},1032,["style"])])})),256))],4)]})),_:1})):ue("",!0)],64)}}}),[["__scopeId","data-v-7988a419"]]),$a=function(e){return ae("data-v-6ce79486"),e=e(),le(),e},Qa={key:1,class:"password-card-table"},Za={key:0,class:"username-div"},el={class:"username-text"},nl=["onClick"],tl={key:0,class:"table-password-div"},ol={style:{width:"150px"}},rl={key:0,class:"table-password-span"},al={key:1,class:"table-password-symbol"},ll=["onClick"],il=["onClick"],ul={style:{display:"flex","justify-content":"space-evenly"}},sl=$a((function(){return W("span",{class:"iconfont icon-share table-opt-icon"},null,-1)})),cl=$a((function(){return W("span",{class:"iconfont icon-edit table-opt-icon"},null,-1)})),dl=$a((function(){return W("span",{class:"iconfont icon-favorited table-opt-icon",style:{color:"#FF9700"}},null,-1)})),fl=$a((function(){return W("span",{class:"iconfont icon-collect table-opt-icon",style:{color:"#FF9700"}},null,-1)})),pl=$a((function(){return W("span",{class:"iconfont icon-delete table-opt-icon"},null,-1)})),gl=b(j({__name:"PasswordTable",setup:function(e){var n=r(),t=l(),o=i(),a=G(0),u=function(e){e.favorite?(console.log("取消收藏密码"),e.favorite=!1):(console.log("收藏密码"),e.favorite=!0),e.favoriteTime=Date.now(),n.passwordManager.updatePassword(e)},s=function(e,n){var t=N(e.password),r=N(n.password);return t>r?o.setting.sortOrder===C.ASC?1:-1:t<r?o.setting.sortOrder===C.ASC?-1:1:0},c=function(e){return o.setting.passwordColor&&e.row.bgColor?{"background-color":L(e.row.bgColor,"0.1")}:{"background-color":"rgba(0,0,0,0)"}};return function(e,r){var l=Ca,i=_e,p=xe,g=Ee,v=ke,m=Ce,y=Ae;return H(),J(ne,null,[Q(n).visPasswordArray.length?ue("",!0):(H(),Z(l,{key:0})),Q(n).visPasswordArray.length?(H(),J("div",Qa,[q(y,{data:Q(n).visPasswordArray,ref:"passwordTableRef",height:"calc(100vh - 120px)",style:{"background-color":"rgba(0,0,0,0)"},"header-row-style":{"background-color":"rgba(0,0,0,0)"},"header-cell-style":{"background-color":"rgba(0,0,0,0)"},"row-style":c,"cell-style":{"background-color":"rgba(0,0,0,0)"}},{default:X((function(){return[Q(o).setting.showStrength?(H(),Z(p,{key:0,prop:"strength",width:"30px","sort-method":s,sortable:""},{default:X((function(e){return[q(i,{content:Q(I)(e.row.password),placement:"top"},{default:X((function(){return[W("div",{class:"password-strength",style:me({"background-color":Q(U)(e.row.password)})},null,4)]})),_:2},1032,["content"])]})),_:1})):ue("",!0),q(p,{label:"名称","min-width":"130px",sortable:"",prop:"title"}),q(p,{label:"地址","min-width":"200px",prop:"address"},{default:X((function(e){return[W("div",null,[Q(O)(e.row.address)?(H(),Z(g,{key:0,type:"primary",class:"address-link",href:e.row.address,target:"_blank"},{default:X((function(){return[$(ee(e.row.address),1)]})),_:2},1032,["href"])):(H(),Z(v,{key:1},{default:X((function(){return[$(ee(e.row.address),1)]})),_:2},1024))])]})),_:1}),q(p,{label:"用户名","min-width":"180px",sortable:"",prop:"username"},{default:X((function(e){return[e.row.username?(H(),J("div",Za,[W("div",el,ee(e.row.username),1),W("div",null,[W("span",{class:"iconfont icon-copy password-row-icon copy-username",onClick:function(n){return Q(x)(e.row.username)}},null,8,nl)])])):ue("",!0)]})),_:1}),q(p,{label:"密码",width:"220px",prop:"password"},{default:X((function(e){return[e.row.password?(H(),J("div",tl,[W("div",ol,[Q(a)===e.row.id?(H(),J("span",rl,ee(e.row.password),1)):ue("",!0),Q(a)!==e.row.id?(H(),J("span",al,"*******")):ue("",!0)]),W("div",null,[Q(a)===e.row.id?(H(),J("span",{key:0,class:"iconfont icon-hide password-row-icon",onClick:r[0]||(r[0]=function(e){return a.value=0})})):ue("",!0),Q(a)!==e.row.id?(H(),J("span",{key:1,class:"iconfont icon-show password-row-icon",onClick:function(n){return o=e.row,console.log("table 查看密码：",o.id),void(o.password.length>40?(console.log("table 查看密码 长度大于40"),t.showPasswordRef.showPassword(o),a.value=0):a.value=o.id);var o}},null,8,ll)):ue("",!0),W("span",{class:"iconfont icon-copy password-row-icon",onClick:function(n){return Q(x)(e.row.password)}},null,8,il)])])):ue("",!0)]})),_:1}),"addTime"===Q(o).setting.showTimeForTable?(H(),Z(p,{key:1,label:"添加时间","min-width":"150px",sortable:"",formatter:function(e){return Q(d)(e.addTime,"YYYY-MM-DD HH:mm")},prop:"addTime"},null,8,["formatter"])):ue("",!0),"updateTime"===Q(o).setting.showTimeForTable?(H(),Z(p,{key:2,label:"修改时间","min-width":"150px",sortable:"",formatter:function(e){return Q(d)(e.updateTime,"YYYY-MM-DD HH:mm")},prop:"updateTime"},null,8,["formatter"])):ue("",!0),Q(o).setting.showLabelForTable?(H(),Z(p,{key:3,label:"标签","min-width":"110px",prop:"labels"},{default:X((function(e){return[(H(!0),J(ne,null,te(Q(f)(e.row),(function(e){return H(),Z(m,{class:"table-label"},{default:X((function(){return[$(ee(e.name),1)]})),_:2},1024)})),256))]})),_:1})):ue("",!0),q(p,{label:"备注","min-width":"130px",prop:"remark"}),q(p,{label:"操作","min-width":"145px",width:"150px"},{default:X((function(e){return[W("div",ul,[q(i,{content:"分享",placement:"top"},{default:X((function(){return[q(g,{type:"success",onClick:function(n){return Q(B)(e.row)},underline:!1},{default:X((function(){return[sl]})),_:2},1032,["onClick"])]})),_:2},1024),q(i,{content:"修改",placement:"top"},{default:X((function(){return[q(g,{type:"primary",onClick:function(n){return Q(t).passwordFormRef.editPasswordForm(e.row)},underline:!1},{default:X((function(){return[cl]})),_:2},1032,["onClick"])]})),_:2},1024),q(i,{content:e.row.favorite?"取消收藏":"收藏",placement:"top"},{default:X((function(){return[e.row.favorite?(H(),Z(g,{key:0,type:"primary",onClick:function(n){return u(e.row)},underline:!1},{default:X((function(){return[dl]})),_:2},1032,["onClick"])):ue("",!0),e.row.favorite?ue("",!0):(H(),Z(g,{key:1,type:"primary",onClick:function(n){return u(e.row)},underline:!1},{default:X((function(){return[fl]})),_:2},1032,["onClick"]))]})),_:2},1032,["content"]),q(i,{content:"删除",placement:"top"},{default:X((function(){return[q(g,{type:"danger",onClick:function(t){return o=e.row,console.log("table 删除密码：",o.id),void je.confirm("确认删除“"+o.title+"”吗？","删除密码",{confirmButtonClass:"confirm-delete-btn",confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((function(){console.log("table 确认删除：",o.id),n.passwordManager.deletePassword(o.id).then((function(e){e.status||(console.log("table 删除密码异常：",e.message),be.error({title:"系统异常",message:e.message}))}))})).catch((function(){}));var o},underline:!1},{default:X((function(){return[pl]})),_:2},1032,["onClick"])]})),_:2},1024)])]})),_:1})]})),_:1},8,["data"])])):ue("",!0)],64)}}}),[["__scopeId","data-v-6ce79486"]]),vl=j({__name:"FilteringTip",setup:function(e){var n=r(),t=l(),o=i();return function(e,r){var a=ze;return H(),J(ne,null,[!n.filterCondition.favoriteId||o.setting.showFavoriteCard&&!["xs","sm"].includes(p().value)?ue("",!0):(H(),J("div",{key:0,style:me({"background-color":Q(n).isDark?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"})},[q(a,{"show-icon":"",center:"",type:"warning",title:"现在显示的是根据收藏筛选后的密码","close-text":"取消筛选",onClose:r[0]||(r[0]=function(e){return Q(n).filterCondition.favoriteId=0})})],4)),0===n.filterCondition.labelArray.length||o.setting.showLabelCard&&!["xs","sm"].includes(p().value)?ue("",!0):(H(),J("div",{key:1,style:me({"background-color":Q(n).isDark?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"})},[q(a,{"show-icon":"",center:"",type:"warning",title:"现在显示的是根据标签筛选后的密码","close-text":"取消筛选",onClose:r[1]||(r[1]=function(e){return Q(t).labelTreeRef.setCheckedNodes([])})})],4))],64)}}}),ml=function(e){return ae("data-v-e8aac54b"),e=e(),le(),e},yl={class:"password-card-header"},hl=ml((function(){return W("span",null," 共 ",-1)})),bl={class:"password-count"},wl=ml((function(){return W("span",null," 个密码 ",-1)})),xl={key:1,class:"hidden-xs-only",style:{height:"32px"}},_l=[ml((function(){return W("img",{alt:"",style:{height:"32px"},src:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719379989767'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='1845'%20width='256'%20height='256'%3e%3cpath%20d='M225.28%20163.84h573.44c45.056%200%2081.92%2036.864%2081.92%2081.92v450.56c0%2045.056-36.864%2081.92-81.92%2081.92H225.28c-45.056%200-81.92-36.864-81.92-81.92V245.76c0-45.056%2036.864-81.92%2081.92-81.92z%20m430.08%20450.56c79.872%200%20143.36-63.488%20143.36-143.36s-63.488-143.36-143.36-143.36-143.36%2063.488-143.36%20143.36%2063.488%20143.36%20143.36%20143.36z%20m0-81.92c34.816%200%2061.44-26.624%2061.44-61.44s-26.624-61.44-61.44-61.44-61.44%2026.624-61.44%2061.44%2026.624%2061.44%2061.44%2061.44z'%20fill='%2349c3ff'%20p-id='1847'%3e%3c/path%3e%3cpath%20d='M296.96%20307.2c22.528%200%2040.96%2018.432%2040.96%2040.96v81.92c0%2022.528-18.432%2040.96-40.96%2040.96s-40.96-18.432-40.96-40.96v-81.92c0-22.528%2018.432-40.96%2040.96-40.96z'%20fill='%23fff'%20p-id='1848'%3e%3c/path%3e%3c/svg%3e"},null,-1)}))],kl={style:{display:"flex"}},Cl={key:0,style:{"text-align":"center","margin-left":"-20px","margin-right":"-20px"},class:"clear-history"},Al={key:1},Fl=ml((function(){return W("span",{class:"iconfont icon-search search-input-icon"},null,-1)})),Vl={style:{display:"flex"}},Sl=ml((function(){return W("span",{class:"iconfont icon-list",style:{color:"#409eff","font-size":"130%"}},null,-1)})),Rl=ml((function(){return W("span",{class:"iconfont icon-card",style:{color:"#67c23a","font-size":"130%"}},null,-1)})),Dl=ml((function(){return W("span",{class:"iconfont icon-menu",style:{"font-size":"130%"}},null,-1)})),El=ml((function(){return W("span",{class:"iconfont icon-label menu-item",style:{color:"#409EFF"}},null,-1)})),Tl=ml((function(){return W("span",{class:"iconfont icon-collect menu-item",style:{color:"#FF9700"}},null,-1)})),Pl=ml((function(){return W("span",{class:"iconfont icon-card menu-item",style:{color:"#67c23a"}},null,-1)})),Ml=ml((function(){return W("span",{class:"iconfont icon-list menu-item",style:{color:"#409eff"}},null,-1)})),Ll=ml((function(){return W("span",{class:"iconfont icon-dark-mode menu-item",style:{color:"rgb(96 0 255)"}},null,-1)})),zl=ml((function(){return W("span",{class:"iconfont icon-right-mode menu-item",style:{color:"rgb(186 255 0)"}},null,-1)})),Il=ml((function(){return W("span",{class:"iconfont icon-setting menu-item",style:{color:"#409EFF"}},null,-1)})),Ul=ml((function(){return W("span",{class:"iconfont icon-recycle-bin menu-item",style:{color:"#E6A23C"}},null,-1)})),Bl=ml((function(){return W("span",{class:"iconfont icon-exit menu-item",style:{color:"#F56C6C"}},null,-1)})),Ol=b(j({__name:"PasswordHeader",setup:function(e){var n=r(),t=l(),o=i(),a=G(""),d=G(!1),f=function(e){console.log("header 过滤密码 searchText:",a.value," 触发方式："+e),n.filterCondition.searchText=a.value},g=function(e,n){if(e){console.log("header 自动补全：",e);var t=localStorage.getItem("searchHistory");if(t){var o=JSON.parse(t);if(o&&o.length>0){var r=e?o.filter((function(n){return n.includes(e)})):o,l=(r=r.slice(0,5)).map((function(e){return{value:e}}));return l.push({value:a.value,type:"cleanHistory"}),void n(l)}}n([])}else n([])},v=function(){console.log("header 清除搜索历史"),localStorage.removeItem("searchHistory")},m=null,y=function(){m&&clearTimeout(m),""!==a.value||d.value?m=setTimeout((function(){f("delayed")}),200):f("textBlank")},h=function(){console.log("header 添加密码"),t.passwordFormRef.addPasswordForm()},b=function(){console.log("header 解锁"),t.verifyPasswordRef.verifyAndUnlock()},w=function(){n.passwordManager.lock()},x=function(e){o.setting.passwordDisplayMode=e,n.passwordManager.syncSetting()},_=function(e){n.setTopicMode(e)},k=function(){t.recycleBinRef.openRecycleBin()};return function(e,r){var l=ke,i=Fe,m=tn,C=_e,A=$e,F=Qe,V=Ze,S=Be;return H(),J(ne,null,[W("div",yl,[W("div",null,[Q(o).setting.showPasswordStatistics?(H(),Z(l,{key:0,class:"hidden-sm-and-down password-title",style:{width:"300px"}},{default:X((function(){return[Q(n).visPasswordArray.length>0?(H(),J(ne,{key:0},[hl,W("span",bl,ee(Q(n).visPasswordArray.length),1),wl],64)):Q(n).passwordArray.length?ue("",!0):(H(),J(ne,{key:1},[$(" 没有保存的密码 ")],64))]})),_:1})):(H(),J("div",xl,_l))]),W("div",kl,[q(m,{modelValue:Q(a),"onUpdate:modelValue":r[1]||(r[1]=function(e){return oe(a)?a.value=e:null}),class:"search-input",clearable:"",placeholder:"搜索..",disabled:Q(n).serviceStatus!==Q(u).UNLOCKED,"fetch-suggestions":g,debounce:10,ref:function(e){return Q(t).searchInputRef=e},onChange:r[2]||(r[2]=function(e){return f("change")}),onClear:r[3]||(r[3]=function(e){return f("clear")}),onKeyup:[r[4]||(r[4]=ge((function(e){return f("inputEnter")}),["enter","native"])),y],onCompositionstart:r[5]||(r[5]=function(e){return d.value=!0}),onCompositionend:r[6]||(r[6]=function(e){return d.value=!1}),onBlur:r[7]||(r[7]=function(e){d.value=!1,function(){if(a.value&&a.value.trim()){console.log("header 保存搜索记录：",a.value);var e=[],n=localStorage.getItem("searchHistory");n&&(e=JSON.parse(n));var t=e.findIndex((function(e){return e===a.value.trim()}));t>-1&&(console.log("header 保存搜索记录 删除已存在的搜索历史"),e.splice(t,1)),e.unshift(a.value),e.length>100&&(e=e.splice(0,100)),localStorage.setItem("searchHistory",JSON.stringify(e))}}()})},{default:X((function(e){var n=e.item;return["cleanHistory"===n.type?(H(),J("div",Cl,[W("span",{onClick:v,class:"clear-history-text"},"清除搜索历史")])):(H(),J("div",Al,ee(n.value),1))]})),append:X((function(){return[q(i,{class:"search-btn",onClick:r[0]||(r[0]=function(e){return f("searchBtn")})},{default:X((function(){return[Fl]})),_:1})]})),_:1},8,["modelValue","disabled"])]),W("div",Vl,[q(i,{ref:function(e){return Q(t).createPasswordBtnRef=e},disabled:Q(n).serviceStatus!==Q(u).UNLOCKED,onClick:h,class:"add-password-btn",type:"primary",plain:""},{default:X((function(){return[$(" 创建密码 ")]})),_:1},8,["disabled"]),Q(n).serviceStatus===Q(u).UNLOCKED?(H(),Z(C,{key:0,content:"锁定"},{default:X((function(){return[q(i,{onClick:w,class:"lock-btn",plain:""},{default:X((function(){return[W("span",{class:"iconfont icon-lock",style:me([{"font-size":"120%"},{color:Q(n).isDark?"#ccc":"#666"}])},null,4)]})),_:1})]})),_:1})):ue("",!0),Q(n).serviceStatus===Q(u).LOGGED?(H(),Z(C,{key:1,content:"解锁"},{default:X((function(){return[q(i,{onClick:b,class:"unlock-btn",plain:""},{default:X((function(){return[W("span",{class:"iconfont icon-unlock",style:me([{"font-size":"120%"},{color:Q(n).isDark?"#ccc":"#666"}])},null,4)]})),_:1})]})),_:1})):ue("",!0),Q(o).setting.passwordDisplayMode===Q(s).CARD?(H(),Z(C,{key:2,content:"列表视图"},{default:X((function(){return[q(i,{onClick:r[8]||(r[8]=function(e){return x(Q(s).TABLE)}),ref:function(e){return Q(t).displayModeTableRef=e},class:"table-btn hidden-sm-and-down",plain:""},{default:X((function(){return[Sl]})),_:1},512)]})),_:1})):ue("",!0),Q(o).setting.passwordDisplayMode===Q(s).TABLE?(H(),Z(C,{key:3,content:"卡片视图"},{default:X((function(){return[q(i,{onClick:r[9]||(r[9]=function(e){return x(Q(s).CARD)}),ref:function(e){return Q(t).displayModeCardRef=e},class:"card-btn hidden-sm-and-down",plain:""},{default:X((function(){return[Rl]})),_:1},512)]})),_:1})):ue("",!0),q(V,{trigger:"click"},{dropdown:X((function(){return[q(F,null,{default:X((function(){var e,a,l;return[["xs","sm"].includes(Q(p)().value)||!Q(o).setting.showLabelCard?(H(),Z(A,{key:0,onClick:null===(e=Q(t).labelDrawer)||void 0===e?void 0:e.showLabelDrawer,disabled:Q(n).serviceStatus!==Q(u).UNLOCKED},{default:X((function(){return[El,$(" 标签 ")]})),_:1},8,["onClick","disabled"])):ue("",!0),["xs","sm"].includes(Q(p)().value)||!Q(o).setting.showFavoriteCard?(H(),Z(A,{key:1,onClick:null===(a=Q(t).favoriteDrawer)||void 0===a?void 0:a.showFavoriteDrawer,disabled:Q(n).serviceStatus!==Q(u).UNLOCKED},{default:X((function(){return[Tl,$(" 收藏 ")]})),_:1},8,["onClick","disabled"])):ue("",!0),Q(o).setting.passwordDisplayMode===Q(s).TABLE&&["xs","sm"].includes(Q(p)().value)?(H(),Z(A,{key:2,divided:["xs","sm"].includes(Q(p)().value)||!Q(o).setting.showFavoriteCard||!Q(o).setting.showLabelCard,onClick:r[10]||(r[10]=function(e){return Q(o).setting.passwordDisplayMode=Q(s).CARD})},{default:X((function(){return[Pl,$(" 卡片视图 ")]})),_:1},8,["divided"])):ue("",!0),Q(o).setting.passwordDisplayMode===Q(s).CARD&&["xs","sm"].includes(Q(p)().value)?(H(),Z(A,{key:3,onClick:r[11]||(r[11]=function(e){return Q(o).setting.passwordDisplayMode=Q(s).TABLE})},{default:X((function(){return[Ml,$(" 列表视图 ")]})),_:1})):ue("",!0),Q(n).isDark?ue("",!0):(H(),Z(A,{key:4,divided:["xs","sm"].includes(Q(p)().value),onClick:r[12]||(r[12]=function(e){return _(Q(c).DARK)})},{default:X((function(){return[Ll,$(" 深色主题 ")]})),_:1},8,["divided"])),Q(n).isDark?(H(),Z(A,{key:5,divided:["xs","sm"].includes(Q(p)().value),onClick:r[13]||(r[13]=function(e){return _(Q(c).LIGHT)})},{default:X((function(){return[zl,$(" 明亮主题 ")]})),_:1},8,["divided"])):ue("",!0),q(A,{divided:"",onClick:null===(l=Q(t).settingRef)||void 0===l?void 0:l.openSetting,disabled:Q(n).serviceStatus!==Q(u).UNLOCKED},{default:X((function(){return[Il,$(" 系统设置 ")]})),_:1},8,["onClick","disabled"]),q(A,{onClick:k,disabled:Q(n).serviceStatus!==Q(u).UNLOCKED},{default:X((function(){return[Ul,$(" 回收站 ")]})),_:1},8,["disabled"]),q(A,{divided:"",onClick:r[14]||(r[14]=function(e){return Q(n).logout()})},{default:X((function(){return[Bl,$(" 退出登录 ")]})),_:1})]})),_:1})]})),default:X((function(){return[q(i,{class:"menu-btn",style:me({color:Q(n).isDark?"#ccc":"#666"}),plain:""},{default:X((function(){return[Dl]})),_:1},8,["style"])]})),_:1})])]),q(S,{class:"password-head-body-line"})],64)}}}),[["__scopeId","data-v-e8aac54b"]]),Nl=function(e){return ae("data-v-08ca74c8"),e=e(),le(),e},jl={id:"contextmenu-ul"},Kl=Nl((function(){return W("span",{class:"iconfont icon-create",style:{color:"#409EFF"}},null,-1)})),Yl=Nl((function(){return W("span",{class:"iconfont icon-lock",style:{color:"#E6A23C"}},null,-1)})),Gl=Nl((function(){return W("span",{class:"iconfont icon-unlock",style:{color:"#E6A23C"}},null,-1)})),Hl=Nl((function(){return W("span",{class:"iconfont icon-list",style:{color:"#67C23A"}},null,-1)})),Jl=Nl((function(){return W("span",{class:"iconfont icon-card",style:{color:"#67C23A"}},null,-1)})),Wl=Nl((function(){return W("span",{class:"iconfont icon-label",style:{color:"#409EFF"}},null,-1)})),ql=Nl((function(){return W("span",{class:"iconfont icon-recycle-bin",style:{color:"#F56C6C"}},null,-1)})),Xl=b(j({__name:"Contextmenu",setup:function(e,n){var t=n.expose,o=r(),a=l(),c=i(),d=G({show:!1,x:0,y:0}),f=function(e){console.log("右键菜单，切换密码展示方式"),c.setting.passwordDisplayMode=e,o.passwordManager.syncSetting(),d.value.show=!1},p=function(){if(console.log("右键菜单，创建密码"),o.serviceStatus===u.UNLOCKED)return a.passwordFormRef.addPasswordForm(),void(d.value.show=!1);console.log("右键菜单，创建密码 需要解锁"),a.verifyPasswordRef.verifyAndUnlock().then((function(){a.passwordFormRef.addPasswordForm(),d.value.show=!1}))},g=function(){if(console.log("右键菜单，打开回收站"),o.serviceStatus===u.UNLOCKED)return a.recycleBinRef.openRecycleBin(),void(d.value.show=!1);console.log("右键菜单，打开回收站 需要解锁"),a.verifyPasswordRef.verifyAndUnlock().then((function(){a.recycleBinRef.openRecycleBin(),d.value.show=!1}))},v=function(){if(console.log("右键菜单，添加标签"),o.serviceStatus===u.UNLOCKED)return a.labelTreeDivRef.addLabel(null,"sub"),void(d.value.show=!1);console.log("右键菜单，添加标签 需要解锁"),a.verifyPasswordRef.verifyAndUnlock().then((function(){a.labelTreeDivRef.addLabel(null,"sub"),d.value.show=!1}))};return t({showContextmenu:function(e){console.log("显示右键菜单"),e.preventDefault(),d.value.x=e.clientX,d.value.y=e.clientY,d.value.show=!0},hideContextmenu:function(){d.value.show=!1}}),function(e,n){var t=on;return Q(d).show?(H(),J("div",{key:0,class:"contextmenu-div",style:me({top:Q(d).y+"px",left:Q(d).x+"px"})},[q(t,null,{default:X((function(){return[W("ul",jl,[W("li",{onClick:p},[Kl,$(" 创建密码 ")]),Q(o).serviceStatus===Q(u).LOGGED?(H(),J("li",{key:0,onClick:n[0]||(n[0]=function(e){return Q(a).verifyPasswordRef.verifyAndUnlock()})},[Yl,$(" 解锁 ")])):ue("",!0),Q(o).serviceStatus===Q(u).UNLOCKED?(H(),J("li",{key:1,onClick:n[1]||(n[1]=function(e){return Q(o).passwordManager.lock()})},[Gl,$(" 锁定 ")])):ue("",!0),Q(c).setting.passwordDisplayMode===Q(s).CARD?(H(),J("li",{key:2,onClick:n[2]||(n[2]=function(e){return f(Q(s).TABLE)})},[Hl,$(" 表格视图 ")])):ue("",!0),Q(c).setting.passwordDisplayMode===Q(s).TABLE?(H(),J("li",{key:3,onClick:n[3]||(n[3]=function(e){return f(Q(s).CARD)})},[Jl,$(" 卡片视图 ")])):ue("",!0),W("li",{onClick:v},[Wl,$(" 添加标签 ")]),W("li",{onClick:g},[ql,$(" 回收站 ")])])]})),_:1})],4)):ue("",!0)}}}),[["__scopeId","data-v-08ca74c8"]]);e("default",b(j({__name:"IndexPage",setup:function(e){var n=r(),t=l(),o=i();return K((function(){n.serviceStatus===u.LOGGED?(console.log("页面加载完成，验证并解锁"),t.verifyPasswordRef.verifyAndUnlock(),o.setting.autoUnlock||localStorage.removeItem("mainPassword")):n.serviceStatus===u.WAIT_INIT&&(console.log("页面加载完成，初始化主密码"),t.setPasswordRef.setMainPassword())})),["xs","sm"].includes(p().value)&&o.setting.passwordDisplayMode===s.TABLE&&(o.setting.passwordDisplayMode=s.CARD),function(e,r){var a=Ol,l=vl,i=gl,u=Xa,c=on,d=Te,f=ga,g=da,v=Pe,m=ua,y=la,h=Qr,b=jr,w=Lr,x=Sr,_=hr,k=vr,C=Vn,A=Fn,F=_n,V=xn,S=mn;return H(),J(ne,null,[["xs","sm"].includes(Q(p)().value)?(H(),J("div",{key:1,style:me([{"backdrop-filter":"blur(50px)",height:"100vh"},{"background-color":Q(n).isDark?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)"}])},[q(a),q(l),Q(o).setting.passwordDisplayMode===Q(s).TABLE?(H(),Z(i,{key:0})):ue("",!0),Q(o).setting.passwordDisplayMode===Q(s).CARD?(H(),Z(u,{key:1})):ue("",!0)],4)):(H(),J("div",{key:0,onClick:r[0]||(r[0]=function(e){return Q(t).contextmenuRef.hideContextmenu()}),onContextmenu:r[1]||(r[1]=pe((function(e){return Q(t).contextmenuRef.showContextmenu(e)}),["prevent"]))},[q(v,{class:"password-body-row"},{default:X((function(){return[q(d,{md:{span:Q(o).setting.showLabelCard||Q(o).setting.showFavoriteCard?18:24},lg:{span:Q(o).setting.showLabelCard||Q(o).setting.showFavoriteCard?20:24},xl:{span:Q(o).setting.showLabelCard||Q(o).setting.showFavoriteCard?21:24}},{default:X((function(){return[q(c,{class:"password-card","body-class":"password-card-body",style:me({"background-color":Q(n).isDark?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)"})},{default:X((function(){return[q(a),q(l),Q(o).setting.passwordDisplayMode===Q(s).TABLE?(H(),Z(i,{key:0})):ue("",!0),Q(o).setting.passwordDisplayMode===Q(s).CARD?(H(),Z(u,{key:1})):ue("",!0)]})),_:1},8,["style"])]})),_:1},8,["md","lg","xl"]),Q(o).setting.showLabelCard||Q(o).setting.showFavoriteCard?(H(),Z(d,{key:0,md:{span:6},lg:{span:4},xl:{span:3}},{default:X((function(){return[q(f),q(g)]})),_:1})):ue("",!0)]})),_:1})],32)),q(m,{ref:function(e){return Q(t).cancelAccountRef=e}},null,512),q(y,{ref:function(e){return Q(t).passwordFormRef=e}},null,512),q(h,{ref:function(e){return Q(t).labelDrawer=e}},null,512),q(b,{ref:function(e){return Q(t).favoriteDrawer=e}},null,512),q(w,{ref:function(e){return Q(t).recycleBinRef=e}},null,512),q(x,{ref:function(e){return Q(t).backupAndRecoveryRef=e}},null,512),q(_,{ref:function(e){return Q(t).setPasswordRef=e}},null,512),q(k,{ref:function(e){return Q(t).settingRef=e}},null,512),q(C,{ref:function(e){return Q(t).tourRef=e}},null,512),q(A,{ref:function(e){return Q(t).showPasswordRef=e}},null,512),q(F,{ref:function(e){return Q(t).exportExcelRef=e}},null,512),q(V,{ref:function(e){return Q(t).importExcelRef=e}},null,512),q(Xl,{ref:function(e){return Q(t).contextmenuRef=e}},null,512),q(S)],64)}}}),[["__scopeId","data-v-51c9399f"]]))}}}))}();
